module.exports=[2157,(e,t,r)=>{t.exports=e.x("node:fs",()=>require("node:fs"))},18352,(e,t,r)=>{t.exports=e.x("node:stream/web",()=>require("node:stream/web"))},41528,(e,t,r)=>{function a(e,t,r,a){return Math.round(e/r)+" "+a+(t>=1.5*r?"s":"")}t.exports=function(e,t){t=t||{};var r,s,n,i,o=typeof e;if("string"===o&&e.length>0){var l=e;if(!((l=String(l)).length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(c){var d=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*d;case"weeks":case"week":case"w":return 6048e5*d;case"days":case"day":case"d":return 864e5*d;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*d;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*d;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:break}}}return}if("number"===o&&isFinite(e)){return t.long?(s=Math.abs(r=e))>=864e5?a(r,s,864e5,"day"):s>=36e5?a(r,s,36e5,"hour"):s>=6e4?a(r,s,6e4,"minute"):s>=1e3?a(r,s,1e3,"second"):r+" ms":(i=Math.abs(n=e))>=864e5?Math.round(n/864e5)+"d":i>=36e5?Math.round(n/36e5)+"h":i>=6e4?Math.round(n/6e4)+"m":i>=1e3?Math.round(n/1e3)+"s":n+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},92509,(e,t,r)=>{t.exports=e.x("url",()=>require("url"))},88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},6461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},50377,e=>{"use strict";let t=[];function r(e,r,a,s){let n={timestamp:new Date().toISOString(),level:e,message:r,error:a,context:s,stack:a instanceof Error?a.stack:void 0};t.push(n),t.length>100&&t.shift();let i=`[${n.timestamp}] [${e.toUpperCase()}]`;console.log(`${i} ${r}`,s?JSON.stringify(s):""),a&&console.error(a)}e.s(["logger",0,{debug:(e,t)=>r("debug",e,void 0,t),info:(e,t)=>r("info",e,void 0,t),warn:(e,t,a)=>r("warn",e,t,a),error:(e,t,a)=>r("error",e,t,a),critical:(e,t,a)=>r("critical",e,t,a),firestoreError:(e,t,a,s)=>{r("error",`Firestore ${e} failed`,t,{userId:a,action:e,component:"Firestore",metadata:{documentId:s}})},apiError:(e,t,a,s)=>{r("error",`API ${t} ${e} failed`,a,{action:`${t} ${e}`,component:"API",metadata:{statusCode:s}})},getRecentLogs:(e=20)=>t.slice(-e),clearLogs:()=>{t.length=0}}])},79678,e=>{"use strict";var t=e.i(89171);let r=new Map,a={auth:{windowMs:6e4,maxRequests:5,message:"Too many authentication attempts. Please try again in a minute.",keyPrefix:"rl_auth_"},ai:{windowMs:6e4,maxRequests:20,message:"AI request limit reached. Please try again in a minute.",keyPrefix:"rl_ai_"},default:{windowMs:6e4,maxRequests:100,message:"Too many requests. Please try again later.",keyPrefix:"rl_"},leaderboard:{windowMs:6e4,maxRequests:30,message:"Leaderboard request limit reached. Please try again later.",keyPrefix:"rl_leaderboard_"}},s={windowMs:6e4,maxRequests:60,message:"Too many requests. Please try again later.",keyPrefix:"rl_"};function n(e,t={}){let a,i,o,{windowMs:l,maxRequests:c,keyPrefix:d}={...s,...t},u=(a=e.headers.get("x-forwarded-for"),i=e.headers.get("x-real-ip"),o=e.headers.get("cf-connecting-ip"),a?.split(",")[0]||i||o||"anonymous"),p=d||s.keyPrefix,m=`${p}${u}`,h=Date.now();.01>Math.random()&&function(){let e=Date.now();for(let[t,a]of r.entries())e>a.resetTime&&r.delete(t)}();let g=r.get(m);return!g||h>g.resetTime?(r.set(m,{count:1,resetTime:h+l}),{allowed:!0,remaining:c-1,resetTime:h+l,limit:c}):g.count>=c?{allowed:!1,remaining:0,resetTime:g.resetTime,limit:c}:(g.count++,{allowed:!0,remaining:c-g.count,resetTime:g.resetTime,limit:c})}function i(e,r={}){let a=n(e,r),{message:o}={...s,...r};if(!a.allowed){let e=Math.ceil((a.resetTime-Date.now())/1e3);return t.NextResponse.json({error:"Too Many Requests",message:o,retryAfter:e},{status:429,headers:{"Retry-After":e.toString(),"X-RateLimit-Limit":String(a.limit),"X-RateLimit-Remaining":"0","X-RateLimit-Reset":String(Math.ceil(a.resetTime/1e3))}})}let l=t.NextResponse.next();return l.headers.set("X-RateLimit-Limit",String(a.limit)),l.headers.set("X-RateLimit-Remaining",String(a.remaining)),l.headers.set("X-RateLimit-Reset",String(Math.ceil(a.resetTime/1e3))),l}e.s(["RATE_LIMIT_PRESETS",()=>a,"checkRateLimit",()=>n,"withRateLimit",()=>i])},24836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},81111,(e,t,r)=>{t.exports=e.x("node:stream",()=>require("node:stream"))},73638,e=>{"use strict";function t(e){return"string"!=typeof e?"":e.replace(/[<>]/g,"").replace(/\0/g,"").trim()}e.s(["sanitizePlainText",()=>t])},98086,e=>{"use strict";var t=e.i(47909),r=e.i(74017),a=e.i(96250),s=e.i(59756),n=e.i(61916),i=e.i(74677),o=e.i(69741),l=e.i(16795),c=e.i(87718),d=e.i(95169),u=e.i(47587),p=e.i(66012),m=e.i(70101),h=e.i(26937),g=e.i(10372),x=e.i(93695);e.i(52474);var f=e.i(220),R=e.i(85384),w=e.i(89171),y=e.i(79678),v=e.i(73638),T=e.i(50377);let E=`You are "Routine AI", a helpful assistant for a routine tracking app. You help users:
1. Create new tasks with titles, times, and schedules
2. Create goals with targets and deadlines
3. Mark tasks as complete
4. Provide motivation and productivity tips
5. Answer questions about habits and routines

When a user asks to create a task, respond with a JSON block like this:
\`\`\`json
{"action": "CREATE_TASK", "task": {"title": "Task name", "icon": "emoji", "startTime": "HH:MM", "endTime": "HH:MM", "timeBlock": "Morning|Afternoon|Evening|Night", "days": ["MON","TUE","WED","THU","FRI","SAT","SUN"]}}
\`\`\`

When a user asks to create a goal, respond with a JSON block like this:
\`\`\`json
{"action": "CREATE_GOAL", "goal": {"title": "Goal name", "description": "Description", "targetDate": "YYYY-MM-DD", "category": "Fitness|Health|Career|Personal|Education"}}
\`\`\`

When a user asks to complete/check/mark a task as done, find the matching task from their list and respond with:
\`\`\`json
{"action": "COMPLETE_TASK", "taskId": "the-task-id", "taskTitle": "Task name"}
\`\`\`

When providing motivation, be encouraging, specific to their tasks, and concise.
Always be friendly, professional, and supportive.`;async function k(e){let t=(0,y.withRateLimit)(e,{maxRequests:20,windowMs:6e4,message:"Too many chat requests. Please wait a moment."});if(t)return T.logger.warn("Rate limit exceeded for Groq chat",void 0,{action:"POST /api/ai/groq-chat"}),t;try{let t=await e.json(),r=(0,v.sanitizePlainText)(t.message),a=t.context,s=t.currentDate;if(!r)return w.NextResponse.json({error:"Message is required"},{status:400});let n=process.env.GROQ_API_KEY;if(!n)return w.NextResponse.json({error:"GROQ_API_KEY is not set"},{status:500});let i=new R.default({apiKey:n}),o=E;s&&(o+=`

CURRENT DATE: Today is ${s}. Use this as the reference for "today", "now", and any date-related queries.`),a?.tasks?.length&&(o+=`

User's current tasks (with IDs for completion):
${a.tasks.map(e=>`- [ID: ${e.id}] ${e.title} (${e.startTime}-${e.endTime})${e.isCompleted?" âœ… DONE":""}`).join("\n")}`),a?.goals?.length&&(o+=`

User's current goals:
${a.goals.map(e=>`- ${e.title}`).join("\n")}`);let l=await i.chat.completions.create({messages:[{role:"system",content:o},{role:"user",content:r}],model:"meta-llama/llama-4-scout-17b-16e-instruct",temperature:.7,max_completion_tokens:1024,top_p:1}),c=l.choices[0]?.message?.content||"",d=null,u=c.match(/```json\n([\s\S]*?)\n```/);if(u)try{d=JSON.parse(u[1])}catch(e){}return w.NextResponse.json({message:c,action:d})}catch(e){return T.logger.apiError("/api/ai/groq-chat","POST",e,500),w.NextResponse.json({error:e.message||"Failed to generate response"},{status:500})}}e.s(["POST",()=>k],66535);var q=e.i(66535);let b=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/ai/groq-chat/route",pathname:"/api/ai/groq-chat",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/ai/groq-chat/route.ts",nextConfigOutput:"",userland:q}),{workAsyncStorage:P,workUnitAsyncStorage:A,serverHooks:C}=b;function M(){return(0,a.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:A})}async function S(e,t,a){b.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/ai/groq-chat/route";R=R.replace(/\/index$/,"")||"/";let w=await b.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!w)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:y,params:v,nextConfig:T,parsedUrl:E,isDraftMode:k,prerenderManifest:q,routerServerContext:P,isOnDemandRevalidate:A,revalidateOnlyGenerated:C,resolvedPathname:M,clientReferenceManifest:S,serverActionsManifest:_}=w,N=(0,o.normalizeAppPath)(R),O=!!(q.dynamicRoutes[N]||q.routes[M]),j=async()=>((null==P?void 0:P.render404)?await P.render404(e,t,E,!1):t.end("This page could not be found"),null);if(O&&!k){let e=!!q.routes[M],t=q.dynamicRoutes[N];if(t&&!1===t.fallback&&!e){if(T.experimental.adapterPath)return await j();throw new x.NoFallbackError}}let $=null;!O||b.isDev||k||($="/index"===($=M)?"/":$);let I=!0===b.isDev||!O,D=O&&!I;_&&S&&(0,i.setManifestsSingleton)({page:R,clientReferenceManifest:S,serverActionsManifest:_});let U=e.method||"GET",H=(0,n.getTracer)(),L=H.getActiveScopeSpan(),F={params:v,prerenderManifest:q,renderOpts:{experimental:{authInterrupts:!!T.experimental.authInterrupts},cacheComponents:!!T.cacheComponents,supportsDynamicResponse:I,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:T.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a,s)=>b.onRequestError(e,t,a,s,P)},sharedContext:{buildId:y}},K=new l.NodeNextRequest(e),X=new l.NodeNextResponse(t),G=c.NextRequestAdapter.fromNodeNextRequest(K,(0,c.signalFromNodeResponse)(t));try{let i=async e=>b.handle(G,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=H.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${U} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${U} ${R}`)}),o=!!(0,s.getRequestMeta)(e,"minimalMode"),l=async s=>{var n,l;let c=async({previousCacheEntry:r})=>{try{if(!o&&A&&C&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(s);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let c=F.renderOpts.collectedTags;if(!O)return await (0,p.sendResponse)(K,X,n,F.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(n.headers);c&&(t[g.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,a=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await b.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:D,isOnDemandRevalidate:A})},!1,P),t}},d=await b.handleResponse({req:e,nextConfig:T,cacheKey:$,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:q,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:C,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:o});if(!O)return null;if((null==d||null==(n=d.value)?void 0:n.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",A?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),k&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let x=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return o&&O||x.delete(g.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||x.get("Cache-Control")||x.set("Cache-Control",(0,h.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(K,X,new Response(d.value.body,{headers:x,status:d.value.status||200})),null};L?await l(L):await H.withPropagatedContext(e.headers,()=>H.trace(d.BaseServerSpan.handleRequest,{spanName:`${U} ${R}`,kind:n.SpanKind.SERVER,attributes:{"http.method":U,"http.target":e.url}},l))}catch(t){if(t instanceof x.NoFallbackError||await b.onRequestError(e,t,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:D,isOnDemandRevalidate:A})},!1,P),O)throw t;return await (0,p.sendResponse)(K,X,new Response(null,{status:500})),null}}e.s(["handler",()=>S,"patchFetch",()=>M,"routeModule",()=>b,"serverHooks",()=>C,"workAsyncStorage",()=>P,"workUnitAsyncStorage",()=>A],98086)},19124,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__826cbbc8._.js"].map(t=>e.l(t))).then(()=>t(18870)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f08aa12c._.js.map
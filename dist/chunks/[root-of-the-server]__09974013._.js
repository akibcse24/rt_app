module.exports=[14747,(e,t,r)=>{t.exports=e.x("path",()=>require("path"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},22734,(e,t,r)=>{t.exports=e.x("fs",()=>require("fs"))},5365,(e,t,r)=>{t.exports=e.x("process",()=>require("process"))},27699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},92509,(e,t,r)=>{t.exports=e.x("url",()=>require("url"))},88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},6461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},55004,(e,t,r)=>{t.exports=e.x("tls",()=>require("tls"))},46786,(e,t,r)=>{t.exports=e.x("os",()=>require("os"))},4446,(e,t,r)=>{t.exports=e.x("net",()=>require("net"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50377,e=>{"use strict";let t=[];function r(e,r,a,i){let n={timestamp:new Date().toISOString(),level:e,message:r,error:a,context:i,stack:a instanceof Error?a.stack:void 0};t.push(n),t.length>100&&t.shift();let o=`[${n.timestamp}] [${e.toUpperCase()}]`;console.log(`${o} ${r}`,i?JSON.stringify(i):""),a&&console.error(a)}e.s(["logger",0,{debug:(e,t)=>r("debug",e,void 0,t),info:(e,t)=>r("info",e,void 0,t),warn:(e,t,a)=>r("warn",e,t,a),error:(e,t,a)=>r("error",e,t,a),critical:(e,t,a)=>r("critical",e,t,a),firestoreError:(e,t,a,i)=>{r("error",`Firestore ${e} failed`,t,{userId:a,action:e,component:"Firestore",metadata:{documentId:i}})},apiError:(e,t,a,i)=>{r("error",`API ${t} ${e} failed`,a,{action:`${t} ${e}`,component:"API",metadata:{statusCode:i}})},getRecentLogs:(e=20)=>t.slice(-e),clearLogs:()=>{t.length=0}}])},79678,e=>{"use strict";var t=e.i(89171);let r=new Map,a={auth:{windowMs:6e4,maxRequests:5,message:"Too many authentication attempts. Please try again in a minute.",keyPrefix:"rl_auth_"},ai:{windowMs:6e4,maxRequests:20,message:"AI request limit reached. Please try again in a minute.",keyPrefix:"rl_ai_"},default:{windowMs:6e4,maxRequests:100,message:"Too many requests. Please try again later.",keyPrefix:"rl_"},leaderboard:{windowMs:6e4,maxRequests:30,message:"Leaderboard request limit reached. Please try again later.",keyPrefix:"rl_leaderboard_"}},i={windowMs:6e4,maxRequests:60,message:"Too many requests. Please try again later.",keyPrefix:"rl_"};function n(e,t={}){let a,o,s,{windowMs:l,maxRequests:d,keyPrefix:u}={...i,...t},c=(a=e.headers.get("x-forwarded-for"),o=e.headers.get("x-real-ip"),s=e.headers.get("cf-connecting-ip"),a?.split(",")[0]||o||s||"anonymous"),p=u||i.keyPrefix,m=`${p}${c}`,h=Date.now();.01>Math.random()&&function(){let e=Date.now();for(let[t,a]of r.entries())e>a.resetTime&&r.delete(t)}();let g=r.get(m);return!g||h>g.resetTime?(r.set(m,{count:1,resetTime:h+l}),{allowed:!0,remaining:d-1,resetTime:h+l,limit:d}):g.count>=d?{allowed:!1,remaining:0,resetTime:g.resetTime,limit:d}:(g.count++,{allowed:!0,remaining:d-g.count,resetTime:g.resetTime,limit:d})}function o(e,r={}){let a=n(e,r),{message:s}={...i,...r};if(!a.allowed){let e=Math.ceil((a.resetTime-Date.now())/1e3);return t.NextResponse.json({error:"Too Many Requests",message:s,retryAfter:e},{status:429,headers:{"Retry-After":e.toString(),"X-RateLimit-Limit":String(a.limit),"X-RateLimit-Remaining":"0","X-RateLimit-Reset":String(Math.ceil(a.resetTime/1e3))}})}let l=t.NextResponse.next();return l.headers.set("X-RateLimit-Limit",String(a.limit)),l.headers.set("X-RateLimit-Remaining",String(a.remaining)),l.headers.set("X-RateLimit-Reset",String(Math.ceil(a.resetTime/1e3))),l}e.s(["RATE_LIMIT_PRESETS",()=>a,"checkRateLimit",()=>n,"withRateLimit",()=>o])},44614,e=>{"use strict";var t=e.i(89171),r=e.i(79678);function a(e,i="default"){let n="string"==typeof i?r.RATE_LIMIT_PRESETS[i]:{windowMs:i.windowMs||6e4,maxRequests:i.maxRequests||100,message:i.message,keyPrefix:i.identifier?`rl_${i.identifier}_`:"rl_"};return async a=>{let i=(0,r.checkRateLimit)(a,n);return i.allowed?e(a):t.NextResponse.json({success:!1,error:n.message||"Rate limit exceeded",code:"RATE_LIMIT_EXCEEDED",retryAfter:Math.ceil((i.resetTime-Date.now())/1e3)},{status:429,headers:{"Retry-After":String(Math.ceil((i.resetTime-Date.now())/1e3))}})}}function i(e,t){return async t=>{try{return await e(t)}catch(e){throw console.error("Function error:",e),e}}}e.i(50377),e.s(["withErrorHandling",()=>i,"withRateLimit",()=>a])},98709,e=>{"use strict";var t=e.i(47909),r=e.i(74017),a=e.i(96250),i=e.i(59756),n=e.i(61916),o=e.i(74677),s=e.i(69741),l=e.i(16795),d=e.i(87718),u=e.i(95169),c=e.i(47587),p=e.i(66012),m=e.i(70101),h=e.i(26937),g=e.i(10372),x=e.i(93695);e.i(52474);var f=e.i(220),R=e.i(89171),w=e.i(69983);e.i(48356);var y=e.i(10231),v=e.i(44614),E=e.i(50377);let T=(0,v.withErrorHandling)(async e=>{if(e.headers.get("authorization")!==`Bearer ${process.env.CRON_SECRET}`)return R.NextResponse.json({error:"Unauthorized",code:"UNAUTHORIZED_CRON"},{status:401});E.logger.info("Daily motivation cron job started",{action:"cron/daily-motivation"});let t=await (0,y.getDocs)((0,y.collection)(w.db,"users")),r=0,a=0,i=["Consistency is key! Every journey starts with a single step.","You are capable of amazing things. Keep pushing!","Small progress is still progress. Keep going!","Your potential is endless. Go do what you were created to do.","Discipline is choosing between what you want now and what you want most.","Success is the sum of small efforts repeated day in and day out.","Don't watch the clock; do what it does. Keep going!","The only way to do great work is to love what you do."];for(let e of t.docs)try{let t=e.id,a=i[Math.floor(Math.random()*i.length)],n=(0,y.doc)((0,y.collection)(w.db,"users",t,"notifications"));await (0,y.setDoc)(n,{type:"info",title:"Daily Motivation âœ¨",message:a,createdAt:new Date().toISOString(),read:!1}),r++}catch(e){a++,E.logger.warn("Failed to create notification for user",e)}return E.logger.info(`Daily motivation completed: ${r} notifications created, ${a} errors`,{action:"cron/daily-motivation",metadata:{notificationsCreated:r,errors:a}}),R.NextResponse.json({success:!0,message:"Daily motivation job completed",notificationsCreated:r,errors:a,timestamp:new Date().toISOString()})},{endpoint:"/api/cron/daily-motivation",method:"GET",skipRateLimit:!0});e.s(["GET",0,T,"dynamic",0,"force-dynamic"],10002);var q=e.i(10002);let A=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/cron/daily-motivation/route",pathname:"/api/cron/daily-motivation",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/cron/daily-motivation/route.ts",nextConfigOutput:"",userland:q}),{workAsyncStorage:C,workUnitAsyncStorage:b,serverHooks:S}=A;function P(){return(0,a.patchFetch)({workAsyncStorage:C,workUnitAsyncStorage:b})}async function _(e,t,a){A.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/cron/daily-motivation/route";R=R.replace(/\/index$/,"")||"/";let w=await A.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!w)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:y,params:v,nextConfig:E,parsedUrl:T,isDraftMode:q,prerenderManifest:C,routerServerContext:b,isOnDemandRevalidate:S,revalidateOnlyGenerated:P,resolvedPathname:_,clientReferenceManifest:k,serverActionsManifest:M}=w,D=(0,s.normalizeAppPath)(R),N=!!(C.dynamicRoutes[D]||C.routes[_]),I=async()=>((null==b?void 0:b.render404)?await b.render404(e,t,T,!1):t.end("This page could not be found"),null);if(N&&!q){let e=!!C.routes[_],t=C.dynamicRoutes[D];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await I();throw new x.NoFallbackError}}let O=null;!N||A.isDev||q||(O="/index"===(O=_)?"/":O);let j=!0===A.isDev||!N,L=N&&!j;M&&k&&(0,o.setManifestsSingleton)({page:R,clientReferenceManifest:k,serverActionsManifest:M});let $=e.method||"GET",H=(0,n.getTracer)(),U=H.getActiveScopeSpan(),F={params:v,prerenderManifest:C,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:j,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a,i)=>A.onRequestError(e,t,a,i,b)},sharedContext:{buildId:y}},K=new l.NodeNextRequest(e),X=new l.NodeNextResponse(t),z=d.NextRequestAdapter.fromNodeNextRequest(K,(0,d.signalFromNodeResponse)(t));try{let o=async e=>A.handle(z,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=H.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${$} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${$} ${R}`)}),s=!!(0,i.getRequestMeta)(e,"minimalMode"),l=async i=>{var n,l;let d=async({previousCacheEntry:r})=>{try{if(!s&&S&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await o(i);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let d=F.renderOpts.collectedTags;if(!N)return await (0,p.sendResponse)(K,X,n,F.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(n.headers);d&&(t[g.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,a=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await A.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:S})},!1,b),t}},u=await A.handleResponse({req:e,nextConfig:E,cacheKey:O,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:C,isRoutePPREnabled:!1,isOnDemandRevalidate:S,revalidateOnlyGenerated:P,responseGenerator:d,waitUntil:a.waitUntil,isMinimalMode:s});if(!N)return null;if((null==u||null==(n=u.value)?void 0:n.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(l=u.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",S?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),q&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let x=(0,m.fromNodeOutgoingHttpHeaders)(u.value.headers);return s&&N||x.delete(g.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||x.get("Cache-Control")||x.set("Cache-Control",(0,h.getCacheControlHeader)(u.cacheControl)),await (0,p.sendResponse)(K,X,new Response(u.value.body,{headers:x,status:u.value.status||200})),null};U?await l(U):await H.withPropagatedContext(e.headers,()=>H.trace(u.BaseServerSpan.handleRequest,{spanName:`${$} ${R}`,kind:n.SpanKind.SERVER,attributes:{"http.method":$,"http.target":e.url}},l))}catch(t){if(t instanceof x.NoFallbackError||await A.onRequestError(e,t,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:S})},!1,b),N)throw t;return await (0,p.sendResponse)(K,X,new Response(null,{status:500})),null}}e.s(["handler",()=>_,"patchFetch",()=>P,"routeModule",()=>A,"serverHooks",()=>S,"workAsyncStorage",()=>C,"workUnitAsyncStorage",()=>b],98709)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__09974013._.js.map
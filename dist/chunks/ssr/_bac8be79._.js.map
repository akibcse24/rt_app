{"version":3,"sources":["../../../../node_modules/styled-jsx/dist/index/index.js","../../../../node_modules/styled-jsx/style.js","../../../../src/components/LandingPage.tsx","../../../../src/components/ProgressBar.tsx","../../../../src/components/DayNavigation.tsx","../../../../src/components/TaskCard.tsx","../../../../src/components/TimeBlock.tsx","../../../../src/components/OnboardingTour.tsx","../../../../src/components/Accessibility.tsx","../../../../src/components/agent/SmartTaskInput.tsx","../../../../src/components/agent/SmartSuggestions.tsx","../../../../src/app/page.tsx","../../../../node_modules/lucide-react/src/icons/sunrise.ts","../../../../node_modules/lucide-react/src/icons/sun-medium.ts","../../../../node_modules/lucide-react/src/icons/arrow-right.ts","../../../../node_modules/lucide-react/src/icons/user.ts","../../../../node_modules/lucide-react/src/icons/cloud-sun.ts","../../../../node_modules/lucide-react/src/icons/sunset.ts","../../../../src/lib/agent/LocalIntelligence.ts","../../../../src/lib/nlpUtils.ts"],"sourcesContent":["require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n","module.exports = require('./dist/index').style\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { Button } from \"./ui/Button\";\nimport { Input } from \"./ui/Input\";\nimport { User, Lock, Mail, CheckCircle, Timer, Sparkles, Trophy, ArrowRight, Check } from \"lucide-react\";\n\n// --- Components for Landing Page Sections ---\n\nconst FeatureCard = ({ icon: Icon, title, description, color }: any) => (\n    <div className=\"group relative overflow-hidden rounded-3xl border border-border bg-card/50 p-8 transition-all hover:bg-card hover:shadow-2xl hover:shadow-purple-500/10\">\n        <div className={`absolute inset-0 bg-gradient-to-br ${color} opacity-0 transition-opacity group-hover:opacity-5`} />\n        <div className=\"mb-6 inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-muted transition-transform group-hover:scale-110\">\n            <Icon className=\"h-7 w-7 text-foreground\" />\n        </div>\n        <h3 className=\"mb-3 text-xl font-bold text-foreground\">{title}</h3>\n        <p className=\"text-muted-foreground leading-relaxed\">\n            {description}\n        </p>\n    </div>\n);\n\nconst StepCard = ({ number, title, description }: any) => (\n    <div className=\"relative flex flex-col items-center text-center p-6\">\n        <div className=\"mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-pink-500 text-2xl font-bold text-white shadow-lg shadow-purple-500/30\">\n            {number}\n        </div>\n        <h3 className=\"mb-3 text-xl font-bold text-foreground\">{title}</h3>\n        <p className=\"text-muted-foreground leading-relaxed max-w-xs\">\n            {description}\n        </p>\n    </div>\n);\n\n// --- Main Landing Page Component ---\n\nconst LandingPage: React.FC = () => {\n    const { login, register, loginWithGoogle, user } = useAuth();\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isRegistering, setIsRegistering] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    // --- Auth Handlers (copied from LoginScreen) ---\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(\"\");\n        setLoading(true);\n\n        if (!username || !password) {\n            setError(\"Please fill in all fields\");\n            setLoading(false);\n            return;\n        }\n\n        try {\n            if (isRegistering) {\n                await register(username, password);\n                // No verification needed for username auth\n            } else {\n                await login(username, password);\n            }\n        } catch (err: any) {\n            console.error(err);\n            switch (err.code) {\n                case \"auth/email-already-in-use\":\n                    setError(\"This username is already taken. Try another.\");\n                    break;\n                case \"auth/invalid-email\":\n                    setError(\"Invalid characters in username.\");\n                    break;\n                case \"auth/weak-password\":\n                    setError(\"Password should be at least 6 characters.\");\n                    break;\n                case \"auth/user-not-found\":\n                case \"auth/wrong-password\":\n                case \"auth/invalid-credential\":\n                    setError(\"Invalid username or password.\");\n                    break;\n                default:\n                    setError(err.message || \"An unexpected error occurred.\");\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleGoogleSignIn = async () => {\n        setError(\"\");\n        setLoading(true);\n        try {\n            await loginWithGoogle();\n        } catch (err: any) {\n            console.error(err);\n            if (err.code === \"auth/popup-closed-by-user\") {\n                setError(\"Sign in was cancelled.\");\n            } else {\n                setError(err.message || \"Failed to sign in with Google.\");\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n\n\n    return (\n        <div className=\"min-h-screen bg-background text-foreground overflow-x-hidden\">\n\n            {/* --- HERO SECTION --- */}\n            <section className=\"relative flex min-h-screen flex-col items-center justify-center px-4 py-20 lg:py-32\">\n                {/* Background Effects */}\n                <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-600/10 blur-[120px] rounded-full pointer-events-none\" />\n                <div className=\"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]\" />\n\n                <div className=\"container relative z-10 grid grid-cols-1 gap-12 lg:grid-cols-2 lg:gap-24 items-center\">\n\n                    {/* Hero Content */}\n                    <div className=\"flex flex-col items-center text-center lg:items-start lg:text-left space-y-8\">\n                        <div className=\"inline-flex items-center gap-2 rounded-full bg-purple-500/10 px-4 py-2 text-sm font-bold text-purple-600 dark:text-purple-300 border border-purple-500/20\">\n                            <Sparkles className=\"w-4 h-4 fill-purple-500\" />\n                            <span>AI-Powered Routine Tracker</span>\n                        </div>\n\n                        <h1 className=\"text-5xl md:text-7xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-br from-foreground to-foreground/60\">\n                            Master Your <br />\n                            <span className=\"text-purple-500\">Daily Flow</span>\n                        </h1>\n\n                        <p className=\"text-xl text-muted-foreground max-w-xl leading-relaxed\">\n                            Build rock-solid habits, track your progress, and achieve your goals with our intelligent focus engine and analytics.\n                        </p>\n\n                        <div className=\"flex flex-col sm:flex-row gap-4 w-full sm:w-auto\">\n                            <Button className=\"h-14 px-8 rounded-2xl bg-foreground text-background font-bold text-lg hover:opacity-90 transition-opacity\">\n                                Get Started <ArrowRight className=\"ml-2 w-5 h-5\" />\n                            </Button>\n                            <Button variant=\"ghost\" className=\"h-14 px-8 rounded-2xl font-bold text-lg border border-border hover:bg-muted\">\n                                Learn More\n                            </Button>\n                        </div>\n\n                        <div className=\"pt-8 flex items-center gap-8 text-muted-foreground\">\n                            <div className=\"flex items-center gap-2\">\n                                <Check className=\"w-5 h-5 text-green-500\" />\n                                <span>Free to start</span>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                                <Check className=\"w-5 h-5 text-green-500\" />\n                                <span>Focus Engine</span>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                                <Check className=\"w-5 h-5 text-green-500\" />\n                                <span>AI Insights</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Login/Signup Card */}\n                    <div className=\"w-full max-w-md mx-auto lg:ml-auto space-y-8\">\n                        <div className=\"rounded-3xl p-8 shadow-2xl bg-card/80 backdrop-blur-xl border border-border/50 ring-1 ring-border/50\">\n                            <div className=\"mb-8 text-center\">\n                                <h2 className=\"text-2xl font-bold text-foreground\">\n                                    {isRegistering ? \"Create your account\" : \"Welcome back\"}\n                                </h2>\n                                <p className=\"text-sm text-muted-foreground mt-2\">\n                                    {isRegistering\n                                        ? \"Start your journey to better habits today.\"\n                                        : \"Enter your details to access your dashboard.\"}\n                                </p>\n                            </div>\n\n                            {/* Google Sign In Button */}\n                            <Button\n                                type=\"button\"\n                                onClick={handleGoogleSignIn}\n                                disabled={loading}\n                                className=\"w-full h-12 bg-background hover:bg-muted text-foreground font-semibold rounded-xl mb-6 flex items-center justify-center gap-3 transition-all border border-border\"\n                            >\n                                <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                                    <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\n                                    <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\n                                    <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\n                                    <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\n                                </svg>\n                                Continue with Google\n                            </Button>\n\n                            <div className=\"relative mb-6\">\n                                <div className=\"absolute inset-0 flex items-center\">\n                                    <div className=\"w-full border-t border-border\"></div>\n                                </div>\n                                <div className=\"relative flex justify-center text-xs uppercase\">\n                                    <span className=\"bg-card px-3 text-muted-foreground font-medium\">Or continue with email</span>\n                                </div>\n                            </div>\n\n                            <form onSubmit={handleSubmit} className=\"space-y-5\">\n                                <Input\n                                    label=\"Username\"\n                                    type=\"text\"\n                                    required\n                                    placeholder=\"Username\"\n                                    value={username}\n                                    onChange={(e) => setUsername(e.target.value)}\n                                    leftIcon={<User className=\"w-4 h-4\" />}\n                                    className=\"bg-muted/50 border-border\"\n                                />\n                                <div className=\"space-y-1\">\n                                    <Input\n                                        label=\"Password\"\n                                        type=\"password\"\n                                        required\n                                        placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        leftIcon={<Lock className=\"w-4 h-4\" />}\n                                        className=\"bg-muted/50 border-border\"\n                                    />\n                                    {isRegistering && <p className=\"text-xs text-muted-foreground ml-1\">Must be at least 6 characters</p>}\n                                </div>\n\n                                {error && (\n                                    <div className=\"p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-600 dark:text-red-400\">\n                                        {error}\n                                    </div>\n                                )}\n\n                                <Button\n                                    type=\"submit\"\n                                    disabled={loading}\n                                    className=\"w-full h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:opacity-90 transition-all font-bold rounded-xl text-white shadow-lg shadow-purple-500/20\"\n                                >\n                                    {loading ? \"Processing...\" : isRegistering ? \"Create Account\" : \"Sign In\"}\n                                </Button>\n                            </form>\n\n                            <div className=\"mt-6 text-center\">\n                                <p className=\"text-sm text-muted-foreground\">\n                                    {isRegistering ? \"Already have an account? \" : \"New to Routine Tracker? \"}\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setIsRegistering(!isRegistering)}\n                                        className=\"font-bold text-purple-500 hover:text-purple-400 transition-colors\"\n                                    >\n                                        {isRegistering ? \"Sign In\" : \"Sign Up Free\"}\n                                    </button>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            {/* --- FEATURES SECTION --- */}\n            <section className=\"py-24 bg-muted/30 border-y border-border\">\n                <div className=\"container mx-auto px-4\">\n                    <div className=\"text-center mb-16 max-w-3xl mx-auto\">\n                        <h2 className=\"text-3xl md:text-5xl font-bold mb-6 tracking-tight\">Everything you need to <span className=\"text-purple-500\">excel</span></h2>\n                        <p className=\"text-lg text-muted-foreground\">Our comprehensive suite of tools helps you manage time, track habits, and stay motivated every single day.</p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                        <FeatureCard\n                            icon={Timer}\n                            title=\"Focus Engine\"\n                            description=\"Immersive timer with ambient sounds to help you enter deep work states effortlessly.\"\n                            color=\"from-blue-500/20 to-cyan-500/20\"\n                        />\n                        <FeatureCard\n                            icon={Trophy}\n                            title=\"Gamified Leaderboard\"\n                            description=\"Compete with friends and the global community. Earn streaks, badges, and rewards.\"\n                            color=\"from-yellow-500/20 to-orange-500/20\"\n                        />\n                        <FeatureCard\n                            icon={Sparkles}\n                            title=\"AI Assistant\"\n                            description=\"Smart insights about your productivity patterns and personalized routine suggestions.\"\n                            color=\"from-purple-500/20 to-pink-500/20\"\n                        />\n                    </div>\n                </div>\n            </section>\n\n            {/* --- HOW IT WORKS SECTION --- */}\n            <section className=\"py-24 bg-background\">\n                <div className=\"container mx-auto px-4\">\n                    <div className=\"text-center mb-16\">\n                        <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">How it works</h2>\n                        <p className=\"text-muted-foreground\">Three simple steps to a better you.</p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12 relative\">\n                        {/* Connection Lines (Desktop only) */}\n                        <div className=\"hidden md:block absolute top-14 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-purple-500/0 via-purple-500/20 to-purple-500/0\" />\n\n                        <StepCard\n                            number=\"1\"\n                            title=\"Create Routines\"\n                            description=\"Set up your daily habits and organize them into time blocks like Morning, Afternoon, and Night.\"\n                        />\n                        <StepCard\n                            number=\"2\"\n                            title=\"Track & Focus\"\n                            description=\"Use the Focus Engine to execute tasks without distractions and mark them as complete.\"\n                        />\n                        <StepCard\n                            number=\"3\"\n                            title=\"Analyze Growth\"\n                            description=\"View detailed analytics, maintain your streak, and climb the leaderboard.\"\n                        />\n                    </div>\n                </div>\n            </section>\n\n            {/* --- FOOTER --- */}\n            <footer className=\"py-12 border-t border-border bg-muted/20\">\n                <div className=\"container mx-auto px-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-3 mb-6\">\n                        <div className=\"h-8 w-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold\">\n                            RT\n                        </div>\n                        <span className=\"text-xl font-bold\">Routine Tracker</span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mb-8 text-center max-w-sm mx-auto\">\n                        Designed to help you build consistency and achieve your full potential.\n                    </p>\n                    <div className=\"text-xs text-muted-foreground/60 font-medium uppercase tracking-widest\">\n                        ¬© 2026 Routine Tracker. All rights reserved.\n                    </div>\n                </div>\n            </footer>\n\n        </div>\n    );\n};\n\nexport { LandingPage };\n","\"use client\";\n\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { format } from \"date-fns\";\nimport { useTask } from \"@/context/TaskContext\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { Button } from \"./ui/Button\";\nimport { Plus, RotateCcw, Calendar as CalendarIcon, Activity, Sparkles, Clock, Trophy, Zap } from \"lucide-react\";\nimport { useConfirm } from \"./ui/ConfirmDialog\";\n\ninterface ProgressBarProps {\n  onAddTask: () => void;\n}\n\n// Time-based greetings with emojis\nconst getTimeBasedGreeting = (hour: number, progress: number, userName?: string): { title: string; subtitle: string } => {\n  const name = userName ? `, ${userName.split(\" \")[0]}` : \"\";\n\n  // Perfect day celebration\n  if (progress === 100) {\n    return {\n      title: `Champion Mode! üèÜ`,\n      subtitle: `You've conquered today${name}! Time to celebrate your wins.`\n    };\n  }\n\n  // Time-based greetings\n  if (hour >= 5 && hour < 12) {\n    return {\n      title: `Rise & Shine${name}! ‚òÄÔ∏è`,\n      subtitle: \"Fresh start, fresh opportunities. Let's make today count!\"\n    };\n  } else if (hour >= 12 && hour < 17) {\n    return {\n      title: `Keep Pushing${name}! üí™`,\n      subtitle: \"Afternoon hustle mode activated. You're doing great!\"\n    };\n  } else if (hour >= 17 && hour < 21) {\n    return {\n      title: `Almost There${name}! üåÖ`,\n      subtitle: \"Evening wind-down approaching. Finish strong!\"\n    };\n  } else {\n    return {\n      title: `Night Owl${name}! üåô`,\n      subtitle: \"Burning the midnight oil? Rest is productive too.\"\n    };\n  }\n};\n\n// Motivational quotes\nconst quotes = [\n  \"Small steps every day lead to big changes.\",\n  \"Consistency beats intensity. Keep showing up.\",\n  \"Your future self will thank you for this.\",\n  \"Progress, not perfection.\",\n  \"Every task completed is a victory.\",\n  \"Build the life you want, one routine at a time.\",\n  \"Discipline is choosing what you want most over what you want now.\",\n  \"The secret of getting ahead is getting started.\"\n];\n\nconst ProgressBar: React.FC<ProgressBarProps> = ({ onAddTask }) => {\n  const { dailyProgress, completedTasksToday, totalTasksToday, todayDate, resetDay, tasks } = useTask();\n  const { user } = useAuth();\n  const { confirm, ConfirmDialogComponent } = useConfirm();\n  const [showCelebration, setShowCelebration] = useState(false);\n  const [currentQuoteIndex, setCurrentQuoteIndex] = useState(0);\n  const [animatedProgress, setAnimatedProgress] = useState(0);\n\n  const radius = 42;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset = circumference - (animatedProgress / 100) * circumference;\n\n  // Animate progress on mount/change\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setAnimatedProgress(dailyProgress);\n    }, 100);\n    return () => clearTimeout(timer);\n  }, [dailyProgress]);\n\n  // Celebration effect when reaching 100%\n  useEffect(() => {\n    if (dailyProgress === 100 && totalTasksToday > 0) {\n      setShowCelebration(true);\n      const timer = setTimeout(() => setShowCelebration(false), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [dailyProgress, totalTasksToday]);\n\n  // Rotate quotes every 10 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentQuoteIndex((prev) => (prev + 1) % quotes.length);\n    }, 10000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Get current hour for time-based greeting\n  const currentHour = new Date().getHours();\n  const greeting = getTimeBasedGreeting(currentHour, dailyProgress, user?.displayName || undefined);\n\n  // Find next upcoming task\n  const nextTask = useMemo(() => {\n    const now = new Date();\n    const currentTime = format(now, \"HH:mm\");\n    const todayDayName = format(now, \"EEE\").toUpperCase();\n\n    const upcomingTasks = tasks\n      .filter(task => task.days.includes(todayDayName) && task.startTime > currentTime)\n      .sort((a, b) => a.startTime.localeCompare(b.startTime));\n\n    return upcomingTasks[0] || null;\n  }, [tasks]);\n\n  // Calculate time until next task\n  const timeUntilNext = useMemo(() => {\n    if (!nextTask) return null;\n\n    const now = new Date();\n    const [hours, mins] = nextTask.startTime.split(\":\").map(Number);\n    const taskTime = new Date();\n    taskTime.setHours(hours, mins, 0, 0);\n\n    const diffMs = taskTime.getTime() - now.getTime();\n    if (diffMs <= 0) return null;\n\n    const diffMins = Math.floor(diffMs / 60000);\n    if (diffMins < 60) return `${diffMins}m`;\n    const diffHours = Math.floor(diffMins / 60);\n    const remainingMins = diffMins % 60;\n    return `${diffHours}h ${remainingMins}m`;\n  }, [nextTask]);\n\n  return (\n    <div className=\"relative w-full overflow-hidden rounded-[2rem] sm:rounded-[3rem] bg-gradient-to-br from-purple-600 via-purple-500 to-pink-500 p-6 sm:p-8 lg:p-10 text-white shadow-[0_20px_50px_rgba(168,85,247,0.3)] mb-6 sm:mb-10 transition-transform duration-500 hover:scale-[1.005]\">\n\n      {/* Celebration Confetti Effect */}\n      {showCelebration && (\n        <div className=\"absolute inset-0 pointer-events-none z-20 overflow-hidden\">\n          {[...Array(30)].map((_, i) => (\n            <div\n              key={i}\n              className=\"absolute animate-confetti\"\n              style={{\n                left: `${Math.random() * 100}%`,\n                top: `-10%`,\n                animationDelay: `${Math.random() * 2}s`,\n                animationDuration: `${2 + Math.random() * 2}s`\n              }}\n            >\n              {[\"üéâ\", \"‚ú®\", \"üåü\", \"üí´\", \"üèÜ\", \"‚≠ê\"][Math.floor(Math.random() * 6)]}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Animated Mesh Background with Sparkles */}\n      <div className=\"absolute inset-0 opacity-20\" style={{\n        backgroundImage: `radial-gradient(circle at 2px 2px, white 1px, transparent 0)`,\n        backgroundSize: '40px 40px'\n      }} />\n\n      {/* Floating Particles */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        {[...Array(6)].map((_, i) => (\n          <div\n            key={i}\n            className=\"absolute w-2 h-2 bg-white/30 rounded-full animate-float\"\n            style={{\n              left: `${15 + i * 15}%`,\n              top: `${20 + (i % 3) * 25}%`,\n              animationDelay: `${i * 0.5}s`,\n              animationDuration: `${3 + i}s`\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Glowing Orbs */}\n      <div className=\"absolute top-0 right-0 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-white/10 blur-[80px] sm:blur-[100px] rounded-full -mr-10 sm:-mr-20 -mt-10 sm:-mt-20 pointer-events-none animate-pulse-slow\" />\n      <div className=\"absolute bottom-0 left-0 w-32 sm:w-48 lg:w-64 h-32 sm:h-48 lg:h-64 bg-black/20 blur-[60px] sm:blur-[80px] rounded-full -ml-10 sm:-ml-20 -mb-10 sm:-mb-20 pointer-events-none\" />\n\n      <div className=\"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6 sm:gap-8 lg:gap-10\">\n        <div className=\"space-y-4 sm:space-y-6 flex-1\">\n          {/* Date Badge */}\n          <div className=\"flex items-center gap-3 bg-white/10 backdrop-blur-md w-fit px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl border border-white/10\">\n            <CalendarIcon className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-white/90\" />\n            <span className=\"text-[10px] sm:text-xs font-bold tracking-[0.1em] uppercase\">\n              {format(todayDate, \"EEE, MMM d, yyyy\")}\n            </span>\n          </div>\n\n          {/* Dynamic Greeting */}\n          <div className=\"space-y-1 sm:space-y-2\">\n            <h2 className=\"text-3xl sm:text-5xl lg:text-6xl font-black tracking-tighter leading-none\">\n              {greeting.title}\n            </h2>\n            <p className=\"text-white/70 font-medium text-sm sm:text-base lg:text-lg max-w-md\">\n              {greeting.subtitle}\n            </p>\n          </div>\n\n          {/* Rotating Quote */}\n          <div className=\"flex items-start gap-2 bg-white/5 backdrop-blur-sm rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-white/10 max-w-md\">\n            <Sparkles className=\"w-4 h-4 sm:w-5 sm:h-5 text-yellow-300 shrink-0 mt-0.5\" />\n            <p className=\"text-xs sm:text-sm text-white/80 italic leading-relaxed transition-opacity duration-500\">\n              \"{quotes[currentQuoteIndex]}\"\n            </p>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-wrap gap-3 sm:gap-4 pt-1 sm:pt-2\">\n            <Button\n              onClick={onAddTask}\n              className=\"bg-white text-purple-600 hover:bg-white/90 font-black px-5 sm:px-8 h-11 sm:h-14 rounded-xl sm:rounded-2xl border-0 shadow-2xl transition-all active:scale-95 text-sm sm:text-base\"\n            >\n              <Plus className=\"mr-1.5 sm:mr-2 h-5 w-5 sm:h-6 sm:w-6\" /> Create Task\n            </Button>\n            <Button\n              variant=\"ghost\"\n              onClick={async () => {\n                const confirmed = await confirm({\n                  title: \"Reset all tasks for today?\",\n                  description: \"This will uncheck all completed tasks for today. This action cannot be undone.\",\n                  confirmText: \"Reset Today\",\n                  cancelText: \"Cancel\",\n                  type: \"warning\"\n                });\n                if (confirmed) resetDay();\n              }}\n              className=\"bg-white/10 hover:bg-white/20 text-white font-bold border border-white/20 h-11 sm:h-14 rounded-xl sm:rounded-2xl px-4 sm:px-6 backdrop-blur-sm text-sm sm:text-base\"\n            >\n              <RotateCcw className=\"mr-1.5 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5\" /> Reset Today\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats Card with Glassmorphism */}\n        <div className=\"flex flex-col sm:flex-row lg:flex-col xl:flex-row items-stretch sm:items-center gap-4 sm:gap-6 lg:gap-8 bg-black/20 backdrop-blur-2xl p-5 sm:p-6 lg:p-8 rounded-[1.5rem] sm:rounded-[2rem] lg:rounded-[2.5rem] border border-white/10 shadow-inner\">\n\n          {/* Animated Progress Ring */}\n          <div className=\"relative flex items-center justify-center mx-auto sm:mx-0\">\n            <div className={`absolute inset-0 bg-white/10 rounded-full blur-xl transition-opacity duration-1000 ${dailyProgress > 50 ? 'opacity-100 animate-pulse-slow' : 'opacity-0'}`} />\n            <svg className=\"h-24 w-24 sm:h-28 sm:w-28 lg:h-32 lg:w-32 -rotate-90 transform\">\n              <circle\n                className=\"text-white/10\"\n                strokeWidth=\"8\"\n                stroke=\"currentColor\"\n                fill=\"transparent\"\n                r={radius}\n                cx=\"50%\"\n                cy=\"50%\"\n              />\n              <circle\n                className=\"text-white transition-all duration-[2000ms] ease-out\"\n                strokeWidth=\"8\"\n                strokeDasharray={circumference}\n                strokeDashoffset={strokeDashoffset}\n                strokeLinecap=\"round\"\n                stroke=\"currentColor\"\n                fill=\"transparent\"\n                r={radius}\n                cx=\"50%\"\n                cy=\"50%\"\n                style={{ filter: 'drop-shadow(0 0 12px rgba(255,255,255,0.6))' }}\n              />\n            </svg>\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n              <span className=\"text-2xl sm:text-3xl font-black\">{Math.round(animatedProgress)}%</span>\n            </div>\n          </div>\n\n          {/* Stats & Next Task */}\n          <div className=\"flex flex-col gap-3 sm:gap-4 flex-1 min-w-0\">\n            {/* Completion Stats */}\n            <div className=\"space-y-1\">\n              <p className=\"text-[9px] sm:text-[10px] font-black uppercase tracking-[0.2em] text-white/50\">Completion</p>\n              <div className=\"flex items-end gap-1.5 sm:gap-2\">\n                <span className=\"text-3xl sm:text-4xl lg:text-5xl font-black tabular-nums\">{completedTasksToday}</span>\n                <span className=\"text-lg sm:text-xl lg:text-2xl font-bold text-white/30 mb-0.5 sm:mb-1\">/ {totalTasksToday}</span>\n              </div>\n            </div>\n\n            {/* Status Badge */}\n            <div className=\"flex items-center gap-2 group\">\n              <div className={`flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full transition-all ${dailyProgress === 100 && totalTasksToday > 0\n                ? \"bg-yellow-500/20 text-yellow-400 animate-pulse\"\n                : \"bg-green-500/20 text-green-400\"\n                } group-hover:scale-110`}>\n                {dailyProgress === 100 && totalTasksToday > 0 ? (\n                  <Trophy className=\"w-3 h-3 sm:w-3.5 sm:h-3.5\" />\n                ) : (\n                  <Activity className=\"w-3 h-3 sm:w-3.5 sm:h-3.5\" />\n                )}\n              </div>\n              <span className={`text-[9px] sm:text-[10px] font-bold uppercase tracking-widest ${dailyProgress === 100 && totalTasksToday > 0 ? \"text-yellow-400\" : \"text-green-400\"\n                }`}>\n                {completedTasksToday === totalTasksToday && totalTasksToday > 0 ? \"Perfect Day!\" : \"In Progress\"}\n              </span>\n            </div>\n\n            {/* Next Task Preview */}\n            {nextTask && (\n              <div className=\"flex items-center gap-2 bg-white/5 rounded-xl sm:rounded-2xl p-2.5 sm:p-3 border border-white/10 mt-1\">\n                <div className=\"flex h-8 w-8 sm:h-9 sm:w-9 items-center justify-center rounded-xl bg-white/10 text-base sm:text-lg shrink-0\">\n                  {nextTask.icon}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-[10px] sm:text-xs font-bold text-white truncate\">{nextTask.title}</p>\n                  <div className=\"flex items-center gap-1 text-white/50\">\n                    <Clock className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\n                    <span className=\"text-[9px] sm:text-[10px] font-semibold\">\n                      {nextTask.startTime} ‚Ä¢ in {timeUntilNext}\n                    </span>\n                  </div>\n                </div>\n                <Zap className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-400 shrink-0\" />\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* CSS Animations */}\n      <style jsx>{`\n        @keyframes float {\n          0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }\n          50% { transform: translateY(-20px) rotate(180deg); opacity: 0.6; }\n        }\n        @keyframes confetti {\n          0% { transform: translateY(0) rotate(0deg); opacity: 1; }\n          100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }\n        }\n        @keyframes pulse-slow {\n          0%, 100% { opacity: 0.6; }\n          50% { opacity: 1; }\n        }\n        .animate-float {\n          animation: float 4s ease-in-out infinite;\n        }\n        .animate-confetti {\n          animation: confetti 3s ease-out forwards;\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n      `}</style>\n      {ConfirmDialogComponent}\n    </div>\n  );\n};\n\nexport { ProgressBar };\n","\"use client\";\n\nimport React from \"react\";\nimport { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nimport { format } from \"date-fns\";\nimport { useTask } from \"@/context/TaskContext\";\n\nfunction cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nconst DAYS = [\"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\", \"SUN\"];\n\n// Helper to get the date string for a given day of the week in the current week\nconst getDateForDayOfWeek = (dayName: string): string => {\n  const today = new Date();\n  const todayDayIndex = today.getDay(); // 0 = Sunday, 1 = Monday, etc.\n  const dayNameToIndex: Record<string, number> = {\n    \"SUN\": 0, \"MON\": 1, \"TUE\": 2, \"WED\": 3, \"THU\": 4, \"FRI\": 5, \"SAT\": 6\n  };\n  const targetDayIndex = dayNameToIndex[dayName] ?? 1;\n  const diff = targetDayIndex - todayDayIndex;\n  const targetDate = new Date(today);\n  targetDate.setDate(today.getDate() + diff);\n  return format(targetDate, \"yyyy-MM-dd\");\n};\n\nconst DayNavigation: React.FC = () => {\n  const { selectedDay, setSelectedDay, tasks } = useTask();\n  const actualToday = format(new Date(), \"EEE\").toUpperCase();\n\n  const getDayProgress = (day: string) => {\n    const dayTasks = tasks.filter((t) => t.days.includes(day));\n    if (dayTasks.length === 0) return 0;\n\n    // FIX: Compute completion based on completionHistory for this specific day's date\n    const dateStrForDay = getDateForDayOfWeek(day);\n    const completed = dayTasks.filter((t) => t.completionHistory?.includes(dateStrForDay)).length;\n    return Math.round((completed / dayTasks.length) * 100);\n  };\n\n  return (\n    <div className=\"w-full overflow-x-auto pb-10 pt-4 scrollbar-hide px-1\">\n      <div className=\"flex min-w-max space-x-4\">\n        {DAYS.map((day) => {\n          const isSelected = selectedDay === day;\n          const isActualToday = actualToday === day;\n          const progress = getDayProgress(day);\n\n          return (\n            <button\n              key={day}\n              onClick={() => setSelectedDay(day)}\n              className={cn(\n                \"group relative flex flex-col items-center justify-center rounded-[2.5rem] transition-all duration-300\",\n                \"h-32 w-28\",\n                isSelected\n                  ? \"bg-primary text-primary-foreground shadow-lg shadow-primary/20 scale-105 z-10 border-0\"\n                  : \"bg-card text-muted-foreground hover:bg-muted hover:scale-102 border border-border\"\n              )}\n            >\n              {isActualToday && (\n                <div className={cn(\n                  \"absolute top-4 h-1.5 w-1.5 rounded-full animate-pulse\",\n                  isSelected ? \"bg-primary-foreground\" : \"bg-primary\"\n                )} />\n              )}\n              <span className={cn(\n                \"text-[10px] font-bold tracking-[0.2em] mb-3 transition-colors uppercase\",\n                isSelected ? \"text-primary-foreground/80\" : \"text-muted-foreground/60 group-hover:text-foreground/60\"\n              )}>\n                {day}\n              </span>\n\n              <div className=\"flex flex-col items-center\">\n                <span className={cn(\n                  \"text-2xl font-bold tracking-tighter\",\n                  isSelected ? \"text-primary-foreground\" : \"text-foreground\"\n                )}>\n                  {progress}%\n                </span>\n\n                <div className={cn(\n                  \"mt-3 h-1 w-12 rounded-full transition-all overflow-hidden\",\n                  isSelected ? \"bg-primary-foreground/30\" : \"bg-muted\"\n                )}>\n                  <div\n                    className={cn(\"h-full transition-all duration-1000\", isSelected ? \"bg-primary-foreground\" : \"bg-primary\")}\n                    style={{ width: `${progress}%` }}\n                  />\n                </div>\n              </div>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { DayNavigation };\n\n\n","\"use client\";\n\nimport React from \"react\";\nimport { Check, Bell, Clock, ChevronRight } from \"lucide-react\";\nimport { Task, useTask } from \"@/context/TaskContext\";\nimport { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nfunction cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\ninterface TaskCardProps {\n  task: Task;\n  onEdit: (task: Task) => void;\n}\n\nconst TaskCard: React.FC<TaskCardProps> = ({ task, onEdit }) => {\n  const { toggleTaskCompletion } = useTask();\n\n  const handleToggle = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    toggleTaskCompletion(task.id);\n  };\n\n  return (\n    <div\n      onClick={() => onEdit(task)}\n      className={cn(\n        \"group relative flex cursor-pointer items-center rounded-3xl border p-4 transition-all duration-300\",\n        task.isCompleted\n          ? \"bg-muted/30 border-border opacity-60 grayscale\"\n          : \"bg-card border-border hover:border-primary/20 hover:shadow-lg active:scale-[0.99]\"\n      )}\n    >\n      {/* Background Glow on hover - Subtler */}\n      {!task.isCompleted && (\n        <div className=\"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl pointer-events-none\" />\n      )}\n\n      <button\n        onClick={handleToggle}\n        className={cn(\n          \"mr-4 flex h-10 w-10 shrink-0 items-center justify-center rounded-2xl border-2 transition-all duration-300 relative z-20\",\n          task.isCompleted\n            ? \"bg-gradient-to-br from-purple-500 to-pink-500 border-0 shadow-md shadow-purple-500/20 scale-100\"\n            : \"border-border bg-muted/50 group-hover:border-primary/50 group-hover:bg-background\"\n        )}\n      >\n        {task.isCompleted ? (\n          <Check className=\"h-5 w-5 text-white stroke-[3] animate-in zoom-in duration-300\" />\n        ) : (\n          <Check className=\"h-5 w-5 text-transparent stroke-[3] group-hover:text-primary/20\" />\n        )}\n      </button>\n\n      <div className={cn(\n        \"mr-4 flex h-14 w-14 shrink-0 items-center justify-center rounded-[1.25rem] text-3xl shadow-sm transition-all group-hover:scale-105 group-hover:rotate-2\",\n        task.isCompleted ? \"bg-muted text-muted-foreground\" : \"bg-muted/50 text-foreground\"\n      )}>\n        <span className=\"filter drop-shadow-sm\">{task.icon || \"üìù\"}</span>\n      </div>\n\n      <div className=\"flex-1 overflow-hidden pointer-events-none relative z-10\">\n        <h3 className={cn(\n          \"truncate text-lg font-bold tracking-tight transition-all\",\n          task.isCompleted ? \"text-muted-foreground line-through decoration-border\" : \"text-foreground\"\n        )}>\n          {task.title}\n        </h3>\n        <div className=\"flex items-center gap-3 mt-1.5\">\n          <div className=\"flex items-center gap-1.5 text-[10px] font-bold text-muted-foreground uppercase tracking-widest bg-muted px-2 py-1 rounded-md\">\n            <Clock className=\"w-3 h-3 text-primary\" />\n            {task.startTime}\n          </div>\n          {task.reminder && (\n            <div className=\"flex items-center gap-1.5 text-[10px] text-primary font-bold uppercase tracking-widest bg-primary/10 px-2 py-1 rounded-md\">\n              <Bell className=\"w-3 h-3\" />\n              <span>{task.reminder}</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <ChevronRight className=\"w-5 h-5 text-muted-foreground/30 group-hover:text-foreground/50 transition-colors ml-2\" />\n    </div>\n  );\n};\n\nexport { TaskCard };\n","\"use client\";\n\nimport React from \"react\";\nimport { TimeBlock as TimeBlockType, useTask } from \"@/context/TaskContext\";\nimport { TaskCard } from \"./TaskCard\";\nimport { Task } from \"@/context/TaskContext\";\nimport { Sunrise, Sun, SunMedium, Sunset, Moon, CloudSun, Clock } from \"lucide-react\";\n\ninterface TimeBlockProps extends React.HTMLAttributes<HTMLDivElement> {\n  block: TimeBlockType;\n  timeRange: string;\n  onEditTask: (task: Task) => void;\n}\n\nconst TimeBlock: React.FC<TimeBlockProps> = ({ block, timeRange, onEditTask, ...props }) => {\n  const { getTasksByTimeBlock } = useTask();\n  const tasks = getTasksByTimeBlock(block);\n\n  const completedCount = tasks.filter((t) => t.isCompleted).length;\n  const progress = tasks.length > 0 ? (completedCount / tasks.length) * 100 : 0;\n\n  const getBlockIcon = () => {\n    switch (block) {\n      case \"Dawn\": return <Sunrise className=\"w-6 h-6\" />;\n      case \"Morning\": return <CloudSun className=\"w-6 h-6\" />;\n      case \"Noon\": return <Sun className=\"w-6 h-6\" />;\n      case \"Afternoon\": return <SunMedium className=\"w-6 h-6\" />;\n      case \"Evening\": return <Sunset className=\"w-6 h-6\" />;\n      case \"Night\": return <Moon className=\"w-6 h-6\" />;\n      default: return null;\n    }\n  };\n\n  const colors = {\n    Dawn: \"from-orange-500/10 to-pink-500/5 text-orange-500 border-orange-500/20\",\n    Morning: \"from-yellow-500/10 to-orange-500/5 text-yellow-500 border-yellow-500/20\",\n    Noon: \"from-blue-500/10 to-cyan-500/5 text-blue-500 border-blue-500/20\",\n    Afternoon: \"from-sky-500/10 to-indigo-500/5 text-sky-500 border-sky-500/20\",\n    Evening: \"from-purple-500/10 to-pink-500/5 text-purple-500 border-purple-500/20\",\n    Night: \"from-indigo-500/10 to-blue-900/5 text-indigo-500 border-indigo-500/20\",\n  };\n\n  return (\n    <div className={`group flex flex-col h-full rounded-[2.5rem] bg-card border ${colors[block]} p-8 transition-all duration-300 hover:shadow-lg shadow-sm overflow-hidden relative`} {...props}>\n      {/* Background Progress Glow */}\n      <div\n        className=\"absolute bottom-0 left-0 h-1 bg-muted w-full transition-all duration-1000\"\n        style={{ background: `linear-gradient(to right, currentColor ${progress}%, transparent ${progress}%)` }}\n      />\n\n      <div className=\"mb-8 flex items-start justify-between\">\n        <div className=\"flex items-center gap-5\">\n          <div className={`flex h-16 w-16 items-center justify-center rounded-2xl bg-muted border border-border shadow-sm transition-transform group-hover:scale-105`}>\n            {getBlockIcon()}\n          </div>\n          <div className=\"space-y-1\">\n            <h3 className=\"text-2xl font-bold text-foreground tracking-tight\">{block}</h3>\n            <div className=\"flex items-center gap-2 text-[10px] font-bold text-muted-foreground uppercase tracking-widest bg-muted px-3 py-1 rounded-full w-fit\">\n              <Clock className=\"w-3 h-3 opacity-60\" />\n              {timeRange}\n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-col items-end\">\n          <span className=\"text-2xl font-bold text-foreground\">{completedCount}<span className=\"text-sm text-muted-foreground/60 font-bold\">/{tasks.length}</span></span>\n          <span className=\"text-[10px] font-bold text-muted-foreground uppercase tracking-widest opacity-60\">Rituals</span>\n        </div>\n      </div>\n\n      <div className=\"flex-1 space-y-4\">\n        {tasks.length > 0 ? (\n          tasks.map((task) => <TaskCard key={task.id} task={task} onEdit={onEditTask} />)\n        ) : (\n          <div className=\"h-full min-h-[140px] flex flex-col items-center justify-center rounded-[2rem] border border-dashed border-border bg-muted/30 p-6 text-center group-hover:border-primary/30 transition-colors\">\n            <div className=\"h-10 w-10 rounded-full bg-muted flex items-center justify-center mb-3\">\n              <Sunrise className=\"w-5 h-5 opacity-30\" />\n            </div>\n            <p className=\"text-xs font-bold text-muted-foreground/50 uppercase tracking-widest\">No activities scheduled</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport { TimeBlock };\n\n","\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"./ui/Button\";\nimport { X, ChevronRight, Check } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { collection, query, where, getDocs, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\n\ninterface TourStep {\n    title: string;\n    description: string;\n    targetId?: string; // ID of the element to highlight (optional)\n    position?: \"center\" | \"top\" | \"bottom\";\n}\n\nconst STEPS: TourStep[] = [\n    {\n        title: \"Welcome to RT!\",\n        description: \"Let's take a quick tour to help you build your perfect routine.\",\n        position: \"center\",\n    },\n    {\n        title: \"Your Daily Flow\",\n        description: \"These 6 time blocks are your canvas. Fill them with habits to structure your day.\",\n        position: \"center\", // Ideally this would point to the grid, but center is safe\n    },\n    {\n        title: \"Add a Task\",\n        description: \"Click here to add your first habit or routine. You can set days, times, and icons.\",\n        targetId: \"add-task-trigger\", // We need to add this ID to the ProgressBar button\n        position: \"bottom\",\n    },\n    {\n        title: \"Stay Focused\",\n        description: \"Use the Focus page to enter deep work mode with ambient sounds and a timer.\",\n        position: \"center\",\n    },\n];\n\n// App version - increment this when there are major updates\nconst APP_VERSION = \"1.0.0\";\n\nconst OnboardingTour: React.FC = () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [currentStep, setCurrentStep] = useState(0);\n    const { user } = useAuth();\n\n    useEffect(() => {\n        const checkIfShouldShowTour = async () => {\n            if (!user) return;\n\n            try {\n                // Check if user has seen this version of the tour\n                const tourData = localStorage.getItem(\"rt_tour_data\");\n                let shouldShow = true;\n\n                if (tourData) {\n                    const { version, hasSeen } = JSON.parse(tourData);\n\n                    // If user has seen the current version, don't show\n                    if (hasSeen && version === APP_VERSION) {\n                        shouldShow = false;\n                    }\n                }\n\n                // For existing users (old accounts), check if they have any tasks\n                // If they have tasks, they're an existing user - skip tour unless version changed\n                if (shouldShow) {\n                    const tasksRef = collection(db, \"tasks\");\n                    const userTasksQuery = query(\n                        tasksRef,\n                        where(\"userId\", \"==\", user.uid),\n                        limit(1)\n                    );\n\n                    const snapshot = await getDocs(userTasksQuery);\n\n                    // If user has existing tasks, they're not a new user\n                    if (!snapshot.empty) {\n                        const tourData = localStorage.getItem(\"rt_tour_data\");\n                        if (tourData) {\n                            const { version } = JSON.parse(tourData);\n                            // Only show if version changed (indicating an update)\n                            if (version === APP_VERSION) {\n                                shouldShow = false;\n                            }\n                        } else {\n                            // Old user without tour data - mark as seen without showing\n                            localStorage.setItem(\"rt_tour_data\", JSON.stringify({\n                                version: APP_VERSION,\n                                hasSeen: true\n                            }));\n                            shouldShow = false;\n                        }\n                    }\n                }\n\n                if (shouldShow) {\n                    // Small delay to allow UI to load\n                    const timer = setTimeout(() => setIsOpen(true), 1500);\n                    return () => clearTimeout(timer);\n                }\n            } catch (e) {\n                console.error(\"Error checking tour status:\", e);\n            }\n        };\n\n        checkIfShouldShowTour();\n    }, [user]);\n\n    const handleNext = () => {\n        if (currentStep < STEPS.length - 1) {\n            setCurrentStep((prev) => prev + 1);\n        } else {\n            handleComplete();\n        }\n    };\n\n    const handleComplete = () => {\n        setIsOpen(false);\n        try {\n            localStorage.setItem(\"rt_tour_data\", JSON.stringify({\n                version: APP_VERSION,\n                hasSeen: true,\n                completedAt: new Date().toISOString()\n            }));\n        } catch (e) {\n            console.error(\"Error saving tour completion:\", e);\n        }\n    };\n\n    const handleSkip = () => {\n        setIsOpen(false);\n        try {\n            localStorage.setItem(\"rt_tour_data\", JSON.stringify({\n                version: APP_VERSION,\n                hasSeen: true,\n                skippedAt: new Date().toISOString()\n            }));\n        } catch (e) {\n            console.error(\"Error saving tour skip:\", e);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    const step = STEPS[currentStep];\n\n    return (\n        <AnimatePresence>\n            <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4\">\n                {/* Backdrop */}\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n                    onClick={handleSkip}\n                />\n\n                {/* Modal Card */}\n                <motion.div\n                    initial={{ scale: 0.9, opacity: 0, y: 20 }}\n                    animate={{ scale: 1, opacity: 1, y: 0 }}\n                    exit={{ scale: 0.9, opacity: 0, y: 20 }}\n                    className=\"relative w-full max-w-md overflow-hidden rounded-[2rem] bg-card p-8 shadow-2xl border border-border\"\n                >\n                    {/* Progress Indicators */}\n                    <div className=\"flex gap-2 mb-6 justify-center\">\n                        {STEPS.map((_, idx) => (\n                            <div\n                                key={idx}\n                                className={`h-1.5 rounded-full transition-all duration-300 ${idx === currentStep ? \"w-8 bg-purple-500\" : \"w-1.5 bg-muted-foreground/20\"\n                                    }`}\n                            />\n                        ))}\n                    </div>\n\n                    <div className=\"text-center space-y-4 mb-8\">\n                        <h3 className=\"text-2xl font-bold text-foreground tracking-tight\">\n                            {step.title}\n                        </h3>\n                        <p className=\"text-muted-foreground leading-relaxed\">\n                            {step.description}\n                        </p>\n                    </div>\n\n                    <div className=\"flex items-center gap-3\">\n                        <Button\n                            variant=\"ghost\"\n                            onClick={handleSkip}\n                            className=\"flex-1 h-12 rounded-xl text-muted-foreground hover:bg-muted font-medium\"\n                        >\n                            Skip\n                        </Button>\n                        <Button\n                            onClick={handleNext}\n                            className=\"flex-[2] h-12 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold shadow-lg shadow-purple-500/20\"\n                        >\n                            {currentStep === STEPS.length - 1 ? (\n                                <span className=\"flex items-center gap-2\">\n                                    Get Started <Check className=\"w-4 h-4\" />\n                                </span>\n                            ) : (\n                                <span className=\"flex items-center gap-2\">\n                                    Next <ChevronRight className=\"w-4 h-4\" />\n                                </span>\n                            )}\n                        </Button>\n                    </div>\n                </motion.div>\n            </div>\n        </AnimatePresence>\n    );\n};\n\nexport { OnboardingTour };\n","\"use client\";\n\nimport React, { useEffect, useRef, useCallback, useState } from \"react\";\n\n// ============================================================================\n// ACCESSIBILITY UTILITIES & COMPONENTS\n// ============================================================================\n// Comprehensive accessibility implementation for WCAG 2.1 AA compliance.\n// Provides keyboard navigation, screen reader support, focus management,\n// and reduced motion preferences.\n\n// ----------------------------------------------------------------------------\n// SKIP LINKS & NAVIGATION\n// ----------------------------------------------------------------------------\n\n/**\n * Skip link for keyboard navigation - helps users skip navigation and go directly to main content\n * Meets WCAG 2.1 AA Success Criterion 2.4.1 (Bypass Blocks)\n */\nexport function SkipLink() {\n  return (\n    <a\n      href=\"#main-content\"\n      className=\"sr-only focus:not-sr-only focus:absolute focus:z-[100] focus:p-4 focus:bg-primary focus:text-primary-foreground focus:font-bold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-lg left-4 top-4\"\n    >\n      Skip to main content\n    </a>\n  );\n}\n\n/**\n * Skip link for bypassing repeated sidebar navigation\n */\nexport function SkipToMain() {\n  return (\n    <a\n      href=\"#main-content\"\n      className=\"sr-only focus:not-sr-only focus:fixed focus:z-[9999] focus:p-4 focus:bg-background focus:text-foreground focus:font-semibold focus:border focus:border-input focus:shadow-lg rounded-md left-4 top-4\"\n    >\n      Skip to main content\n    </a>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// LIVE REGIONS & SCREEN READER ANNOUNCEMENTS\n// ----------------------------------------------------------------------------\n\ninterface LiveRegionProps {\n  message: string;\n  type?: \"polite\" | \"assertive\";\n  clearAfter?: number;\n}\n\n/**\n * Live region for screen readers to announce dynamic content changes\n * WCAG 4.1.3 (Status Messages)\n */\nexport function LiveRegion({ message, type = \"polite\", clearAfter = 1000 }: LiveRegionProps) {\n  const regionRef = useRef<HTMLDivElement>(null);\n  const [displayedMessage, setDisplayedMessage] = useState(message);\n\n  useEffect(() => {\n    // Only announce when message changes and is not empty\n    if (message && message !== displayedMessage) {\n      setDisplayedMessage(message);\n      \n      if (clearAfter > 0) {\n        const timer = setTimeout(() => {\n          setDisplayedMessage(\"\");\n        }, clearAfter);\n        return () => clearTimeout(timer);\n      }\n    }\n  }, [message, clearAfter, displayedMessage]);\n\n  return (\n    <div\n      ref={regionRef}\n      role=\"status\"\n      aria-live={type}\n      aria-atomic=\"true\"\n      className=\"sr-only\"\n    >\n      {displayedMessage}\n    </div>\n  );\n}\n\n/**\n * Announce errors to screen readers with assertive priority\n */\nexport function ErrorAnnouncer({ error }: { error: string | null }) {\n  return <LiveRegion message={error || \"\"} type=\"assertive\" />;\n}\n\n/**\n * Announce success messages to screen readers\n */\nexport function SuccessAnnouncer({ message }: { message: string }) {\n  return <LiveRegion message={message} type=\"polite\" clearAfter={500} />;\n}\n\n/**\n * Announcer context for complex applications with multiple live regions\n */\ninterface AnnouncerContextType {\n  announce: (message: string, priority?: \"polite\" | \"assertive\") => void;\n}\n\nconst AnnouncerContext = React.createContext<AnnouncerContextType | null>(null);\n\n/**\n * Provider component for centralized announcement management\n */\nexport function AnnouncerProvider({ children }: { children: React.ReactNode }) {\n  const [announcement, setAnnouncement] = useState<{ message: string; priority: \"polite\" | \"assertive\" } | null>(null);\n\n  const announce = useCallback((message: string, priority: \"polite\" | \"assertive\" = \"polite\") => {\n    setAnnouncement({ message, priority });\n    // Clear after animation completes\n    setTimeout(() => setAnnouncement(null), 1000);\n  }, []);\n\n  return (\n    <AnnouncerContext.Provider value={{ announce }}>\n      {children}\n      {announcement && (\n        <LiveRegion message={announcement.message} type={announcement.priority} clearAfter={0} />\n      )}\n    </AnnouncerContext.Provider>\n  );\n}\n\n/**\n * Hook to access the announcer context\n */\nexport function useAnnouncer() {\n  const context = React.useContext(AnnouncerContext);\n  if (!context) {\n    return { announce: (message: string) => console.warn(\"AnnouncerProvider not found\") };\n  }\n  return context;\n}\n\n// ----------------------------------------------------------------------------\n// FOCUS MANAGEMENT\n// ----------------------------------------------------------------------------\n\n/**\n * Hook to trap focus within a container (for modals, dialogs, menus)\n * WCAG 2.4.3 (Focus Order)\n */\nexport function useFocusTrap(isActive: boolean) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const previousActiveElement = useRef<HTMLElement | null>(null);\n\n  useEffect(() => {\n    if (!isActive || !containerRef.current) return;\n\n    // Store the currently focused element\n    previousActiveElement.current = document.activeElement as HTMLElement;\n\n    const container = containerRef.current;\n    const focusableElements = container.querySelectorAll<HTMLElement>(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    // Handle Tab key for focus trapping\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== \"Tab\") return;\n\n      if (e.shiftKey) {\n        if (document.activeElement === firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        }\n      } else {\n        if (document.activeElement === lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      }\n    };\n\n    // Handle Escape key to close\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        // Emit custom event for parent component to handle\n        container.dispatchEvent(new CustomEvent(\"focus-trap-escape\"));\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"keydown\", handleEscape);\n\n    // Focus first element\n    firstElement?.focus();\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"keydown\", handleEscape);\n      // Return focus to the element that triggered the trap\n      previousActiveElement.current?.focus();\n    };\n  }, [isActive]);\n\n  return containerRef;\n}\n\n/**\n * Hook to manage focus restoration when navigating back to a page\n */\nexport function useFocusRestore<T extends HTMLElement = HTMLHeadingElement>(selector?: string) {\n  const elementRef = useRef<T>(null);\n\n  useEffect(() => {\n    // Announce page change to screen readers\n    const announcePageChange = () => {\n      const heading = document.querySelector(\"h1\");\n      if (heading) {\n        const liveRegion = document.querySelector('[role=\"status\"]') as HTMLElement;\n        if (liveRegion) {\n          liveRegion.textContent = `Navigated to ${heading.textContent}`;\n        }\n      }\n    };\n\n    announcePageChange();\n\n    // Focus management\n    if (selector) {\n      const element = document.querySelector<T>(selector);\n      element?.focus();\n    } else {\n      elementRef.current?.focus();\n    }\n  }, [selector]);\n\n  return elementRef;\n}\n\n/**\n * Hook to detect when user is navigating away to manage focus properly\n */\nexport function useFocusOnMount<T extends HTMLElement = HTMLElement>() {\n  const ref = useRef<T>(null);\n\n  useEffect(() => {\n    ref.current?.focus();\n  }, []);\n\n  return ref;\n}\n\n// ----------------------------------------------------------------------------\n// REDUCED MOTION SUPPORT\n// ----------------------------------------------------------------------------\n\n/**\n * Hook to detect user's motion preference\n * WCAG 2.3.3 (Animation from Interactions)\n */\nexport function useReducedMotion(): boolean {\n  const mediaQuery = typeof window !== \"undefined\"\n    ? window.matchMedia(\"(prefers-reduced-motion: reduce)\")\n    : null;\n\n  const [reduced, setReduced] = useState(mediaQuery?.matches ?? false);\n\n  useEffect(() => {\n    if (!mediaQuery) return;\n\n    const handler = (e: MediaQueryListEvent) => {\n      setReduced(e.matches);\n    };\n\n    mediaQuery.addEventListener(\"change\", handler);\n    return () => mediaQuery.removeEventListener(\"change\", handler);\n  }, [mediaQuery]);\n\n  return reduced;\n}\n\n/**\n * Get animation duration based on reduced motion preference\n */\nexport function getAnimationDuration(reducedMotion: boolean): string {\n  return reducedMotion ? \"0ms\" : \"200ms\";\n}\n\n/**\n * CSS variable configuration for reduced motion\n */\nexport const reducedMotionStyles = {\n  transition: \"none\",\n  animation: \"none\",\n} as const;\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE BUTTONS\n// ----------------------------------------------------------------------------\n\ninterface AccessibleButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  loading?: boolean;\n  loadingText?: string;\n  icon?: React.ReactNode;\n  iconPosition?: \"left\" | \"right\";\n  variant?: \"primary\" | \"secondary\" | \"outline\" | \"ghost\" | \"destructive\";\n  size?: \"sm\" | \"md\" | \"lg\";\n}\n\nconst buttonVariants = {\n  primary: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n  secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n  outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n  ghost: \"hover:bg-accent hover:text-accent-foreground\",\n  destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n};\n\nconst buttonSizes = {\n  sm: \"h-9 px-3 text-sm\",\n  md: \"h-10 px-4 py-2\",\n  lg: \"h-11 px-8 text-lg\",\n};\n\n/**\n * Accessible button with comprehensive ARIA support\n * WCAG 4.1.2 (Name, Role, Value)\n */\nexport function AccessibleButton({\n  children,\n  loading = false,\n  loadingText = \"Loading...\",\n  icon,\n  iconPosition = \"left\",\n  disabled,\n  className = \"\",\n  variant = \"primary\",\n  size = \"md\",\n  ...props\n}: AccessibleButtonProps) {\n  const isDisabled = loading || disabled;\n\n  return (\n    <button\n      {...props}\n      disabled={isDisabled}\n      aria-busy={loading}\n      aria-disabled={isDisabled}\n      className={`\n        inline-flex items-center justify-center gap-2\n        rounded-xl font-medium transition-all duration-200\n        focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\n        disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none\n        ${buttonVariants[variant]}\n        ${buttonSizes[size]}\n        ${className}\n      `}\n    >\n      {loading && (\n        <span className=\"absolute inset-0 flex items-center justify-center\" aria-hidden=\"true\">\n          <svg\n            className=\"animate-spin h-5 w-5\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n        </span>\n      )}\n      <span className={loading ? \"invisible\" : \"\"}>\n        {icon && iconPosition === \"left\" && <span aria-hidden=\"true\">{icon}</span>}\n        {children}\n        {icon && iconPosition === \"right\" && <span aria-hidden=\"true\">{icon}</span>}\n      </span>\n      {loading && (\n        <span className=\"sr-only\">\n          {loadingText}\n        </span>\n      )}\n    </button>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE FORM INPUTS\n// ----------------------------------------------------------------------------\n\ninterface AccessibleInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n  error?: string;\n  helperText?: string;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  showCharCount?: boolean;\n}\n\nexport function AccessibleInput({\n  label,\n  error,\n  helperText,\n  leftIcon,\n  rightIcon,\n  id,\n  required,\n  maxLength,\n  value,\n  className = \"\",\n  showCharCount = false,\n  ...props\n}: AccessibleInputProps) {\n  const generatedId = useCallback(() => \n    `input-${label.toLowerCase().replace(/\\s+/g, \"-\")}`, [label]\n  );\n  const inputId = id || generatedId();\n  const errorId = `${inputId}-error`;\n  const helperId = `${inputId}-helper`;\n  const charCountId = `${inputId}-charcount`;\n\n  const charCount = typeof value === \"string\" ? value.length : 0;\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center justify-between\">\n        <label\n          htmlFor={inputId}\n          className=\"block text-sm font-medium text-foreground\"\n        >\n          {label}\n          {required && (\n            <span className=\"text-destructive ml-1\" aria-hidden=\"true\">\n              *\n            </span>\n          )}\n          {required && <span className=\"sr-only\">(required)</span>}\n        </label>\n        {showCharCount && maxLength && (\n          <span id={charCountId} className=\"text-xs text-muted-foreground\">\n            {charCount}/{maxLength}\n          </span>\n        )}\n      </div>\n\n      <div className=\"relative\">\n        {leftIcon && (\n          <span\n            className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none\"\n            aria-hidden=\"true\"\n          >\n            {leftIcon}\n          </span>\n        )}\n\n        <input\n          {...props}\n          id={inputId}\n          required={required}\n          maxLength={maxLength}\n          value={value}\n          aria-invalid={error ? \"true\" : \"false\"}\n          aria-describedby={\n            [error && errorId, helperText && helperId, showCharCount && maxLength && charCountId]\n              .filter(Boolean)\n              .join(\" \") || undefined\n          }\n          aria-required={required}\n          className={`\n            w-full px-4 py-3 rounded-xl\n            bg-muted/50 border border-border\n            text-foreground placeholder:text-muted-foreground\n            focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent\n            disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none\n            transition-all duration-200\n            ${leftIcon ? \"pl-10\" : \"\"}\n            ${rightIcon ? \"pr-10\" : \"\"}\n            ${error ? \"border-destructive focus:ring-destructive\" : \"\"}\n            ${className}\n          `}\n        />\n\n        {rightIcon && (\n          <span\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none\"\n            aria-hidden=\"true\"\n          >\n            {rightIcon}\n          </span>\n        )}\n      </div>\n\n      {error && (\n        <p\n          id={errorId}\n          className=\"text-sm text-destructive flex items-center gap-1\"\n          role=\"alert\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n          </svg>\n          {error}\n        </p>\n      )}\n\n      {helperText && !error && (\n        <p id={helperId} className=\"text-sm text-muted-foreground\">\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE TEXTAREA\n// ----------------------------------------------------------------------------\n\ninterface AccessibleTextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label: string;\n  error?: string;\n  helperText?: string;\n  showCharCount?: boolean;\n}\n\nexport function AccessibleTextarea({\n  label,\n  error,\n  helperText,\n  id,\n  required,\n  maxLength,\n  value,\n  className = \"\",\n  showCharCount = false,\n  ...props\n}: AccessibleTextareaProps) {\n  const inputId = id || `textarea-${label.toLowerCase().replace(/\\s+/g, \"-\")}`;\n  const errorId = `${inputId}-error`;\n  const helperId = `${inputId}-helper`;\n  const charCountId = `${inputId}-charcount`;\n\n  const charCount = typeof value === \"string\" ? value.length : 0;\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center justify-between\">\n        <label\n          htmlFor={inputId}\n          className=\"block text-sm font-medium text-foreground\"\n        >\n          {label}\n          {required && (\n            <span className=\"text-destructive ml-1\" aria-hidden=\"true\">\n              *\n            </span>\n          )}\n          {required && <span className=\"sr-only\">(required)</span>}\n        </label>\n        {showCharCount && maxLength && (\n          <span id={charCountId} className=\"text-xs text-muted-foreground\">\n            {charCount}/{maxLength}\n          </span>\n        )}\n      </div>\n\n      <textarea\n        {...props}\n        id={inputId}\n        required={required}\n        maxLength={maxLength}\n        value={value}\n        aria-invalid={error ? \"true\" : \"false\"}\n        aria-describedby={\n          [error && errorId, helperText && helperId, showCharCount && maxLength && charCountId]\n            .filter(Boolean)\n            .join(\" \") || undefined\n        }\n        aria-required={required}\n        className={`\n          w-full px-4 py-3 rounded-xl\n          bg-muted/50 border border-border\n          text-foreground placeholder:text-muted-foreground\n          focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent\n          disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none\n          transition-all duration-200 resize-y min-h-[100px]\n          ${error ? \"border-destructive focus:ring-destructive\" : \"\"}\n          ${className}\n        `}\n      />\n\n      {error && (\n        <p\n          id={errorId}\n          className=\"text-sm text-destructive flex items-center gap-1\"\n          role=\"alert\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n          </svg>\n          {error}\n        </p>\n      )}\n\n      {helperText && !error && (\n        <p id={helperId} className=\"text-sm text-muted-foreground\">\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE MODAL DIALOG\n// ----------------------------------------------------------------------------\n\ninterface AccessibleModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  description?: string;\n  children: React.ReactNode;\n  closeLabel?: string;\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n}\n\n/**\n * Accessible modal dialog with focus trap, escape key handling, and ARIA attributes\n * WCAG 2.4.3 (Focus Order), WCAG 2.4.13 (Focus Appearance)\n */\nexport function AccessibleModal({\n  isOpen,\n  onClose,\n  title,\n  description,\n  children,\n  closeLabel = \"Close modal\",\n  size = \"md\",\n}: AccessibleModalProps) {\n  const modalRef = useRef<HTMLDivElement>(null);\n  const titleId = \"modal-title\";\n\n  const sizeClasses = {\n    sm: \"max-w-sm\",\n    md: \"max-w-lg\",\n    lg: \"max-w-2xl\",\n    xl: \"max-w-4xl\",\n  };\n\n  // Handle escape key\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\" && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"hidden\";\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, onClose]);\n\n  // Focus trap\n  const focusTrapRef = useFocusTrap(isOpen);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby={titleId}\n      aria-describedby={description ? \"modal-description\" : undefined}\n    >\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in\"\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Modal content */}\n      <div\n        ref={(el) => {\n          (modalRef as React.MutableRefObject<HTMLDivElement | null>).current = el;\n          (focusTrapRef as React.MutableRefObject<HTMLDivElement | null>).current = el;\n        }}\n        className={`\n          relative z-10 w-full ${sizeClasses[size]} mx-4\n          bg-card rounded-3xl border border-border shadow-2xl\n          animate-scale-in\n        `}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-border\">\n          <h2 id={titleId} className=\"text-xl font-bold\">\n            {title}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 rounded-xl hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-ring\"\n            aria-label={closeLabel}\n          >\n            <svg\n              className=\"w-5 h-5\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Description */}\n        {description && (\n          <p id=\"modal-description\" className=\"px-6 py-2 text-muted-foreground\">\n            {description}\n          </p>\n        )}\n\n        {/* Body */}\n        <div className=\"p-6\">{children}</div>\n      </div>\n    </div>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE CARD COMPONENT\n// ----------------------------------------------------------------------------\n\ninterface AccessibleCardProps {\n  as?: \"div\" | \"article\" | \"section\" | \"li\";\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n  interactive?: boolean;\n  headline?: string;\n  description?: string;\n}\n\n/**\n * Accessible card component with proper heading structure and interactive support\n */\nexport function AccessibleCard({\n  as: Component = \"div\",\n  children,\n  className = \"\",\n  onClick,\n  interactive = false,\n  headline,\n  description,\n}: AccessibleCardProps) {\n  const classes = `\n    rounded-2xl border border-border bg-card p-6\n    transition-all duration-200\n    ${interactive ? \"cursor-pointer hover:shadow-lg hover:border-primary/50 focus:outline-none focus:ring-2 focus:ring-ring\" : \"\"}\n    ${className}\n  `;\n\n  if (interactive && onClick) {\n    return (\n      <Component\n        className={classes}\n        onClick={onClick}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\" || e.key === \" \") {\n            e.preventDefault();\n            onClick();\n          }\n        }}\n        tabIndex={0}\n        role={headline ? \"article\" : \"button\"}\n        aria-pressed={interactive ? undefined : false}\n      >\n        {headline && <h3 className=\"font-semibold text-lg mb-1\">{headline}</h3>}\n        {description && <p className=\"text-muted-foreground text-sm\">{description}</p>}\n        {children}\n      </Component>\n    );\n  }\n\n  return (\n    <Component className={classes}>\n      {headline && <h3 className=\"font-semibold text-lg mb-1\">{headline}</h3>}\n      {description && <p className=\"text-muted-foreground text-sm\">{description}</p>}\n      {children}\n    </Component>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// ACCESSIBLE SELECT COMPONENT\n// ----------------------------------------------------------------------------\n\ninterface AccessibleSelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\n  label: string;\n  error?: string;\n  helperText?: string;\n  options: { value: string; label: string }[];\n  placeholder?: string;\n}\n\nexport function AccessibleSelect({\n  label,\n  error,\n  helperText,\n  id,\n  required,\n  options,\n  placeholder,\n  className = \"\",\n  ...props\n}: AccessibleSelectProps) {\n  const inputId = id || `select-${label.toLowerCase().replace(/\\s+/g, \"-\")}`;\n  const errorId = `${inputId}-error`;\n  const helperId = `${inputId}-helper`;\n\n  return (\n    <div className=\"space-y-2\">\n      <label\n        htmlFor={inputId}\n        className=\"block text-sm font-medium text-foreground\"\n      >\n        {label}\n        {required && (\n          <span className=\"text-destructive ml-1\" aria-hidden=\"true\">\n            *\n          </span>\n        )}\n        {required && <span className=\"sr-only\">(required)</span>}\n      </label>\n\n      <select\n        {...props}\n        id={inputId}\n        required={required}\n        aria-invalid={error ? \"true\" : \"false\"}\n        aria-describedby={\n          [error && errorId, helperText && helperId]\n            .filter(Boolean)\n            .join(\" \") || undefined\n        }\n        className={`\n          w-full px-4 py-3 rounded-xl\n          bg-muted/50 border border-border\n          text-foreground\n          focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent\n          disabled:opacity-50 disabled:cursor-not-allowed\n          transition-all duration-200\n          ${error ? \"border-destructive focus:ring-destructive\" : \"\"}\n          ${className}\n        `}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder}\n          </option>\n        )}\n        {options.map((option) => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n\n      {error && (\n        <p id={errorId} className=\"text-sm text-destructive\" role=\"alert\">\n          {error}\n        </p>\n      )}\n\n      {helperText && !error && (\n        <p id={helperId} className=\"text-sm text-muted-foreground\">\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// CHECKBOX & RADIO GROUP COMPONENTS\n// ----------------------------------------------------------------------------\n\ninterface AccessibleCheckboxProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, \"type\"> {\n  label: string;\n  description?: string;\n  inputType?: \"checkbox\" | \"radio\";\n}\n\nexport function AccessibleCheckbox({\n  label,\n  description,\n  inputType = \"checkbox\",\n  id,\n  className = \"\",\n  ...props\n}: AccessibleCheckboxProps) {\n  const checkboxId = id || `checkbox-${label.toLowerCase().replace(/\\s+/g, \"-\")}`;\n  const descriptionId = `${checkboxId}-description`;\n\n  return (\n    <div className={`flex items-start gap-3 ${className}`}>\n      <input\n        type={inputType}\n        id={checkboxId}\n        aria-describedby={description ? descriptionId : undefined}\n        className=\"mt-1 h-5 w-5 rounded border-border bg-muted text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n        {...props}\n      />\n      <div className=\"flex flex-col\">\n        <label htmlFor={checkboxId} className=\"text-sm font-medium text-foreground cursor-pointer\">\n          {label}\n        </label>\n        {description && (\n          <p id={descriptionId} className=\"text-sm text-muted-foreground\">\n            {description}\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\ninterface AccessibleRadioGroupProps {\n  name: string;\n  label: string;\n  options: { value: string; label: string; description?: string }[];\n  value?: string;\n  onChange?: (value: string) => void;\n  error?: string;\n  required?: boolean;\n}\n\nexport function AccessibleRadioGroup({\n  name,\n  label,\n  options,\n  value,\n  onChange,\n  error,\n  required,\n}: AccessibleRadioGroupProps) {\n  const groupId = `radio-group-${name}`;\n  const errorId = `${groupId}-error`;\n\n  return (\n    <fieldset className=\"space-y-3\" role=\"radiogroup\" aria-labelledby={`${groupId}-legend`}>\n      <legend id={`${groupId}-legend`} className=\"text-sm font-medium text-foreground\">\n        {label}\n        {required && <span className=\"text-destructive ml-1\" aria-hidden=\"true\">*</span>}\n      </legend>\n      \n      {error && (\n        <p id={errorId} className=\"text-sm text-destructive\" role=\"alert\">\n          {error}\n        </p>\n      )}\n\n      <div className=\"space-y-3\">\n        {options.map((option) => (\n          <AccessibleCheckbox\n            key={option.value}\n            label={option.label}\n            description={option.description}\n            name={name}\n            inputType=\"radio\"\n            checked={value === option.value}\n            onChange={(e) => e.target.checked && onChange?.(option.value)}\n          />\n        ))}\n      </div>\n    </fieldset>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// VISIBILITY & COLOR CONTRAST UTILITIES\n// ----------------------------------------------------------------------------\n\n/**\n * Check if a color meets WCAG AA contrast requirements\n */\nexport function meetsContrastRequirement(\n  foreground: string,\n  background: string,\n  isLargeText = false\n): boolean {\n  const getLuminance = (color: string): number => {\n    const hex = color.replace(\"#\", \"\");\n    const r = parseInt(hex.substr(0, 2), 16) / 255;\n    const g = parseInt(hex.substr(2, 2), 16) / 255;\n    const b = parseInt(hex.substr(4, 2), 16) / 255;\n    \n    const toLinear = (c: number) =>\n      c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n    \n    return 0.2126 * toLinear(r) + 0.7152 * toLinear(g) + 0.0722 * toLinear(b);\n  };\n\n  const l1 = getLuminance(foreground);\n  const l2 = getLuminance(background);\n  const ratio = (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);\n\n  return isLargeText ? ratio >= 3 : ratio >= 4.5;\n}\n\n/**\n * Generate accessible color variations based on background\n */\nexport function getAccessibleColor(\n  foreground: string,\n  background: string\n): { foreground: string; ratio: number } {\n  const ratio = (() => {\n    const getLuminance = (color: string): number => {\n      const hex = color.replace(\"#\", \"\");\n      const r = parseInt(hex.substr(0, 2), 16) / 255;\n      const g = parseInt(hex.substr(2, 2), 16) / 255;\n      const b = parseInt(hex.substr(4, 2), 16) / 255;\n      \n      const toLinear = (c: number) =>\n        c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n      \n      return 0.2126 * toLinear(r) + 0.7152 * toLinear(g) + 0.0722 * toLinear(b);\n    };\n\n    const l1 = getLuminance(foreground);\n    const l2 = getLuminance(background);\n    return (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);\n  })();\n\n  return { foreground, ratio };\n}\n\n// ----------------------------------------------------------------------------\n// KEYBOARD SHORTCUT ANNOUNCEMENT\n// ----------------------------------------------------------------------------\n\ninterface KeyboardShortcutProps {\n  keyName: string;\n  description: string;\n  showKey?: boolean;\n}\n\n/**\n * Display keyboard shortcut with proper accessibility\n */\nexport function KeyboardShortcut({ keyName, description, showKey = true }: KeyboardShortcutProps) {\n  return (\n    <div className=\"flex items-center gap-2 text-sm\">\n      {showKey && (\n        <kbd className=\"px-2 py-1 bg-muted rounded text-xs font-mono border border-border\">\n          {keyName}\n        </kbd>\n      )}\n      <span className=\"text-muted-foreground\">{description}</span>\n    </div>\n  );\n}\n\n// ----------------------------------------------------------------------------\n// EXPORTS\n// ----------------------------------------------------------------------------\n\nexport const a11y = {\n  SkipLink,\n  SkipToMain,\n  LiveRegion,\n  ErrorAnnouncer,\n  SuccessAnnouncer,\n  AnnouncerProvider,\n  useAnnouncer,\n  useFocusTrap,\n  useFocusRestore,\n  useFocusOnMount,\n  useReducedMotion,\n  AccessibleButton,\n  AccessibleInput,\n  AccessibleTextarea,\n  AccessibleModal,\n  AccessibleCard,\n  AccessibleSelect,\n  AccessibleCheckbox,\n  AccessibleRadioGroup,\n  KeyboardShortcut,\n  meetsContrastRequirement,\n  getAccessibleColor,\n};\n","\"use client\";\n\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport { toast } from \"sonner\";\nimport { parseTaskInput, ParsedTask, formatParsedTask } from \"@/lib/nlpUtils\";\nimport { agentService } from \"@/lib/agent/AgentService\";\nimport { useTask } from \"@/context/TaskContext\";\nimport { useUI } from \"@/context/UIContext\";\nimport { useFocusTimer } from \"@/hooks/useFocusTimer\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// ============================================================================\n// SMART TASK INPUT COMPONENT\n// ============================================================================\n\ninterface SmartTaskInputProps {\n    onTaskCreated?: (task: any) => void;\n    placeholder?: string;\n    autoFocus?: boolean;\n    showAnalysis?: boolean;\n    className?: string;\n}\n\ninterface ParsedPreview {\n    show: boolean;\n    parsed: ParsedTask | null;\n    analysis: {\n        intent: string;\n        priority: string;\n        timing: string;\n        category: string;\n    };\n}\n\nexport function SmartTaskInput({\n    onTaskCreated,\n    placeholder = \"What needs to be done? (e.g., 'Meeting tomorrow at 2pm')\",\n    autoFocus = false,\n    showAnalysis = true,\n    className = \"\",\n}: SmartTaskInputProps) {\n    const [input, setInput] = useState(\"\");\n    const [parsedPreview, setParsedPreview] = useState<ParsedPreview>({\n        show: false,\n        parsed: null,\n        analysis: {\n            intent: \"\",\n            priority: \"\",\n            timing: \"\",\n            category: \"\",\n        },\n    });\n    const [isProcessing, setIsProcessing] = useState(false);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    \n    const inputRef = useRef<HTMLTextAreaElement>(null);\n    const debounceRef = useRef<NodeJS.Timeout | null>(null);\n\n    const { addTask, tasks } = useTask();\n    const { } = useUI();\n    const { toggleTimer, setSession, isActive: isFocusActive } = useFocusTimer();\n\n    // Toast helper function\n    const showToast = useCallback((message: string, type: \"success\" | \"error\" | \"info\" | \"warning\") => {\n        switch (type) {\n            case \"success\":\n                toast.success(message);\n                break;\n            case \"error\":\n                toast.error(message);\n                break;\n            case \"warning\":\n                toast.warning(message);\n                break;\n            case \"info\":\n            default:\n                toast.info(message);\n                break;\n        }\n    }, []);\n\n    // Parse input in real-time\n    const updatePreview = useCallback((value: string) => {\n        if (!value.trim()) {\n            setParsedPreview(prev => ({ ...prev, show: false, parsed: null }));\n            return;\n        }\n\n        const parsed = parseTaskInput(value);\n        setParsedPreview({\n            show: true,\n            parsed,\n            analysis: {\n                intent: parsed.intent.charAt(0).toUpperCase() + parsed.intent.slice(1),\n                priority: getPriorityLabel(parsed.priority),\n                timing: formatTiming(parsed),\n                category: parsed.category || \"General\",\n            },\n        });\n    }, []);\n\n    // Handle input change with debounce\n    const handleInputChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        const value = e.target.value;\n        setInput(value);\n\n        // Debounce preview update\n        if (debounceRef.current) {\n            clearTimeout(debounceRef.current);\n        }\n        debounceRef.current = setTimeout(() => {\n            updatePreview(value);\n        }, 150);\n    }, [updatePreview]);\n\n    // Focus input on mount\n    useEffect(() => {\n        if (autoFocus && inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [autoFocus]);\n\n    // Cleanup debounce\n    useEffect(() => {\n        return () => {\n            if (debounceRef.current) {\n                clearTimeout(debounceRef.current);\n            }\n        };\n    }, []);\n\n    // Handle task creation\n    const handleSubmit = useCallback(async (e: React.FormEvent) => {\n        e.preventDefault();\n        \n        if (!input.trim()) return;\n\n        setIsProcessing(true);\n\n        try {\n            const parsed = parseTaskInput(input);\n            \n            // Route based on intent\n            switch (parsed.intent) {\n                case \"focus\":\n                    await handleFocusIntent(parsed);\n                    break;\n                    \n                case \"query\":\n                    handleQueryIntent(parsed);\n                    break;\n                    \n                case \"create\":\n                case \"schedule\":\n                case \"unknown\":\n                default:\n                    await handleCreateIntent(parsed);\n                    break;\n            }\n\n            // Clear input\n            setInput(\"\");\n            setParsedPreview({ show: false, parsed: null, analysis: { intent: \"\", priority: \"\", timing: \"\", category: \"\" } });\n            \n        } catch (error) {\n            console.error(\"Error creating task:\", error);\n            toast.error(\"Failed to create task. Please try again.\");\n        } finally {\n            setIsProcessing(false);\n        }\n    }, [input]);\n\n    // Handle create intent\n    const handleCreateIntent = async (parsed: ParsedTask) => {\n        // Map to the Task interface expected by the context\n        const taskData = {\n            title: parsed.name,\n            icon: \"üìã\",\n            startTime: parsed.time || \"09:00\",\n            endTime: parsed.time ? `${parseInt(parsed.time.split(\":\")[0]) + 1}:00` : \"10:00\",\n            timeBlock: getTimeBlockFromHour(parsed.time ? parseInt(parsed.time.split(\":\")[0]) : 9),\n            days: [\"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\", \"SATURDAY\", \"SUNDAY\"],\n            specificDate: parsed.date || undefined,\n            reminder: parsed.time || undefined,\n            createdAt: new Date().toISOString(),\n        };\n\n        await addTask(taskData);\n        \n        const message = `Created task: ${parsed.name}`;\n        showToast(message, \"success\");\n        onTaskCreated?.({ ...taskData, id: uuidv4() });\n    };\n\n    // Helper function to get time block from hour\n    function getTimeBlockFromHour(hour: number): \"Dawn\" | \"Morning\" | \"Noon\" | \"Afternoon\" | \"Evening\" | \"Night\" {\n        if (hour >= 5 && hour < 8) return \"Dawn\";\n        if (hour >= 8 && hour < 12) return \"Morning\";\n        if (hour >= 12 && hour < 14) return \"Noon\";\n        if (hour >= 14 && hour < 17) return \"Afternoon\";\n        if (hour >= 17 && hour < 20) return \"Evening\";\n        return \"Night\";\n    }\n\n    // Handle focus intent\n    const handleFocusIntent = async (parsed: ParsedTask) => {\n        const durationMatch = parsed.name.match(/(\\d+)/);\n        const duration = parsed.duration \n            ? String(Math.round(parsed.duration / 60)) \n            : (durationMatch ? durationMatch[1] : \"25\");\n        const durationMinutes = parseInt(duration, 10) || 25;\n        \n        // Extract task name from focus command\n        let taskName = parsed.name\n            .replace(/focus|timer|pomodoro|start|begin/i, \"\")\n            .replace(/for\\s+\\d+\\s*(min|minute|hour)s?/i, \"\")\n            .trim();\n\n        if (!taskName) {\n            taskName = \"General focus session\";\n        }\n\n        // Set session type and start timer\n        setSession(\"focus\");\n        toggleTimer();\n        showToast(`Starting ${durationMinutes} minute focus session`, \"success\");\n    };\n\n    // Handle query intent\n    const handleQueryIntent = (parsed: ParsedTask) => {\n        const totalTasks = tasks.length;\n        const completedTasks = tasks.filter(t => t.isCompleted).length;\n        const pendingTasks = totalTasks - completedTasks;\n        \n        let response = `You have ${pendingTasks} tasks pending`;\n        if (completedTasks > 0) {\n            response += ` (${completedTasks} completed)`;\n        }\n        \n        showToast(response, \"info\");\n    };\n\n    // Handle quick actions\n    const handleQuickAction = useCallback((action: string) => {\n        switch (action) {\n            case \"today\":\n                setInput(\"Task for today at \");\n                break;\n            case \"tomorrow\":\n                setInput(\"Task for tomorrow at \");\n                break;\n            case \"weekly\":\n                setInput(\"Weekly routine: \");\n                break;\n            case \"focus\":\n                setInput(\"Focus timer for 25 minutes \");\n                break;\n        }\n        inputRef.current?.focus();\n    }, []);\n\n    return (\n        <div className={`smart-task-input ${className}`}>\n            <form onSubmit={handleSubmit} className=\"relative\">\n                {/* Main input area */}\n                <div className=\"relative\">\n                    <textarea\n                        ref={inputRef}\n                        value={input}\n                        onChange={handleInputChange}\n                        placeholder={placeholder}\n                        className=\"w-full px-4 py-3 pr-24 text-sm bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none min-h-[52px] max-h-[120px]\"\n                        rows={1}\n                        onKeyDown={(e) => {\n                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                e.preventDefault();\n                                handleSubmit(e);\n                            }\n                        }}\n                    />\n\n                    {/* Action buttons */}\n                    <div className=\"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1\">\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowSuggestions(!showSuggestions)}\n                            className=\"p-2 text-gray-400 hover:text-blue-500 transition-colors\"\n                            title=\"Quick actions\"\n                        >\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                            </svg>\n                        </button>\n                        <button\n                            type=\"submit\"\n                            disabled={!input.trim() || isProcessing}\n                            className={`p-2 rounded-lg transition-all ${\n                                input.trim() && !isProcessing\n                                    ? \"bg-blue-500 text-white hover:bg-blue-600\"\n                                    : \"bg-gray-100 text-gray-400 cursor-not-allowed\"\n                            }`}\n                            title=\"Create task (Enter)\"\n                        >\n                            {isProcessing ? (\n                                <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                                </svg>\n                            ) : (\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n                                </svg>\n                            )}\n                        </button>\n                    </div>\n                </div>\n\n                {/* Quick actions panel */}\n                {showSuggestions && (\n                    <div className=\"absolute top-full left-0 right-0 mt-2 p-2 bg-white border border-gray-200 rounded-xl shadow-lg z-50\">\n                        <div className=\"text-xs text-gray-500 px-2 py-1 mb-1\">Quick actions</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                            <button\n                                type=\"button\"\n                                onClick={() => handleQuickAction(\"today\")}\n                                className=\"px-3 py-1.5 text-xs bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors\"\n                            >\n                                + Today\n                            </button>\n                            <button\n                                type=\"button\"\n                                onClick={() => handleQuickAction(\"tomorrow\")}\n                                className=\"px-3 py-1.5 text-xs bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors\"\n                            >\n                                + Tomorrow\n                            </button>\n                            <button\n                                type=\"button\"\n                                onClick={() => handleQuickAction(\"weekly\")}\n                                className=\"px-3 py-1.5 text-xs bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors\"\n                            >\n                                + Weekly\n                            </button>\n                            <button\n                                type=\"button\"\n                                onClick={() => handleQuickAction(\"focus\")}\n                                className=\"px-3 py-1.5 text-xs bg-orange-50 text-orange-600 rounded-lg hover:bg-orange-100 transition-colors\"\n                            >\n                                + Focus\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n                {/* Parsed preview panel */}\n                {showAnalysis && parsedPreview.show && parsedPreview.parsed && (\n                    <div className=\"mt-3 p-3 bg-gray-50 border border-gray-100 rounded-lg\">\n                        {/* Parsed task name */}\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">\n                            {parsedPreview.parsed.name || <span className=\"text-gray-400 italic\">Waiting for task name...</span>}\n                        </div>\n\n                        {/* Analysis badges */}\n                        <div className=\"flex flex-wrap gap-2\">\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                                getIntentColor(parsedPreview.parsed.intent)\n                            }`}>\n                                {parsedPreview.analysis.intent}\n                            </span>\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                                getPriorityColor(parsedPreview.parsed.priority)\n                            }`}>\n                                {parsedPreview.analysis.priority}\n                            </span>\n                            {parsedPreview.parsed.date && (\n                                <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700\">\n                                    {formatDateDisplay(parsedPreview.parsed.date)}\n                                </span>\n                            )}\n                            {parsedPreview.parsed.time && (\n                                <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700\">\n                                    {formatTimeDisplay(parsedPreview.parsed.time)}\n                                </span>\n                            )}\n                            {parsedPreview.parsed.isRecurring && (\n                                <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700\">\n                                    Recurring\n                                </span>\n                            )}\n                            {parsedPreview.parsed.category && parsedPreview.parsed.category !== \"General\" && (\n                                <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600\">\n                                    {parsedPreview.analysis.category}\n                                </span>\n                            )}\n                        </div>\n\n                        {/* Duration indicator */}\n                        {parsedPreview.parsed.duration && (\n                            <div className=\"mt-2 text-xs text-gray-500\">\n                                Duration: {Math.round(parsedPreview.parsed.duration / 60)} minutes\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Keyboard shortcuts hint */}\n                {!input && (\n                    <div className=\"mt-2 flex items-center gap-3 text-xs text-gray-400\">\n                        <span>Enter to create</span>\n                        <span className=\"w-1 h-1 bg-gray-300 rounded-full\" />\n                        <span>Shift+Enter for new line</span>\n                        <span className=\"w-1 h-1 bg-gray-300 rounded-full\" />\n                        <span>@ for quick actions</span>\n                    </div>\n                )}\n            </form>\n        </div>\n    );\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\nfunction getPriorityLabel(priority: number): string {\n    const labels = [\"\", \"Low\", \"Medium\", \"High\", \"Critical\"];\n    return labels[priority] || \"Medium\";\n}\n\nfunction getPriorityColor(priority: number): string {\n    const colors = [\"\", \"bg-gray-100 text-gray-600\", \"bg-yellow-100 text-yellow-700\", \"bg-orange-100 text-orange-700\", \"bg-red-100 text-red-700\"];\n    return colors[priority] || colors[2];\n}\n\nfunction getIntentColor(intent: string): string {\n    const colors: Record<string, string> = {\n        create: \"bg-green-100 text-green-700\",\n        update: \"bg-blue-100 text-blue-700\",\n        delete: \"bg-red-100 text-red-700\",\n        complete: \"bg-emerald-100 text-emerald-700\",\n        focus: \"bg-orange-100 text-orange-700\",\n        query: \"bg-purple-100 text-purple-700\",\n        schedule: \"bg-indigo-100 text-indigo-700\",\n        routine: \"bg-teal-100 text-teal-700\",\n    };\n    return colors[intent] || \"bg-gray-100 text-gray-600\";\n}\n\nfunction formatTiming(parsed: ParsedTask): string {\n    const parts: string[] = [];\n    if (parsed.date) parts.push(formatDateDisplay(parsed.date));\n    if (parsed.time) parts.push(formatTimeDisplay(parsed.time));\n    return parts.join(\" \") || \"No timing set\";\n}\n\nfunction formatDateDisplay(dateStr: string): string {\n    if (!dateStr) return \"\";\n    \n    try {\n        const date = new Date(dateStr);\n        const today = new Date();\n        const tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        \n        if (dateStr === today.toISOString().split(\"T\")[0]) return \"Today\";\n        if (dateStr === tomorrow.toISOString().split(\"T\")[0]) return \"Tomorrow\";\n        \n        return date.toLocaleDateString(\"en-US\", { weekday: \"short\", month: \"short\", day: \"numeric\" });\n    } catch {\n        return dateStr;\n    }\n}\n\nfunction formatTimeDisplay(timeStr: string): string {\n    if (!timeStr) return \"\";\n    \n    try {\n        const [hours, minutes] = timeStr.split(\":\").map(Number);\n        const date = new Date();\n        date.setHours(hours, minutes);\n        \n        return date.toLocaleTimeString(\"en-US\", { hour: \"numeric\", minute: \"2-digit\" });\n    } catch {\n        return timeStr;\n    }\n}\n\nexport default SmartTaskInput;\n","\"use client\";\n\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { toast } from \"sonner\";\nimport { localIntelligence } from \"@/lib/agent/LocalIntelligence\";\nimport { useTask } from \"@/context/TaskContext\";\nimport { SmartSuggestion, HabitInsight, ProductivityScore } from \"@/lib/agent/types\";\n\n// ============================================================================\n// SMART SUGGESTIONS COMPONENT\n// ============================================================================\n\ninterface SmartSuggestionsProps {\n    maxVisible?: number;\n    showProductivity?: boolean;\n    showHabits?: boolean;\n    showActions?: boolean;\n    className?: string;\n    onDismiss?: (id: string) => void;\n    onAction?: (suggestion: SmartSuggestion) => void;\n}\n\ninterface SuggestionWithMetadata extends SmartSuggestion {\n    isNew: boolean;\n    category: \"productivity\" | \"habit\" | \"action\" | \"insight\";\n}\n\nexport function SmartSuggestions({\n    maxVisible = 3,\n    showProductivity = true,\n    showHabits = true,\n    showActions = true,\n    className = \"\",\n    onDismiss,\n    onAction,\n}: SmartSuggestionsProps) {\n    const [suggestions, setSuggestions] = useState<SuggestionWithMetadata[]>([]);\n    const [insights, setInsights] = useState<HabitInsight[]>([]);\n    const [productivity, setProductivity] = useState<ProductivityScore | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isExpanded, setIsExpanded] = useState(false);\n\n    const { tasks } = useTask();\n\n    // Load suggestions and insights\n    useEffect(() => {\n        const loadData = async () => {\n            setIsLoading(true);\n            \n            try {\n                // Analyze tasks for insights\n                const taskData = tasks.map(t => ({\n                    id: t.id,\n                    name: t.title,\n                    completedAt: t.completionHistory.includes(t.specificDate || new Date().toISOString().split(\"T\")[0]) ? Date.now() : undefined,\n                    createdAt: t.createdAt ? new Date(t.createdAt).getTime() : Date.now(),\n                    category: t.timeBlock,\n                    duration: undefined,\n                }));\n\n                // Get analysis from local intelligence\n                const analysis = localIntelligence.analyze(taskData);\n                \n                // Convert insights to suggestions\n                const insightSuggestions = analysis.insights\n                    .filter(i => i.actionable)\n                    .map(insight => ({\n                        id: `insight-${insight.id}`,\n                        type: \"productivity_tip\" as const,\n                        title: insight.title,\n                        description: insight.description,\n                        priority: Math.round(insight.confidence * 10),\n                        actionData: { action: insight.action },\n                        dismissed: false,\n                        generatedAt: insight.generatedAt,\n                        isNew: true,\n                        category: \"insight\" as const,\n                    }));\n\n                // Get regular suggestions\n                const regularSuggestions = analysis.suggestions.map(s => ({\n                    ...s,\n                    isNew: true,\n                    category: categorizeSuggestion(s.type),\n                }));\n\n                // Combine and deduplicate\n                const allSuggestions = [...insightSuggestions, ...regularSuggestions];\n                const uniqueSuggestions = deduplicateSuggestions(allSuggestions);\n\n                setSuggestions(uniqueSuggestions);\n                setInsights(analysis.insights);\n                setProductivity(analysis.productivity);\n                \n            } catch (error) {\n                console.error(\"Failed to load suggestions:\", error);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        loadData();\n        \n        // Refresh every 5 minutes\n        const interval = setInterval(loadData, 5 * 60 * 1000);\n        return () => clearInterval(interval);\n    }, [tasks.length, tasks.map(t => t.id).join(\",\")]);\n\n    // Filter suggestions based on props\n    const filteredSuggestions = useMemo(() => {\n        return suggestions.filter(s => {\n            if (!showActions && s.category === \"action\") return false;\n            if (!showHabits && s.category === \"habit\") return false;\n            if (!showProductivity && (s.category === \"productivity\" || s.category === \"insight\")) return false;\n            return true;\n        });\n    }, [suggestions, showActions, showHabits, showProductivity]);\n\n    // Visible suggestions\n    const visibleSuggestions = isExpanded \n        ? filteredSuggestions \n        : filteredSuggestions.slice(0, maxVisible);\n\n    // Dismiss suggestion\n    const handleDismiss = useCallback((id: string) => {\n        setSuggestions(prev => prev.filter(s => s.id !== id));\n        onDismiss?.(id);\n    }, [onDismiss]);\n\n    // Handle suggestion action\n    const handleAction = useCallback((suggestion: SuggestionWithMetadata) => {\n        // Mark as not new\n        setSuggestions(prev => prev.map(s => \n            s.id === suggestion.id ? { ...s, isNew: false } : s\n        ));\n\n        // Execute action if callback provided\n        if (onAction) {\n            onAction(suggestion);\n        } else {\n            // Default actions using toast\n            switch (suggestion.type) {\n                case \"habit_formation\":\n                    toast.info(\"Creating routine...\");\n                    break;\n                case \"time_optimization\":\n                    toast.info(\"Adjusting your schedule...\");\n                    break;\n                case \"break_reminder\":\n                    toast.success(\"Take a break! You've earned it.\");\n                    break;\n                case \"streak_motivation\":\n                    toast.success(\"Keep up the great work!\");\n                    break;\n                default:\n                    toast.info(suggestion.title);\n            }\n        }\n    }, [onAction]);\n\n    // Mark suggestion as read\n    const handleMarkRead = useCallback((id: string) => {\n        setSuggestions(prev => prev.map(s => \n            s.id === id ? { ...s, isNew: false } : s\n        ));\n    }, []);\n\n    if (isLoading) {\n        return (\n            <div className={`smart-suggestions ${className}`}>\n                <div className=\"animate-pulse\">\n                    <div className=\"h-4 bg-gray-200 rounded w-1/3 mb-3\" />\n                    <div className=\"space-y-2\">\n                        <div className=\"h-16 bg-gray-100 rounded-lg\" />\n                        <div className=\"h-16 bg-gray-100 rounded-lg\" />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    if (filteredSuggestions.length === 0) {\n        return null;\n    }\n\n    return (\n        <div className={`smart-suggestions ${className}`}>\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\n                    <svg className=\"w-4 h-4 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                    </svg>\n                    Smart Suggestions\n                </h3>\n                \n                {productivity && (\n                    <ProductivityBadge score={productivity.overall} />\n                )}\n            </div>\n\n            {/* Suggestions list */}\n            <div className=\"space-y-2\">\n                {visibleSuggestions.map(suggestion => (\n                    <SuggestionCard\n                        key={suggestion.id}\n                        suggestion={suggestion}\n                        onDismiss={handleDismiss}\n                        onAction={handleAction}\n                        onMarkRead={handleMarkRead}\n                    />\n                ))}\n            </div>\n\n            {/* Expand/Collapse button */}\n            {filteredSuggestions.length > maxVisible && (\n                <button\n                    onClick={() => setIsExpanded(!isExpanded)}\n                    className=\"w-full mt-3 py-2 text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors\"\n                >\n                    {isExpanded \n                        ? `Show less (${filteredSuggestions.length - maxVisible} hidden)`\n                        : `Show ${filteredSuggestions.length - maxVisible} more suggestions`\n                    }\n                </button>\n            )}\n        </div>\n    );\n}\n\n// ============================================================================\n// SUGGESTION CARD COMPONENT\n// ============================================================================\n\ninterface SuggestionCardProps {\n    suggestion: SuggestionWithMetadata;\n    onDismiss: (id: string) => void;\n    onAction: (suggestion: SuggestionWithMetadata) => void;\n    onMarkRead: (id: string) => void;\n}\n\nfunction SuggestionCard({ suggestion, onDismiss, onAction, onMarkRead }: SuggestionCardProps) {\n    const [isHovered, setIsHovered] = useState(false);\n\n    const getTypeConfig = () => {\n        const configs: Record<string, { icon: string; color: string; bgColor: string }> = {\n            habit_formation: { icon: \"üîÑ\", color: \"text-purple-600\", bgColor: \"bg-purple-50\" },\n            time_optimization: { icon: \"‚è∞\", color: \"text-blue-600\", bgColor: \"bg-blue-50\" },\n            break_reminder: { icon: \"‚òï\", color: \"text-orange-600\", bgColor: \"bg-orange-50\" },\n            streak_motivation: { icon: \"üî•\", color: \"text-red-600\", bgColor: \"bg-red-50\" },\n            context_switch: { icon: \"üîÄ\", color: \"text-indigo-600\", bgColor: \"bg-indigo-50\" },\n            routine_suggestion: { icon: \"üìã\", color: \"text-teal-600\", bgColor: \"bg-teal-50\" },\n            productivity_tip: { icon: \"üí°\", color: \"text-yellow-600\", bgColor: \"bg-yellow-50\" },\n            goal_alignment: { icon: \"üéØ\", color: \"text-green-600\", bgColor: \"bg-green-50\" },\n        };\n        return configs[suggestion.type] || { icon: \"‚ú®\", color: \"text-gray-600\", bgColor: \"bg-gray-50\" };\n    };\n\n    const config = getTypeConfig();\n\n    const handleCardClick = () => {\n        onMarkRead(suggestion.id);\n        onAction(suggestion);\n    };\n\n    return (\n        <div\n            className={`relative p-3 rounded-xl border transition-all duration-200 cursor-pointer ${\n                suggestion.isNew\n                    ? \"border-blue-200 bg-blue-50/50 hover:bg-blue-50\"\n                    : \"border-gray-100 bg-white hover:border-gray-200\"\n            } ${isHovered ? \"shadow-md transform -translate-y-0.5\" : \"shadow-sm\"}`}\n            onMouseEnter={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n            onClick={handleCardClick}\n        >\n            <div className=\"flex items-start gap-3\">\n                {/* Type icon */}\n                <div className={`flex-shrink-0 w-8 h-8 rounded-lg ${config.bgColor} ${config.color} flex items-center justify-center text-sm`}>\n                    {config.icon}\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                        <h4 className=\"text-sm font-medium text-gray-700 truncate\">\n                            {suggestion.title}\n                        </h4>\n                        \n                        {/* Dismiss button */}\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onDismiss(suggestion.id);\n                            }}\n                            className=\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 rounded transition-colors opacity-0 group-hover:opacity-100\"\n                            title=\"Dismiss\"\n                        >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                            </svg>\n                        </button>\n                    </div>\n                    \n                    <p className=\"mt-0.5 text-xs text-gray-500 line-clamp-2\">\n                        {suggestion.description}\n                    </p>\n\n                    {/* New badge */}\n                    {suggestion.isNew && (\n                        <span className=\"inline-flex items-center mt-2 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-600 rounded\">\n                            New\n                        </span>\n                    )}\n                </div>\n            </div>\n\n            {/* Hover action indicator */}\n            <div className={`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 transition-opacity ${\n                isHovered ? \"opacity-100\" : \"opacity-0\"\n            }`} />\n        </div>\n    );\n}\n\n// ============================================================================\n// PRODUCTIVITY BADGE COMPONENT\n// ============================================================================\n\ninterface ProductivityBadgeProps {\n    score: number;\n}\n\nfunction ProductivityBadge({ score }: ProductivityBadgeProps) {\n    const getScoreConfig = () => {\n        if (score >= 80) return { label: \"Great\", color: \"text-green-600\", bgColor: \"bg-green-100\" };\n        if (score >= 60) return { label: \"Good\", color: \"text-blue-600\", bgColor: \"bg-blue-100\" };\n        if (score >= 40) return { label: \"Okay\", color: \"text-yellow-600\", bgColor: \"bg-yellow-100\" };\n        return { label: \"Low\", color: \"text-orange-600\", bgColor: \"bg-orange-100\" };\n    };\n\n    const config = getScoreConfig();\n\n    return (\n        <div className={`flex items-center gap-1.5 px-2 py-1 rounded-full ${config.bgColor}`}>\n            <span className={`text-xs font-medium ${config.color}`}>\n                {config.label}\n            </span>\n            <span className={`text-xs font-bold ${config.color}`}>\n                {score}%\n            </span>\n        </div>\n    );\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\nfunction categorizeSuggestion(type: SmartSuggestion[\"type\"]): \"productivity\" | \"habit\" | \"action\" | \"insight\" {\n    const habitTypes: SmartSuggestion[\"type\"][] = [\"habit_formation\", \"routine_suggestion\", \"streak_motivation\"];\n    const productivityTypes: SmartSuggestion[\"type\"][] = [\"time_optimization\", \"productivity_tip\", \"goal_alignment\"];\n    const actionTypes: SmartSuggestion[\"type\"][] = [\"break_reminder\", \"context_switch\"];\n\n    if (habitTypes.includes(type)) return \"habit\";\n    if (productivityTypes.includes(type)) return \"productivity\";\n    if (actionTypes.includes(type)) return \"action\";\n    return \"insight\";\n}\n\nfunction deduplicateSuggestions(suggestions: SuggestionWithMetadata[]): SuggestionWithMetadata[] {\n    const seen = new Set<string>();\n    return suggestions.filter(s => {\n        const key = s.title.toLowerCase();\n        if (seen.has(key)) return false;\n        seen.add(key);\n        return true;\n    });\n}\n\nexport default SmartSuggestions;\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { LandingPage } from \"@/components/LandingPage\";\nimport { Header } from \"@/components/Header\";\nimport { ProgressBar } from \"@/components/ProgressBar\";\nimport { DayNavigation } from \"@/components/DayNavigation\";\nimport { TimeBlock } from \"@/components/TimeBlock\";\nimport { TaskModal } from \"@/components/TaskModal\";\nimport { OnboardingTour } from \"@/components/OnboardingTour\";\nimport { TimeBlock as TimeBlockType, Task, useTask } from \"@/context/TaskContext\";\nimport { Button } from \"@/components/ui/Button\";\nimport { Plus } from \"lucide-react\";\nimport { a11y } from \"@/components/Accessibility\";\nimport { GlassCard } from \"@/components/ui/EnhancedComponents\";\nimport { useSync } from \"@/context/SyncContext\";\nimport { SmartTaskInput } from \"@/components/agent/SmartTaskInput\";\nimport { SmartSuggestions } from \"@/components/agent/SmartSuggestions\";\n\nconst TIME_BLOCKS: TimeBlockType[] = [\"Dawn\", \"Morning\", \"Noon\", \"Afternoon\", \"Evening\", \"Night\"];\n\nexport default function Home() {\n  const { user, isLoading: isAuthLoading } = useAuth();\n  const { loading: isTasksLoading, totalTasksToday, isOnline } = useTask();\n  const { pendingCount } = useSync();\n  const [isTaskModalOpen, setIsTaskModalOpen] = useState(false);\n  const [taskToEdit, setTaskToEdit] = useState<Task | undefined>(undefined);\n  const reducedMotion = a11y.useReducedMotion();\n\n  // Loading state with accessibility announcements\n  if (isAuthLoading || isTasksLoading) {\n    return (\n      <div \n        className=\"flex min-h-screen flex-col items-center justify-center bg-black\"\n        role=\"status\"\n        aria-label=\"Loading your routines\"\n      >\n        <div className=\"relative\">\n          <div className={`h-12 w-12 animate-spin rounded-full border-4 border-purple-500 border-t-transparent ${reducedMotion ? 'animate-none' : ''}`}></div>\n          <div className=\"absolute inset-0 h-12 w-12 animate-pulse rounded-full bg-purple-500/20 blur-md\"></div>\n        </div>\n        <div className=\"mt-6 text-center space-y-1\">\n          <p className=\"text-base font-semibold text-foreground\">Loading your routines</p>\n          <p className=\"text-xs text-muted-foreground\">Getting everything ready...</p>\n        </div>\n        <a11y.LiveRegion message=\"Loading your routines, please wait\" type=\"polite\" clearAfter={0} />\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LandingPage />;\n  }\n\n  const handleAddTask = () => {\n    setTaskToEdit(undefined);\n    setIsTaskModalOpen(true);\n  };\n\n  const handleEditTask = (task: Task) => {\n    setTaskToEdit(task);\n    setIsTaskModalOpen(true);\n  };\n\n  return (\n    <>\n      {/* Skip link for keyboard navigation */}\n      <a11y.SkipLink />\n\n      {/* Live region for dynamic announcements */}\n      <a11y.LiveRegion message=\"\" clearAfter={0} />\n\n      <div className=\"min-h-screen bg-background text-foreground selection:bg-purple-500/30\">\n        <Header />\n\n        <main id=\"main-content\" className=\"mx-auto max-w-7xl px-4 py-8 md:px-8\" tabIndex={-1}>\n          <div className=\"flex flex-col gap-2\">\n            <ProgressBar onAddTask={handleAddTask} />\n\n            <DayNavigation />\n\n            {/* AI-Powered Smart Input */}\n            <GlassCard className=\"my-4 p-4\">\n              <SmartTaskInput\n                placeholder=\"Ask AI to create tasks, set timers, or answer questions...\"\n                showAnalysis={true}\n                className=\"w-full\"\n              />\n            </GlassCard>\n\n            {/* Smart Suggestions Panel */}\n            <SmartSuggestions\n              maxVisible={3}\n              showProductivity={true}\n              showHabits={true}\n              showActions={true}\n              className=\"mb-6\"\n            />\n\n            {/* Empty State Banner - Only show when online with no tasks */}\n            {/* Note: Offline state is now handled by SyncStatusIndicator component */}\n            {(!isTasksLoading && totalTasksToday === 0 && isOnline) && (\n              <GlassCard \n                className=\"my-6 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-500/20\"\n                role=\"status\"\n                aria-live=\"polite\"\n              >\n                <div className=\"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-6\">\n                  <div className=\"space-y-2\">\n                    <h3 className=\"text-2xl font-bold text-foreground\">Ready to conquer the day?</h3>\n                    <p className=\"text-muted-foreground max-w-md\">Your schedule is clear. Start from scratch or use a proved template to hit the ground running.</p>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <Button \n                      onClick={handleAddTask} \n                      className=\"bg-foreground text-background hover:opacity-90 font-bold rounded-xl h-12 px-6\"\n                      aria-label=\"Create your first routine task\"\n                    >\n                      <Plus className=\"w-4 h-4 mr-2\" aria-hidden=\"true\" /> Create Routine\n                    </Button>\n                  </div>\n                </div>\n                {/* Background Decor */}\n                <div className=\"absolute top-0 right-0 -mt-10 -mr-10 h-64 w-64 bg-purple-500/10 blur-[80px] rounded-full pointer-events-none\" aria-hidden=\"true\" />\n              </GlassCard>\n            )}\n\n            <div \n              className=\"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2\"\n              role=\"list\"\n              aria-label=\"Time blocks with routine tasks\"\n            >\n              {TIME_BLOCKS.map((block) => (\n                <TimeBlock\n                  key={block}\n                  block={block}\n                  timeRange={getTimeRange(block)}\n                  onEditTask={handleEditTask}\n                  role=\"listitem\"\n                />\n              ))}\n            </div>\n\n            <OnboardingTour />\n          </div>\n        </main>\n\n        <TaskModal\n          isOpen={isTaskModalOpen}\n          onClose={() => setIsTaskModalOpen(false)}\n          taskToEdit={taskToEdit}\n        />\n\n        {/* Footer / Info */}\n        <footer className=\"py-12 text-center text-muted-foreground/20 text-[10px] font-bold uppercase tracking-[0.2em]\">\n          Designed for Excellence ‚Ä¢ Powered by RT\n        </footer>\n      </div>\n    </>\n  );\n}\n\nfunction getTimeRange(block: TimeBlockType): string {\n  switch (block) {\n    case \"Dawn\": return \"4:00 AM - 6:00 AM\";\n    case \"Morning\": return \"6:00 AM - 12:00 PM\";\n    case \"Noon\": return \"12:00 PM - 2:00 PM\";\n    case \"Afternoon\": return \"2:00 PM - 5:00 PM\";\n    case \"Evening\": return \"5:00 PM - 8:00 PM\";\n    case \"Night\": return \"8:00 PM - 4:00 AM\";\n    default: return \"\";\n  }\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 2v8', key: '1q4o3n' }],\n  ['path', { d: 'm4.93 10.93 1.41 1.41', key: '2a7f42' }],\n  ['path', { d: 'M2 18h2', key: 'j10viu' }],\n  ['path', { d: 'M20 18h2', key: 'wocana' }],\n  ['path', { d: 'm19.07 10.93-1.41 1.41', key: '15zs5n' }],\n  ['path', { d: 'M22 22H2', key: '19qnx5' }],\n  ['path', { d: 'm8 6 4-4 4 4', key: 'ybng9g' }],\n  ['path', { d: 'M16 18a4 4 0 0 0-8 0', key: '1lzouq' }],\n];\n\n/**\n * @component @name Sunrise\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMnY4IiAvPgogIDxwYXRoIGQ9Im00LjkzIDEwLjkzIDEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMiAxOGgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxOGgyIiAvPgogIDxwYXRoIGQ9Im0xOS4wNyAxMC45My0xLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0iTTIyIDIySDIiIC8+CiAgPHBhdGggZD0ibTggNiA0LTQgNCA0IiAvPgogIDxwYXRoIGQ9Ik0xNiAxOGE0IDQgMCAwIDAtOCAwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sunrise\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sunrise = createLucideIcon('sunrise', __iconNode);\n\nexport default Sunrise;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 3v1', key: '1asbbs' }],\n  ['path', { d: 'M12 20v1', key: '1wcdkc' }],\n  ['path', { d: 'M3 12h1', key: 'lp3yf2' }],\n  ['path', { d: 'M20 12h1', key: '1vloll' }],\n  ['path', { d: 'm18.364 5.636-.707.707', key: '1hakh0' }],\n  ['path', { d: 'm6.343 17.657-.707.707', key: '18m9nf' }],\n  ['path', { d: 'm5.636 5.636.707.707', key: '1xv1c5' }],\n  ['path', { d: 'm17.657 17.657.707.707', key: 'vl76zb' }],\n];\n\n/**\n * @component @name SunMedium\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xMiAzdjEiIC8+CiAgPHBhdGggZD0iTTEyIDIwdjEiIC8+CiAgPHBhdGggZD0iTTMgMTJoMSIgLz4KICA8cGF0aCBkPSJNMjAgMTJoMSIgLz4KICA8cGF0aCBkPSJtMTguMzY0IDUuNjM2LS43MDcuNzA3IiAvPgogIDxwYXRoIGQ9Im02LjM0MyAxNy42NTctLjcwNy43MDciIC8+CiAgPHBhdGggZD0ibTUuNjM2IDUuNjM2LjcwNy43MDciIC8+CiAgPHBhdGggZD0ibTE3LjY1NyAxNy42NTcuNzA3LjcwNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sun-medium\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SunMedium = createLucideIcon('sun-medium', __iconNode);\n\nexport default SunMedium;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('arrow-right', __iconNode);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n  ['path', { d: 'M15.947 12.65a4 4 0 0 0-5.925-4.128', key: 'dpwdj0' }],\n  ['path', { d: 'M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z', key: 's09mg5' }],\n];\n\n/**\n * @component @name CloudSun\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMnYyIiAvPgogIDxwYXRoIGQ9Im00LjkzIDQuOTMgMS40MSAxLjQxIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgogIDxwYXRoIGQ9Im0xOS4wNyA0LjkzLTEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMTUuOTQ3IDEyLjY1YTQgNCAwIDAgMC01LjkyNS00LjEyOCIgLz4KICA8cGF0aCBkPSJNMTMgMjJIN2E1IDUgMCAxIDEgNC45LTZIMTNhMyAzIDAgMCAxIDAgNloiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/cloud-sun\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CloudSun = createLucideIcon('cloud-sun', __iconNode);\n\nexport default CloudSun;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 10V2', key: '16sf7g' }],\n  ['path', { d: 'm4.93 10.93 1.41 1.41', key: '2a7f42' }],\n  ['path', { d: 'M2 18h2', key: 'j10viu' }],\n  ['path', { d: 'M20 18h2', key: 'wocana' }],\n  ['path', { d: 'm19.07 10.93-1.41 1.41', key: '15zs5n' }],\n  ['path', { d: 'M22 22H2', key: '19qnx5' }],\n  ['path', { d: 'm16 6-4 4-4-4', key: '6wukr' }],\n  ['path', { d: 'M16 18a4 4 0 0 0-8 0', key: '1lzouq' }],\n];\n\n/**\n * @component @name Sunset\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTBWMiIgLz4KICA8cGF0aCBkPSJtNC45MyAxMC45MyAxLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0iTTIgMThoMiIgLz4KICA8cGF0aCBkPSJNMjAgMThoMiIgLz4KICA8cGF0aCBkPSJtMTkuMDcgMTAuOTMtMS40MSAxLjQxIiAvPgogIDxwYXRoIGQ9Ik0yMiAyMkgyIiAvPgogIDxwYXRoIGQ9Im0xNiA2LTQgNC00LTQiIC8+CiAgPHBhdGggZD0iTTE2IDE4YTQgNCAwIDAgMC04IDAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sunset\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sunset = createLucideIcon('sunset', __iconNode);\n\nexport default Sunset;\n","// ============================================================================\n// LOCAL INTELLIGENCE ENGINE\n// ============================================================================\n// Analytics engine for local-first habit detection and productivity insights\n// Runs entirely in the browser without server dependencies\n\nimport {\n    HabitInsight,\n    ProductivityScore,\n    SmartSuggestion,\n    HabitPattern,\n    TaskRecord,\n    StoredFact,\n    SuggestionType,\n    TimeSlot,\n} from \"./types\";\n\n// ============================================================================\n// CONFIGURATION\n// ============================================================================\n\nconst CONFIG = {\n    MIN_DATA_POINTS_FOR_PATTERN: 3,\n    CONFIDENCE_THRESHOLDS: {\n        HIGH: 0.8,\n        MEDIUM: 0.5,\n        LOW: 0.3,\n    },\n    TIME_WINDOWS: {\n        MORNING: { start: 6, end: 12 },\n        AFTERNOON: { start: 12, end: 17 },\n        EVENING: { start: 17, end: 22 },\n    },\n    STORAGE_KEYS: {\n        HABIT_PATTERNS: \"agent_habit_patterns\",\n        TASK_HISTORY: \"agent_task_history\",\n        USER_FACTS: \"agent_user_facts\",\n        LAST_ANALYSIS: \"agent_last_analysis\",\n    },\n};\n\n// ============================================================================\n// STORAGE UTILITIES\n// ============================================================================\n\nclass LocalStorageStore<T> {\n    private key: string;\n\n    constructor(key: string) {\n        this.key = key;\n    }\n\n    save(data: T[]): void {\n        try {\n            if (typeof window !== \"undefined\") {\n                localStorage.setItem(this.key, JSON.stringify(data));\n            }\n        } catch (e) {\n            console.warn(\"Failed to save to localStorage:\", e);\n        }\n    }\n\n    load(): T[] {\n        try {\n            if (typeof window !== \"undefined\") {\n                const stored = localStorage.getItem(this.key);\n                return stored ? JSON.parse(stored) : [];\n            }\n        } catch (e) {\n            console.warn(\"Failed to load from localStorage:\", e);\n        }\n        return [];\n    }\n\n    clear(): void {\n        if (typeof window !== \"undefined\") {\n            localStorage.removeItem(this.key);\n        }\n    }\n}\n\n// ============================================================================\n// PATTERN DETECTION ENGINE\n// ============================================================================\n\nclass PatternDetector {\n    private patterns: Map<string, HabitPattern> = new Map();\n\n    constructor() {\n        this.loadPatterns();\n    }\n\n    private loadPatterns(): void {\n        const stored = new LocalStorageStore<HabitPattern>(CONFIG.STORAGE_KEYS.HABIT_PATTERNS).load();\n        stored.forEach(p => this.patterns.set(p.id, p));\n    }\n\n    savePatterns(): void {\n        const patternsArray = Array.from(this.patterns.values());\n        new LocalStorageStore<HabitPattern>(CONFIG.STORAGE_KEYS.HABIT_PATTERNS).save(patternsArray);\n    }\n\n    detectPatterns(tasks: TaskRecord[]): HabitPattern[] {\n        const newPatterns: HabitPattern[] = [];\n\n        // Group tasks by category\n        const categoryGroups: Record<string, TaskRecord[]> = {};\n        tasks.forEach(task => {\n            const category = task.category || \"uncategorized\";\n            if (!categoryGroups[category]) {\n                categoryGroups[category] = [];\n            }\n            categoryGroups[category].push(task);\n        });\n\n        // Analyze each category for patterns\n        Object.entries(categoryGroups).forEach(([category, categoryTasks]) => {\n            if (categoryTasks.length < CONFIG.MIN_DATA_POINTS_FOR_PATTERN) return;\n\n            // Time distribution analysis\n            const timeDistribution = this.analyzeTimeDistribution(categoryTasks);\n\n            // Frequency analysis\n            const frequency = this.determineFrequency(categoryTasks);\n\n            // Consistency score\n            const consistency = this.calculateConsistency(categoryTasks);\n\n            // Create pattern if consistent enough\n            if (consistency >= CONFIG.CONFIDENCE_THRESHOLDS.MEDIUM) {\n                const pattern: HabitPattern = {\n                    id: `pattern-${category}-${Date.now()}`,\n                    name: `${category} routine`,\n                    frequency,\n                    trigger: \"scheduled\",\n                    action: category,\n                    successRate: consistency,\n                    streak: this.calculateCurrentStreak(categoryTasks),\n                    bestStreak: this.calculateBestStreak(categoryTasks),\n                    lastCompleted: categoryTasks[0]?.completedAt || null,\n                    averageDuration: this.calculateAverageDuration(categoryTasks),\n                    timeDistribution,\n                };\n\n                const existingPattern = Array.from(this.patterns.values()).find(\n                    p => p.name === pattern.name && p.frequency === pattern.frequency\n                );\n\n                if (existingPattern) {\n                    // Update existing pattern\n                    existingPattern.successRate = (existingPattern.successRate + consistency) / 2;\n                    existingPattern.streak = pattern.streak;\n                    existingPattern.lastCompleted = pattern.lastCompleted;\n                    existingPattern.timeDistribution = pattern.timeDistribution;\n                    this.patterns.set(existingPattern.id, existingPattern);\n                } else {\n                    // Create new pattern\n                    this.patterns.set(pattern.id, pattern);\n                    newPatterns.push(pattern);\n                }\n            }\n        });\n\n        this.savePatterns();\n        return newPatterns;\n    }\n\n    private analyzeTimeDistribution(tasks: TaskRecord[]): TimeSlot[] {\n        const hourCounts: Record<number, number> = {};\n        \n        tasks.forEach(task => {\n            const hour = new Date(task.completedAt).getHours();\n            hourCounts[hour] = (hourCounts[hour] || 0) + 1;\n        });\n\n        return Object.entries(hourCounts).map(([hour, count]) => ({\n            hour: parseInt(hour),\n            count,\n        })).sort((a, b) => b.count - a.count);\n    }\n\n    private determineFrequency(tasks: TaskRecord[]): HabitPattern[\"frequency\"] {\n        if (tasks.length < 2) return \"daily\";\n\n        const timeSpan = tasks[tasks.length - 1].completedAt - tasks[0].completedAt;\n        const daysSpan = timeSpan / (24 * 60 * 60 * 1000);\n        const avgDaysBetween = daysSpan / (tasks.length - 1);\n\n        if (avgDaysBetween < 1.5) return \"daily\";\n        if (avgDaysBetween < 8) return \"weekly\";\n        return \"monthly\";\n    }\n\n    private calculateConsistency(tasks: TaskRecord[]): number {\n        if (tasks.length < 2) return 0.5;\n\n        const dayGroups: Record<string, number> = {};\n        tasks.forEach(task => {\n            const day = new Date(task.completedAt).toISOString().split(\"T\")[0];\n            dayGroups[day] = (dayGroups[day] || 0) + 1;\n        });\n\n        // Check if tasks are spread across multiple days (good consistency)\n        const daysActive = Object.keys(dayGroups).length;\n        const totalTasks = tasks.length;\n\n        if (daysActive === 0) return 0;\n        return Math.min(1, totalTasks / (daysActive * 2));\n    }\n\n    private calculateCurrentStreak(tasks: TaskRecord[]): number {\n        if (tasks.length === 0) return 0;\n\n        const sortedTasks = [...tasks].sort((a, b) => b.completedAt - a.completedAt);\n        let streak = 0;\n        let currentDate = new Date().toISOString().split(\"T\")[0];\n\n        for (const task of sortedTasks) {\n            const taskDate = new Date(task.completedAt).toISOString().split(\"T\")[0];\n            const taskDateObj = new Date(taskDate);\n            const currentDateObj = new Date(currentDate);\n\n            const diffDays = Math.floor((currentDateObj.getTime() - taskDateObj.getTime()) / (24 * 60 * 60 * 1000));\n\n            if (diffDays <= streak + 1) {\n                streak++;\n                currentDate = taskDate;\n            } else {\n                break;\n            }\n        }\n\n        return streak;\n    }\n\n    private calculateBestStreak(tasks: TaskRecord[]): number {\n        // Simplified best streak calculation\n        return this.calculateCurrentStreak(tasks);\n    }\n\n    private calculateAverageDuration(tasks: TaskRecord[]): number {\n        const totalDuration = tasks.reduce((sum, task) => sum + task.duration, 0);\n        return tasks.length > 0 ? totalDuration / tasks.length : 0;\n    }\n\n    getPatterns(): HabitPattern[] {\n        return Array.from(this.patterns.values());\n    }\n\n    getPattern(id: string): HabitPattern | undefined {\n        return this.patterns.get(id);\n    }\n}\n\n// ============================================================================\n// PRODUCTIVITY ANALYZER\n// ============================================================================\n\nclass ProductivityAnalyzer {\n    calculateProductivityScore(\n        tasks: Array<{ completedAt?: number; createdAt: number; category?: string; duration?: number }>\n    ): ProductivityScore {\n        const now = new Date();\n        const thisWeek = tasks.filter(t => {\n            if (!t.completedAt) return false;\n            const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n            return t.completedAt > weekAgo.getTime();\n        });\n\n        const thisMonth = tasks.filter(t => {\n            if (!t.completedAt) return false;\n            const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n            return t.completedAt > monthAgo.getTime();\n        });\n\n        // Calculate time-of-day distribution\n        const timeDistribution = this.analyzeTimeOfDayDistribution(thisWeek);\n        const morningScore = this.calculateTimeBlockScore(timeDistribution, CONFIG.TIME_WINDOWS.MORNING);\n        const afternoonScore = this.calculateTimeBlockScore(timeDistribution, CONFIG.TIME_WINDOWS.AFTERNOON);\n        const eveningScore = this.calculateTimeBlockScore(timeDistribution, CONFIG.TIME_WINDOWS.EVENING);\n\n        // Calculate overall score based on completion rate\n        const totalCreated = tasks.filter(t => t.createdAt > now.getTime() - 7 * 24 * 60 * 60 * 1000).length;\n        const completionRate = totalCreated > 0 ? (thisWeek.length / totalCreated) : 0.5;\n        const overallScore = Math.min(100, Math.round(completionRate * 100 * 1.2));\n\n        // Calculate focus score (tasks with duration > 0)\n        const focusTasks = tasks.filter(t => (t.duration || 0) > 0 && t.completedAt);\n        const focusScore = thisWeek.length > 0 \n            ? Math.min(100, Math.round((focusTasks.length / thisWeek.length) * 100))\n            : 50;\n\n        // Calculate consistency score\n        const consistencyScore = this.calculateConsistencyScore(tasks);\n\n        return {\n            overall: Math.round(overallScore),\n            morningScore: Math.round(morningScore),\n            afternoonScore: Math.round(afternoonScore),\n            eveningScore: Math.round(eveningScore),\n            focusScore: Math.round(focusScore),\n            consistencyScore: Math.round(consistencyScore),\n            calculatedAt: Date.now(),\n        };\n    }\n\n    private analyzeTimeOfDayDistribution(tasks: Array<{ completedAt?: number }>): Map<number, number> {\n        const distribution = new Map<number, number>();\n\n        tasks.forEach(task => {\n            if (task.completedAt) {\n                const hour = new Date(task.completedAt).getHours();\n                distribution.set(hour, (distribution.get(hour) || 0) + 1);\n            }\n        });\n\n        return distribution;\n    }\n\n    private calculateTimeBlockScore(\n        distribution: Map<number, number>,\n        window: { start: number; end: number }\n    ): number {\n        let windowTasks = 0;\n        let totalTasks = 0;\n\n        distribution.forEach((count, hour) => {\n            totalTasks += count;\n            if (hour >= window.start && hour < window.end) {\n                windowTasks += count;\n            }\n        });\n\n        return totalTasks > 0 ? (windowTasks / totalTasks) * 100 : 33;\n    }\n\n    private calculateConsistencyScore(tasks: Array<{ completedAt?: number }>): number {\n        const now = new Date();\n        const last30Days: number[] = [];\n\n        for (let i = 0; i < 30; i++) {\n            const dayStart = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);\n            dayStart.setHours(0, 0, 0, 0);\n            const dayEnd = new Date(dayStart.getTime() + 24 * 60 * 60 * 1000);\n\n            const dayTasks = tasks.filter(t => \n                t.completedAt && \n                t.completedAt >= dayStart.getTime() && \n                t.completedAt < dayEnd.getTime()\n            );\n\n            last30Days.push(dayTasks.length > 0 ? 1 : 0);\n        }\n\n        const activeDays = last30Days.filter(d => d === 1).length;\n        return (activeDays / 30) * 100;\n    }\n}\n\n// ============================================================================\n// INSIGHT GENERATOR\n// ============================================================================\n\nclass InsightGenerator {\n    private patternDetector: PatternDetector;\n    private productivityAnalyzer: ProductivityAnalyzer;\n\n    constructor() {\n        this.patternDetector = new PatternDetector();\n        this.productivityAnalyzer = new ProductivityAnalyzer();\n    }\n\n    generateInsights(\n        tasks: TaskRecord[],\n        patterns: HabitPattern[],\n        productivity: ProductivityScore\n    ): HabitInsight[] {\n        const insights: HabitInsight[] = [];\n\n        // Streak insights\n        const activeStreaks = patterns.filter(p => p.streak >= 3);\n        activeStreaks.forEach(pattern => {\n            insights.push({\n                id: `insight-streak-${pattern.id}`,\n                type: \"streak\",\n                title: `${pattern.name} streak!`,\n                description: `You've maintained your ${pattern.name} for ${pattern.streak} consecutive periods. Keep it up!`,\n                confidence: 0.95,\n                actionable: false,\n                relatedTasks: [],\n                generatedAt: Date.now(),\n            });\n        });\n\n        // Productivity pattern insights\n        if (productivity.morningScore > 50) {\n            insights.push({\n                id: \"insight-morning-peak\",\n                type: \"consistency\",\n                title: \"Morning productivity peak detected\",\n                description: `You complete ${productivity.morningScore}% of your tasks before noon. This is your peak performance time.`,\n                confidence: 0.85,\n                actionable: true,\n                action: \"schedule_important_tasks_morning\",\n                relatedTasks: [],\n                generatedAt: Date.now(),\n            });\n        }\n\n        if (productivity.afternoonScore > 50) {\n            insights.push({\n                id: \"insight-afternoon-peak\",\n                type: \"consistency\",\n                title: \"Afternoon productivity peak detected\",\n                description: `You complete ${productivity.afternoonScore}% of your tasks in the afternoon. Good time for focused work.`,\n                confidence: 0.85,\n                actionable: true,\n                action: \"schedule_important_tasks_afternoon\",\n                relatedTasks: [],\n                generatedAt: Date.now(),\n            });\n        }\n\n        // Focus score insights\n        if (productivity.focusScore < 50) {\n            insights.push({\n                id: \"insight-focus-low\",\n                type: \"optimization\",\n                title: \"Increase focus time\",\n                description: \"Only a small portion of your tasks include duration tracking. Adding time estimates can help improve focus.\",\n                confidence: 0.75,\n                actionable: true,\n                action: \"enable_focus_tracking\",\n                relatedTasks: [],\n                generatedAt: Date.now(),\n            });\n        }\n\n        // Consistency insights\n        if (productivity.consistencyScore > 70) {\n            insights.push({\n                id: \"insight-consistency-high\",\n                type: \"streak\",\n                title: \"Excellent consistency!\",\n                description: `You've been productive on ${productivity.consistencyScore}% of days this month. This is a strong habit!`,\n                confidence: 0.9,\n                actionable: false,\n                relatedTasks: [],\n                generatedAt: Date.now(),\n            });\n        }\n\n        return insights;\n    }\n}\n\n// ============================================================================\n// SUGGESTION ENGINE\n// ============================================================================\n\nclass SuggestionEngine {\n    generateSuggestions(\n        insights: HabitInsight[],\n        productivity: ProductivityScore,\n        patterns: HabitPattern[]\n    ): SmartSuggestion[] {\n        const suggestions: SmartSuggestion[] = [];\n        const now = Date.now();\n\n        // Time optimization suggestions\n        if (productivity.morningScore > productivity.afternoonScore && productivity.morningScore > 40) {\n            suggestions.push({\n                id: `sug-time-morning-${now}`,\n                type: \"time_optimization\",\n                title: \"Schedule important tasks in the morning\",\n                description: \"Your productivity data shows you're most effective before noon. Consider blocking this time for high-priority work.\",\n                priority: 8,\n                actionData: { preferredTime: \"morning\", priority: \"high\" },\n                dismissed: false,\n                generatedAt: now,\n            });\n        }\n\n        if (productivity.afternoonScore > productivity.morningScore && productivity.afternoonScore > 40) {\n            suggestions.push({\n                id: `sug-time-afternoon-${now}`,\n                type: \"time_optimization\",\n                title: \"Afternoon is your peak time\",\n                description: \"You seem to be most productive in the afternoon. Plan your important tasks for this window.\",\n                priority: 8,\n                actionData: { preferredTime: \"afternoon\", priority: \"high\" },\n                dismissed: false,\n                generatedAt: now,\n            });\n        }\n\n        // Streak motivation\n        const hasActiveStreaks = patterns.some(p => p.streak >= 3);\n        if (hasActiveStreaks) {\n            const bestStreak = Math.max(...patterns.map(p => p.streak));\n            const bestPattern = patterns.find(p => p.streak === bestStreak);\n            \n            suggestions.push({\n                id: `sug-streak-${now}`,\n                type: \"streak_motivation\",\n                title: `Keep your ${bestPattern?.name || \"habit\"} streak going!`,\n                description: `You have a ${bestStreak}-day streak! Small consistent actions lead to big results.`,\n                priority: 7,\n                actionData: { patternId: bestPattern?.id },\n                dismissed: false,\n                generatedAt: now,\n            });\n        }\n\n        // Break reminder (if focused for a while)\n        const recentFocusSessions = productivity.focusScore;\n        if (recentFocusSessions > 60) {\n            suggestions.push({\n                id: `sug-break-${now}`,\n                type: \"break_reminder\",\n                title: \"Time for a break?\",\n                description: \"You've been consistently focused lately. Consider taking a short break to maintain your energy.\",\n                priority: 5,\n                actionData: { breakDuration: 5 },\n                expiresAt: now + 2 * 60 * 60 * 1000, // 2 hours\n                dismissed: false,\n                generatedAt: now,\n            });\n        }\n\n        // Habit formation for emerging patterns\n        const emergingPatterns = patterns.filter(p => p.successRate >= 0.4 && p.successRate < 0.7);\n        if (emergingPatterns.length > 0) {\n            const pattern = emergingPatterns[0];\n            suggestions.push({\n                id: `sug-habit-${now}`,\n                type: \"habit_formation\",\n                title: `Turn \"${pattern.name}\" into a routine`,\n                description: \"You've been doing this consistently. Creating a routine can help make it a lasting habit.\",\n                priority: 7,\n                actionData: { pattern },\n                dismissed: false,\n                generatedAt: now,\n            });\n        }\n\n        // Goal alignment\n        suggestions.push({\n            id: `sug-goal-${now}`,\n            type: \"goal_alignment\",\n            title: \"Align tasks with your goals\",\n            description: \"Review your daily tasks to ensure they're moving you toward your bigger goals.\",\n            priority: 6,\n            actionData: { action: \"review_goals\" },\n            dismissed: false,\n            generatedAt: now,\n        });\n\n        return suggestions.sort((a, b) => b.priority - a.priority);\n    }\n}\n\n// ============================================================================\n// MAIN LOCAL INTELLIGENCE CLASS\n// ============================================================================\n\nclass LocalIntelligence {\n    private patternDetector: PatternDetector;\n    private productivityAnalyzer: ProductivityAnalyzer;\n    private insightGenerator: InsightGenerator;\n    private suggestionEngine: SuggestionEngine;\n\n    constructor() {\n        this.patternDetector = new PatternDetector();\n        this.productivityAnalyzer = new ProductivityAnalyzer();\n        this.insightGenerator = new InsightGenerator();\n        this.suggestionEngine = new SuggestionEngine();\n    }\n\n    analyze(\n        tasks: Array<{ id: string; name: string; completedAt?: number; createdAt: number; category?: string; duration?: number }>\n    ): {\n        patterns: HabitPattern[];\n        productivity: ProductivityScore;\n        insights: HabitInsight[];\n        suggestions: SmartSuggestion[];\n    } {\n        // Convert to TaskRecord format\n        const taskRecords: TaskRecord[] = tasks.map(t => ({\n            id: t.id,\n            name: t.name,\n            category: t.category || \"uncategorized\",\n            completedAt: t.completedAt || 0,\n            duration: t.duration || 0,\n            wasRoutine: false,\n        }));\n\n        // Detect patterns\n        const patterns = this.patternDetector.detectPatterns(taskRecords);\n        const existingPatterns = this.patternDetector.getPatterns();\n\n        // Calculate productivity\n        const productivity = this.productivityAnalyzer.calculateProductivityScore(tasks);\n\n        // Generate insights\n        const insights = this.insightGenerator.generateInsights(taskRecords, existingPatterns, productivity);\n\n        // Generate suggestions\n        const suggestions = this.suggestionEngine.generateSuggestions(insights, productivity, existingPatterns);\n\n        return {\n            patterns: existingPatterns,\n            productivity,\n            insights,\n            suggestions,\n        };\n    }\n\n    getPatterns(): HabitPattern[] {\n        return this.patternDetector.getPatterns();\n    }\n\n    clearData(): void {\n        new LocalStorageStore<HabitPattern>(CONFIG.STORAGE_KEYS.HABIT_PATTERNS).clear();\n        new LocalStorageStore<TaskRecord>(CONFIG.STORAGE_KEYS.TASK_HISTORY).clear();\n        new LocalStorageStore<StoredFact>(CONFIG.STORAGE_KEYS.USER_FACTS).clear();\n    }\n}\n\n// Export singleton\nexport const localIntelligence = new LocalIntelligence();\nexport { LocalIntelligence, PatternDetector, ProductivityAnalyzer, InsightGenerator, SuggestionEngine };\n","// ============================================================================\n// NLP UTILITIES\n// ============================================================================\n// Client-side natural language processing for task parsing\n// Regex-based parsing for dates, times, priorities, and entities\n// No external dependencies - runs entirely in the browser\n\n// ============================================================================\n// TYPE DEFINITIONS\n// ============================================================================\n\nexport interface ParsedEntity {\n    type: string;\n    value: string;\n    confidence: number;\n    startIndex: number;\n    endIndex: number;\n}\n\nexport interface ParsedTask {\n    raw: string;\n    name: string;\n    date: string | null;\n    time: string | null;\n    priority: number;\n    category: string | null;\n    isRecurring: boolean;\n    duration: number | null;\n    intent: NlpIntentType;\n    entities: ParsedEntity[];\n}\n\nexport type NlpIntentType = \n    | \"create\"\n    | \"update\"\n    | \"delete\"\n    | \"complete\"\n    | \"schedule\"\n    | \"query\"\n    | \"remind\"\n    | \"routine\"\n    | \"focus\"\n    | \"chat\"\n    | \"unknown\";\n\n// ============================================================================\n// PRIORITY CONFIGURATION\n// ============================================================================\n\nconst PRIORITY_KEYWORDS: Record<string, string[]> = {\n    4: [\"critical\", \"emergency\", \"urgent\", \"asap\", \"immediately\", \"priority 1\", \"p1\", \"life or death\"],\n    3: [\"high priority\", \"important\", \"priority high\", \"urgent\", \"soon\", \"priority 3\", \"p3\"],\n    2: [\"medium priority\", \"normal\", \"regular\", \"priority 2\", \"p2\"],\n    1: [\"low priority\", \"sometime\", \"when possible\", \"eventually\", \"priority 1\", \"p1\", \"not urgent\"],\n};\n\nconst CATEGORY_KEYWORDS: Record<string, string[]> = {\n    work: [\"work\", \"job\", \"office\", \"project\", \"meeting\", \"deadline\", \"client\"],\n    personal: [\"personal\", \"home\", \"family\", \"errand\", \"chore\"],\n    health: [\"health\", \"exercise\", \"gym\", \"workout\", \"doctor\", \"medicine\", \"wellness\"],\n    finance: [\"money\", \"bill\", \"payment\", \"bank\", \"budget\", \"invoice\", \"financial\"],\n    learning: [\"study\", \"learn\", \"read\", \"course\", \"practice\", \"training\", \"education\"],\n    social: [\"call\", \"meet\", \"friend\", \"family\", \"birthday\", \"dinner\", \"party\"],\n    creative: [\"write\", \"create\", \"design\", \"art\", \"music\", \"paint\", \"draw\"],\n};\n\n// ============================================================================\n// TIME PATTERN DEFINITIONS\n// ============================================================================\n\nconst TIME_PATTERNS = [\n    // 24-hour format: 14:30, 9:00\n    { regex: /\\b(\\d{1,2}):(\\d{2})\\b/g, extract: (m: RegExpMatchArray) => m[0] },\n    // 12-hour format with AM/PM: 2:30 PM, 9:00am\n    { regex: /\\b(\\d{1,2}):(\\d{2})\\s*(am|pm)\\b/gi, extract: (m: RegExpMatchArray) => m[0] },\n    // Time words: noon, midnight, 3 o'clock\n    { regex: /\\b(noon|midnight|3\\s*o'clock|4\\s*o'clock|5\\s*o'clock)\\b/gi, extract: (m: RegExpMatchArray) => m[0] },\n];\n\nconst DATE_PATTERNS = [\n    // Absolute dates: 2024-01-15, 01/15/2024\n    { regex: /\\b(\\d{4}[-/]\\d{1,2}[-/]\\d{1,2}|\\d{1,2}[-/]\\d{1,2}[-/]\\d{2,4})\\b/g },\n    // Relative days: today, tomorrow, tonight\n    { regex: /\\b(today|tomorrow|tonight|this evening|this afternoon|this morning)\\b/gi },\n    // Days of week: monday, tuesday, etc.\n    { regex: /\\b(monday|tuesday|wednesday|thursday|friday|saturday|sunday)\\b/gi },\n    // In X days/weeks: in 3 days, in 2 weeks\n    { regex: /\\bin\\s+(\\d+)\\s*(day|week|month)s?\\b/gi },\n];\n\nconst RECURRENCE_PATTERNS = [\n    /\\b(every day|daily|everyday)\\b/gi,\n    /\\b(every week|weekly)\\b/gi,\n    /\\b(every month|monthly)\\b/gi,\n    /\\b(every weekday|mon-fri|workdays?)\\b/gi,\n    /\\b(every weekend|weekends?)\\b/gi,\n    /\\b(every monday|tuesday|wednesday|thursday|friday|saturday|sunday)\\b/gi,\n];\n\nconst DURATION_PATTERNS = [\n    /\\b(\\d+)\\s*(min|mins|minute|minutes)\\b/i,\n    /\\b(\\d+)\\s*(hour|hours|hr|hrs)\\b/i,\n    /\\b(\\d+)\\s*(second|seconds|sec|secs)\\b/i,\n];\n\n// ============================================================================\n// MAIN PARSING FUNCTION\n// ============================================================================\n\nexport function parseTaskInput(input: string): ParsedTask {\n    const entities: ParsedEntity[] = [];\n    let name = input;\n\n    // Extract and remove time\n    const timeExtraction = extractTime(input);\n    if (timeExtraction) {\n        entities.push({\n            type: \"time\",\n            value: timeExtraction.value,\n            confidence: timeExtraction.confidence,\n            startIndex: timeExtraction.index,\n            endIndex: timeExtraction.index + timeExtraction.value.length,\n        });\n        name = name.replace(timeExtraction.pattern, \"\").trim();\n    }\n\n    // Extract and remove date\n    const dateExtraction = extractDate(input);\n    if (dateExtraction) {\n        entities.push({\n            type: \"date\",\n            value: dateExtraction.value,\n            confidence: dateExtraction.confidence,\n            startIndex: dateExtraction.index,\n            endIndex: dateExtraction.index + dateExtraction.value.length,\n        });\n        name = name.replace(dateExtraction.pattern, \"\").trim();\n    }\n\n    // Extract and remove duration\n    const durationExtraction = extractDuration(input);\n    if (durationExtraction) {\n        entities.push({\n            type: \"duration\",\n            value: durationExtraction.value,\n            confidence: durationExtraction.confidence,\n            startIndex: durationExtraction.index,\n            endIndex: durationExtraction.index + durationExtraction.value.length,\n        });\n        name = name.replace(durationExtraction.pattern, \"\").trim();\n    }\n\n    // Check for recurrence\n    const isRecurring = checkRecurrence(input);\n\n    // Detect priority\n    const priority = detectPriority(input);\n\n    // Detect category\n    const category = detectCategory(input);\n\n    // Clean up task name\n    name = cleanTaskName(name);\n\n    // Detect intent\n    const intent = detectIntent(input);\n\n    return {\n        raw: input,\n        name,\n        date: dateExtraction?.date || null,\n        time: timeExtraction?.time || null,\n        priority,\n        category,\n        isRecurring,\n        duration: durationExtraction?.duration || null,\n        intent,\n        entities,\n    };\n}\n\n// ============================================================================\n// TIME EXTRACTION\n// ============================================================================\n\nfunction extractTime(input: string): {\n    value: string;\n    time: string;\n    confidence: number;\n    index: number;\n    pattern: string;\n} | null {\n    // Check 12-hour format with AM/PM\n    const pmMatch = input.match(/(\\d{1,2}):(\\d{2})\\s*(am|pm)/i);\n    if (pmMatch) {\n        let hours = parseInt(pmMatch[1]);\n        const minutes = pmMatch[2];\n        const period = pmMatch[3].toLowerCase();\n        \n        if (period === \"pm\" && hours < 12) hours += 12;\n        if (period === \"am\" && hours === 12) hours = 0;\n        \n        return {\n            value: pmMatch[0],\n            time: `${hours.toString().padStart(2, \"0\")}:${minutes}`,\n            confidence: 0.95,\n            index: pmMatch.index || 0,\n            pattern: pmMatch[0],\n        };\n    }\n\n    // Check 24-hour format\n    const match = input.match(/(\\d{1,2}):(\\d{2})/);\n    if (match) {\n        const hours = parseInt(match[1]);\n        if (hours <= 23) {\n            return {\n                value: match[0],\n                time: match[0],\n                confidence: 0.9,\n                index: match.index || 0,\n                pattern: match[0],\n            };\n        }\n    }\n\n    // Check time words\n    if (/\\bnoon\\b/i.test(input)) {\n        const match = input.match(/\\bnoon\\b/i);\n        return {\n            value: \"12:00 PM\",\n            time: \"12:00\",\n            confidence: 0.95,\n            index: match?.index || 0,\n            pattern: \"noon\",\n        };\n    }\n\n    if (/\\bmidnight\\b/i.test(input)) {\n        const match = input.match(/\\bmidnight\\b/i);\n        return {\n            value: \"12:00 AM\",\n            time: \"00:00\",\n            confidence: 0.95,\n            index: match?.index || 0,\n            pattern: \"midnight\",\n        };\n    }\n\n    return null;\n}\n\n// ============================================================================\n// DATE EXTRACTION\n// ============================================================================\n\nfunction extractDate(input: string): {\n    value: string;\n    date: string;\n    confidence: number;\n    index: number;\n    pattern: string;\n} | null {\n    const now = new Date();\n    let dateStr: string | null = null;\n    let patternStr = \"\";\n    let confidence = 0.9;\n    let index = 0;\n\n    // Check for \"today\"\n    const todayMatch = input.match(/\\btoday\\b/i);\n    if (todayMatch) {\n        dateStr = now.toISOString().split(\"T\")[0];\n        patternStr = \"today\";\n        index = todayMatch.index || 0;\n    }\n\n    // Check for \"tomorrow\"\n    const tomorrowMatch = input.match(/\\btomorrow\\b/i);\n    if (tomorrowMatch) {\n        const tomorrow = new Date(now.getTime() + 24 * 60 * 60 * 1000);\n        dateStr = tomorrow.toISOString().split(\"T\")[0];\n        patternStr = \"tomorrow\";\n        index = tomorrowMatch.index || 0;\n    }\n\n    // Check for days of week\n    const dayNames = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\n    for (let i = 0; i < dayNames.length; i++) {\n        const dayMatch = input.match(new RegExp(`\\\\b${dayNames[i]}\\\\b`, \"i\"));\n        if (dayMatch) {\n            const targetDay = i;\n            const currentDay = now.getDay();\n            let daysUntil = targetDay - currentDay;\n            if (daysUntil <= 0) daysUntil += 7;\n            \n            const targetDate = new Date(now.getTime() + daysUntil * 24 * 60 * 60 * 1000);\n            dateStr = targetDate.toISOString().split(\"T\")[0];\n            patternStr = dayNames[i];\n            index = dayMatch.index || 0;\n            confidence = 0.85;\n            break;\n        }\n    }\n\n    // Check for \"in X days/weeks\"\n    const inDaysMatch = input.match(/in\\s+(\\d+)\\s+days?/i);\n    if (inDaysMatch && !dateStr) {\n        const days = parseInt(inDaysMatch[1]);\n        const targetDate = new Date(now.getTime() + days * 24 * 60 * 60 * 1000);\n        dateStr = targetDate.toISOString().split(\"T\")[0];\n        patternStr = inDaysMatch[0];\n        index = inDaysMatch.index || 0;\n        confidence = 0.8;\n    }\n\n    if (dateStr) {\n        return {\n            value: patternStr,\n            date: dateStr,\n            confidence,\n            index,\n            pattern: patternStr,\n        };\n    }\n\n    return null;\n}\n\n// ============================================================================\n// DURATION EXTRACTION\n// ============================================================================\n\nfunction extractDuration(input: string): {\n    value: string;\n    duration: number;\n    confidence: number;\n    index: number;\n    pattern: string;\n} | null {\n    // Check for minutes\n    const minMatch = input.match(/(\\d+)\\s*(min|mins|minute|minutes)\\b/i);\n    if (minMatch) {\n        const minutes = parseInt(minMatch[1]);\n        return {\n            value: minMatch[0],\n            duration: minutes * 60, // Convert to seconds\n            confidence: 0.95,\n            index: minMatch.index || 0,\n            pattern: minMatch[0],\n        };\n    }\n\n    // Check for hours\n    const hourMatch = input.match(/(\\d+)\\s*(hour|hours|hr|hrs)\\b/i);\n    if (hourMatch) {\n        const hours = parseInt(hourMatch[1]);\n        return {\n            value: hourMatch[0],\n            duration: hours * 3600, // Convert to seconds\n            confidence: 0.95,\n            index: hourMatch.index || 0,\n            pattern: hourMatch[0],\n        };\n    }\n\n    return null;\n}\n\n// ============================================================================\n// RECURRENCE CHECK\n// ============================================================================\n\nfunction checkRecurrence(input: string): boolean {\n    return RECURRENCE_PATTERNS.some(pattern => pattern.test(input));\n}\n\n// ============================================================================\n// PRIORITY DETECTION\n// ============================================================================\n\nfunction detectPriority(input: string): number {\n    const lowerInput = input.toLowerCase();\n\n    // Check for explicit priority indicators\n    for (const [priority, keywords] of Object.entries(PRIORITY_KEYWORDS)) {\n        if (keywords.some(kw => lowerInput.includes(kw))) {\n            return parseInt(priority);\n        }\n    }\n\n    // Default to medium priority\n    return 2;\n}\n\n// ============================================================================\n// CATEGORY DETECTION\n// ============================================================================\n\nfunction detectCategory(input: string): string | null {\n    const lowerInput = input.toLowerCase();\n\n    for (const [category, keywords] of Object.entries(CATEGORY_KEYWORDS)) {\n        if (keywords.some(kw => lowerInput.includes(kw))) {\n            return category;\n        }\n    }\n\n    return null;\n}\n\n// ============================================================================\n// INTENT DETECTION\n// ============================================================================\n\nfunction detectIntent(input: string): NlpIntentType {\n    const lowerInput = input.toLowerCase();\n\n    if (/create|add|new|make|schedule|set up/i.test(input)) return \"create\";\n    if (/update|change|modify|edit|reschedule/i.test(input)) return \"update\";\n    if (/delete|remove|cancel|drop|eliminate/i.test(input)) return \"delete\";\n    if (/complete|done|finished|check off|mark done|accomplish/i.test(input)) return \"complete\";\n    if (/when|what's due|what do i have|show me/i.test(input)) return \"query\";\n    if (/remind|alarm|notify|alert/i.test(input)) return \"remind\";\n    if (/routine|habit|daily|weekly|every day/i.test(input)) return \"routine\";\n    if (/focus|timer|pomodoro|concentrate/i.test(input)) return \"focus\";\n    if (/help|how|tell me|explain|what is/i.test(input)) return \"chat\";\n\n    return \"unknown\";\n}\n\n// ============================================================================\n// TASK NAME CLEANUP\n// ============================================================================\n\nfunction cleanTaskName(input: string): string {\n    let cleaned = input\n        // Remove action verbs\n        .replace(/^(create|add|new|make|schedule|complete|delete|update|set|start|stop)\\s+(a\\s+)?(new\\s+)?/i, \"\")\n        // Remove filler words\n        .replace(/(for me|please|thanks?|thank you|would you|could you)\\b/gi, \"\")\n        // Remove extra whitespace\n        .replace(/\\s+/g, \" \")\n        .trim();\n\n    // Capitalize first letter\n    if (cleaned.length > 0) {\n        cleaned = cleaned.charAt(0).toUpperCase() + cleaned.slice(1);\n    }\n\n    return cleaned;\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\nexport function formatParsedTask(task: ParsedTask): string {\n    const parts: string[] = [];\n\n    if (task.name) parts.push(`Task: \"${task.name}\"`);\n    if (task.date) parts.push(`Date: ${task.date}`);\n    if (task.time) parts.push(`Time: ${task.time}`);\n    if (task.priority) {\n        const priorityLabels = [\"\", \"Low\", \"Medium\", \"High\", \"Critical\"];\n        parts.push(`Priority: ${priorityLabels[task.priority]}`);\n    }\n    if (task.category) parts.push(`Category: ${task.category}`);\n    if (task.isRecurring) parts.push(\"Recurring: Yes\");\n    if (task.duration) parts.push(`Duration: ${Math.round(task.duration / 60)} minutes`);\n    if (task.intent !== \"unknown\") parts.push(`Intent: ${task.intent}`);\n\n    return parts.join(\"\\n\");\n}\n\nexport function suggestPriorityChange(\n    currentPriority: number,\n    taskDetails: { hasDueDate: boolean; isOverdue: boolean; isLongTask: boolean }\n): number {\n    // Increase priority for overdue tasks\n    if (taskDetails.isOverdue) {\n        return Math.min(4, currentPriority + 1);\n    }\n\n    // Increase priority for tasks with imminent due dates\n    if (taskDetails.hasDueDate && !taskDetails.isOverdue) {\n        return Math.min(4, currentPriority + 1);\n    }\n\n    // Keep priority for long tasks\n    if (taskDetails.isLongTask && currentPriority < 3) {\n        return 3;\n    }\n\n    return currentPriority;\n}\n\nexport function parseRecurrence(input: string): {\n    frequency: \"daily\" | \"weekly\" | \"monthly\" | null;\n    daysOfWeek?: number[];\n    interval: number;\n} | null {\n    const lowerInput = input.toLowerCase();\n\n    if (/\\b(every day|daily|everyday)\\b/.test(lowerInput)) {\n        return { frequency: \"daily\", interval: 1 };\n    }\n\n    if (/\\b(every week|weekly)\\b/.test(lowerInput)) {\n        return { frequency: \"weekly\", interval: 1 };\n    }\n\n    if (/\\b(every month|monthly)\\b/.test(lowerInput)) {\n        return { frequency: \"monthly\", interval: 1 };\n    }\n\n    // Check for specific days\n    const dayMap: Record<string, number> = {\n        sunday: 0, monday: 1, tuesday: 2, wednesday: 3,\n        thursday: 4, friday: 5, saturday: 6,\n    };\n\n    const days: number[] = [];\n    for (const [day, num] of Object.entries(dayMap)) {\n        if (new RegExp(`\\\\bevery\\\\s+${day}\\\\b`).test(lowerInput)) {\n            days.push(num);\n        }\n    }\n\n    if (days.length > 0) {\n        return { frequency: \"weekly\", interval: 1, daysOfWeek: days };\n    }\n\n    return null;\n}\n"],"names":[],"mappings":"6DACA,IAAI,EAAA,EAAA,CAAA,CAAA,OAIA,EAFwC,GAAkB,UAAb,EAE5B,KAFmC,GAAkB,GAE1C,GAAE,OAFqD,GAAQ,CAAJ,AAAM,QAEzC,CAFsD,EAAF,AAqBxG,EAAS,AAAmB,oBAAZ,SAA2B,QAAQ,GAAG,EAAI,GAC1D,EAAW,SAAS,CAAC,EACrB,MAA6C,oBAAtC,OAAO,CAFqE,QAE5D,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC1C,EACI,EAA2B,WAC3B,AADa,SACJ,EADe,AACJ,CAAK,EACrB,IAAI,EAAgB,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAQ,EAAI,IAAI,CAAE,EAAO,AAAU,KAAK,MAAI,aAAe,EAAO,EAAoB,EAAI,gBAAgB,CAAE,EAAmB,AAAsB,KAAK,MAAI,EAAS,EAChN,EAAY,EAAS,GAAO,2BAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,uBAAuB,CAAG,IAAM,EAAO,sBAC5C,EAAwC,WAA5B,OAAO,EAAgC,wCACnD,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,YAAY,CAAG,OACpB,IAAI,CAAC,KAAK,CAAG,EAAE,CACf,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAEnB,IAAI,CAAC,MAAM,CAAyC,EAAtC,EAClB,CACA,IAxB+B,EAwB3B,EAAS,EAAW,IAxBiB,EAAE,GAwBV,CA2LjC,OA1LA,AAzBsD,EAyB/C,MAHkB,aAGC,CAAG,SAAS,AAAoB,CAAI,EAC1D,EAA4B,WAAhB,OAAO,EAAoB,2CACvC,EAAiC,IAArB,IAAI,CAAC,WAAW,CAAQ,oEACpC,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,MAAM,EACf,EACA,EAAO,kBAAkB,CAAG,SAAS,EACjC,OAAO,IAAI,CAAC,iBAAiB,AACjC,EACA,EAAO,MAAM,CAAG,SAAS,EACrB,IAAI,EAAQ,IAAI,CAChB,EAAY,CAAC,IAAI,CAAC,SAAS,CAAE,0BAC7B,IAAI,CAAC,SAAS,EAAG,EAajB,IAAI,CAAC,YAAY,CAAG,CAChB,SAAU,EAAE,CACZ,WAAY,SAAS,CAAI,CAAE,CAAK,EAU5B,MATqB,UAAjB,AAA2B,OAApB,EACP,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,CACjC,QAAS,CACb,EAEA,EAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAC7B,QAAS,CACb,GAEG,CACX,EACA,WAAY,SAAS,CAAK,EACtB,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,IACzC,CACJ,CACJ,EACA,EAAO,cAAc,CAAG,SAAS,AAAe,CAAG,EAC/C,GAAI,EAAI,KAAK,CACT,CADW,MACJ,EAAI,KAAK,CAGpB,IAAI,IAAI,EAAI,EAAG,EAAI,SAAS,WAAW,CAAC,MAAM,CAAE,IAAI,AAChD,GAAI,SAAS,WAAW,CAAC,EAAE,CAAC,SAAS,GAAK,EACtC,GAD2C,IACpC,SAAS,WAAW,CAAC,EAAE,AAG1C,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,EAAE,CAChE,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAI,CAAE,CAAK,SAC/C,EAAY,EAAS,GAAO,qCAEH,UAAjB,AAA2B,OAApB,IACP,EAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAA,AAAM,EAE7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAM,GAC5B,IAAI,CAAC,WAAW,EAsB/B,EACA,EAAO,WAAW,CAAG,SAAS,AAAY,CAAK,CAAE,CAAI,EAC7C,IAAI,CAAC,iBAAiB,CACtB,GAD0B,CACtB,EAA0D,IAAI,CAAC,CAAvD,WAAmE,CAI/E,GAHI,AAAC,EAAK,IAAI,IAAI,CACd,EAAO,IAAI,CAAC,KAF4B,GADA,aAAa,EAGzC,AAAuB,EAEnC,CAAC,EAAM,QAAQ,CAAC,EAAM,CAEtB,CAFwB,MAEjB,EAEX,EAAM,UAAU,CAAC,GACjB,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CACR,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAG3D,EAAM,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAE,EACnD,CAMJ,OAAO,CACX,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAK,EAErC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAWrC,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAQf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAG,EAAE,AAEvC,EACA,EAAO,QAAQ,CAAG,SAAS,EAGnB,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,AAYzC,EACA,EAAO,YAAY,CAAG,SAAS,AAAa,CAAI,CAAE,CAAS,CAAE,CAAa,EAClE,GACA,EAAY,EAAS,GAAY,CADtB,wDAGf,IAAI,EAAM,SAAS,aAAa,CAAC,SAC7B,IAAI,CAAC,MAAM,EAAE,EAAI,YAAY,CAAC,QAAS,IAAI,CAAC,MAAM,EACtD,EAAI,IAAI,CAAG,WACX,EAAI,YAAY,CAAC,QAAU,EAAM,IAC7B,GACA,EAAI,MADO,KACI,CAAC,SAAS,cAAc,CAAC,IAE5C,IAAI,EAAO,SAAS,IAAI,EAAI,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAMpE,OALI,EACA,EAAK,WADU,CACE,CAAC,EAAK,GAEvB,EAAK,WAAW,CAAC,GAEd,CACX,IACyB,CACrB,CACI,IAAK,SACL,IAAK,SAAS,EACV,OAAO,IAAI,CAAC,WAAW,AAC3B,CACJ,EACH,CA3NF,AAUiB,SAVR,AAAkB,CAAM,CAAE,CAAK,EACvC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,CACzB,EAAW,UAAU,CAAG,EAAW,UAAU,GAAI,EACjD,EAAW,YAAY,EAAG,EACtB,UAAW,IAAY,EAAW,QAAQ,EAAG,CAAA,EACjD,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EA4MiB,AA1MqB,EAAY,SAAS,CAAE,GAkNlD,CACX,IACA,SAAS,EAAY,CAAS,CAAE,CAAO,EACnC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,eAAiB,EAAU,IAEnD,CAWA,IAAI,EATJ,SAAS,AAAK,CAAG,CASA,CAPb,IADA,IAAI,EAAS,KAAM,EAAI,EAAI,MAAM,CAC3B,EAAE,CACJ,EAAkB,GAAT,EAAc,EAAI,UAAU,CAAC,EAAE,GAIiB,OAAO,IAAW,CACnF,EAMI,EAAQ,CAAC,EAKT,SAAS,EAAU,CAAM,CAAE,CAAK,EAChC,GAAI,CAAC,EACD,KADQ,CACD,OAAS,EAEpB,IAAI,EAAgB,OAAO,GACvB,EAAM,EAAS,EAInB,OAHI,AAAC,CAAK,CAAC,EAAI,EAAE,CACb,CAAK,CAAC,EAAI,CAAG,OAAS,EAAW,EAAS,IAAM,EAAA,EAE7C,CAAK,CAAC,EAAI,AACrB,CAKI,SAAS,EAAgB,CAAE,CAAE,CAAG,EAQhC,IAAI,EAAQ,GAFR,EAAe,AAEF,AA9BV,EAAK,EA4BF,KA5BS,CAAC,YAAa,WA4Bd,EAMnB,OAHI,AAAC,CAAK,CAAC,EAAM,EAAE,CACf,CAAK,CAAC,EAAM,CAAG,EAAI,OAAO,CAAC,AATA,gCAS0B,EAAA,EAElD,CAAK,CAAC,EAAM,AACvB,CAkBA,IAAI,EAAmC,WACnC,QADqB,CACZ,EAAmB,CAAK,EAC7B,IAAI,CAFwB,CAElB,AAAU,KAAK,MAAI,CAAC,EAAI,EAAO,EAAc,EAAI,UAAU,CAAE,EAA6B,KAAK,IAArB,EAAyB,KAAO,EAAa,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,AAA+B,GAAQ,EACrO,IAAI,CAAC,MAAM,CAAG,GAAc,IAAI,EAAW,CACvC,KAAM,aACN,iBAAkB,CACtB,GACA,IAAI,CAAC,MAAM,CAAC,MAAM,GACd,GAA0C,WAA5B,AAAuC,OAAhC,IACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAChC,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAE3D,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,CACA,IAAI,EAAS,EAAmB,SAAS,CAoHzC,OAnHA,EAAO,GAAG,CAAG,SAAa,AAAJ,CAAS,EAC3B,IAAI,EAAQ,IAAI,MACZ,IAAc,IAAI,CAAC,iBAAiB,EAAE,CACtC,IAAI,CAAC,iBAAiB,CAAG,MAAM,OAAO,CAAC,EAAM,QAAQ,EACrD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EACtD,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAS3D,IAAI,EAAM,IAAI,CAAC,aAAa,CAAC,GAAQ,EAAU,EAAI,OAAO,CAAE,EAAQ,EAAI,KAAK,CAE7E,GAAI,KAAW,IAAI,CAAC,gBAAgB,CAAE,CAClC,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAClC,MACJ,CACA,IAAI,EAAU,EAAM,GAAG,CAAC,SAAS,CAAI,EACjC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GAAE,AACD,MAAM,CAAC,SAAS,CAAK,EAClB,OAAO,AAAU,CAAC,AAFO,KAG7B,GACA,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAG,EACzB,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,CACrC,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,EACjC,IAAI,EAAQ,IAAI,CACZ,EAAU,IAAI,CAAC,aAAa,CAAC,GAAO,OAAO,CAG/C,GAmFR,AArFQ,SAqFC,AAAU,CAAS,CAAE,CAAO,EACjC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,uBAAyB,EAAU,IAE3D,EAzFkB,KAAW,IAAI,CAAC,gBAAgB,CAAE,aAAe,EAAU,eACrE,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,EAAG,CACpC,IAAI,EAAgB,IAAI,CAAC,WAAW,EAAI,IAAI,CAAC,WAAW,CAAC,EAAQ,CAC7D,GACA,EAAc,UADC,AACS,CAAC,WAAW,CAAC,GACrC,OAAO,IAAI,CAAC,WAAW,CAAC,EAAQ,GAEhC,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAC,OAAO,CAAC,SAAS,CAAK,EACzC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAQ,EAEjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAQ,AACzC,CACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,CAAE,CAAS,EAC5C,IAAI,CAAC,GAAG,CAAC,GACT,IAAI,CAAC,MAAM,CAAC,EAChB,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAClB,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,CACZ,EAAa,IAAI,CAAC,WAAW,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,SAAS,CAAO,EAClF,MAAO,CACH,EACA,EAAM,WAAW,CAAC,EAAQ,CAC7B,AACL,GAAK,EAAE,CACH,EAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GACnC,OAAO,EAAW,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAO,EACpE,MAAO,CACH,EACA,EAAM,QAAQ,CAAC,EAAQ,CAAC,GAAG,CAAC,SAAS,CAAK,EACtC,OAAO,CAAQ,CAAC,EAAM,CAAC,OAAO,AAClC,GAAG,IAAI,CAAC,EAAM,iBAAiB,CAAG,GAAK,MAC1C,AACL,GAAE,AACD,MAAM,CAAC,SAAS,CAAI,EACjB,MAFuB,CAEhB,CAAQ,CAAI,CAAC,EAAE,AAC1B,GACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAO,UACnC,OAlHiB,AAkHV,EAAgB,IAAI,CAAC,CAlHH,OAkHW,GAjHpC,AAAY,KAAK,KADU,EAkHa,KAlHN,AACd,EAAU,EAAC,EAC5B,EAAS,GAAG,CAAC,SAAS,CAAI,EAC7B,IAAI,EAAK,CAAI,CAAC,EAAE,CACZ,EAAM,CAAI,CAAC,EAAE,CACjB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,QAAS,CAClE,GAAI,KAAO,EAEX,IAAK,KAAO,EACZ,MAAO,EAAQ,KAAK,CAAG,EAAQ,KAAK,MAAG,EACvC,wBAAyB,CACrB,OAAQ,CACZ,CACJ,EACJ,EAqGA,EACA,EAAO,aAAa,CAAG,SAAS,AAAc,CAAK,EAC/C,IAAI,EAAM,EAAM,QAAQ,CAAE,EAAU,EAAM,OAAO,CAAE,EAAK,EAAM,EAAE,CAChE,GAAI,EAAS,CACT,IAAI,EAAU,EAAU,EAAI,GAC5B,MAAO,CACH,QAAS,EACT,MAAO,MAAM,OAAO,CAAC,GAAO,EAAI,GAAG,CAAC,SAAS,CAAI,EAC7C,OAAO,EAAgB,EAAS,EACpC,GAAK,CACD,EAAgB,EAAS,GAC5B,AACL,CACJ,CACA,MAAO,CACH,QAAS,EAAU,GACnB,MAAO,MAAM,OAAO,CAAC,GAAO,EAAM,CAC9B,EACH,AACL,CACJ,EAKE,EAAO,gBAAgB,CAAG,SAAS,EAEjC,OAAO,AADQ,MAAM,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,gBAAgB,CAAC,mBACpD,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAGxC,OADA,CAAG,CAAC,AADK,EAAQ,EAAE,CAAC,KAAK,CAAC,GACnB,CAAG,EACH,CACX,EAAG,CAAC,EACR,EACO,CACX,IAMI,EAAkC,EAAM,aAAa,CAAC,EAAlC,IAExB,OAFmC,EAE1B,IACL,OAAO,IAAI,CACf,CAWA,SAAS,IACL,OAAO,EAAM,UAAU,CAAC,EAC5B,CAMA,SAAS,EAAS,CAAK,EACnB,IAAI,EAA+C,SAApC,EAEV,GAID,EAAS,GAAG,CAAC,CAJF,EACJ,IAiBf,CA3CA,EAAkB,WAAW,CAAG,KAuBK,eAHZ,EAAe,OAAU,CAAC,IAAZ,cAA8B,EAAI,EAAe,OAAU,CAAC,IAAZ,WAA2B,CAwBlH,EAAS,OAAO,CAAG,SAAS,CAAI,EAC5B,OAAO,EAAK,GAAG,CAAC,SAAS,CAAO,EAG5B,OAAO,EAFM,CAAO,CAAC,EAAE,CACX,CAAO,CAAC,CACH,CADK,CAE1B,GAAG,GAD0B,CACtB,CAAC,IACZ,EAEA,EAAQ,aAAa,CAhDrB,EAgDwB,OAhDf,AAAc,CAAK,EACxB,IAAI,EAAqB,EAAM,QAAQ,CAAE,EAAW,EAAM,QAAQ,CAC9D,EAAe,EAAM,UAAU,CAAC,GAGhC,EAAW,AAFL,EAAM,QAAQ,CAAC,WACrB,OAAO,GAAgB,GAAsB,GACjD,EAAkB,CAAC,EAAE,CACrB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,EAAkB,QAAQ,CAAE,CACrF,MAAO,CACX,EAAG,EACP,EAwCA,EAAQ,mBAAmB,CAAG,EAC9B,EAAQ,KAAK,CAAG,EAChB,EAAQ,gBAAgB,CAAG,mBClf3B,EAAO,OAAO,CAAG,EAAA,CAAA,CAAA,OAAwB,KAAK,0CUE9C,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OTCA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,uGaD6D,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,YAC7D,GAAA,gCAA0C,GbCzD,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,8EYF2C,CCA3B,CAAA,AFA2B,CEA3B,AFA2B,0CXE3C,IAAA,EAAA,EAAA,CAAA,CAAA,OAIA,IAAM,EAAc,CAAC,CAAE,KAAM,CAAI,OAAE,CAAK,aAAE,CAAW,OAAE,CAAK,CAAO,GAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oKACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,mCAAmC,EAAE,EAAM,mDAAmD,CAAC,GAChH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kIACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,8BAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAA0C,IACxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACR,OAKP,EAAW,CAAC,QAAE,CAAM,OAAE,CAAK,CAAE,aAAW,CAAO,GACjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mLACV,IAEL,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAA0C,IACxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0DACR,OAOP,EAAwB,KAC1B,GAAM,OAAE,CAAK,UAAE,CAAQ,iBAAE,CAAe,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAO,AAAP,IAC7C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAIjC,EAAe,MAAO,IAKxB,GAJA,EAAE,cAAc,GAChB,EAAS,IACT,GAAW,GAEP,CAAC,GAAY,CAAC,EAAU,CACxB,EAAS,6BACT,GAAW,GACX,MACJ,CAEA,GAAI,CACI,EACA,MAAM,EAAS,EAAU,GADV,AAIf,MAAM,EAAM,EAAU,EAE9B,CAAE,MAAO,EAAU,CAEf,OADA,QAAQ,KAAK,CAAC,GACN,EAAI,IAAI,EACZ,IAAK,4BACD,EAAS,gDACT,KACJ,KAAK,qBACD,EAAS,mCACT,KACJ,KAAK,qBACD,EAAS,6CACT,KACJ,KAAK,sBACL,IAAK,sBACL,IAAK,0BACD,EAAS,iCACT,KACJ,SACI,EAAS,EAAI,OAAO,EAAI,gCAChC,CACJ,QAAU,CACN,GAAW,EACf,CACJ,EAEM,EAAqB,UACvB,EAAS,IACT,GAAW,GACX,GAAI,CACA,MAAM,GACV,CAAE,MAAO,EAAU,CACf,QAAQ,KAAK,CAAC,GACG,6BAA6B,CAA1C,EAAI,IAAI,CACR,EAAS,0BAET,EAAS,EAAI,OAAO,EAAI,iCAEhC,QAAU,CACN,GAAW,EACf,CACJ,EAMA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEAGX,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,gGAEf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mJACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oHAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kGAGX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sKACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,4BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,kCAGV,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6IAAmI,eACjI,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAA,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAkB,kBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kEAAyD,0HAItE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,sHAA4G,eAC9G,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,UAAU,oBAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,UAAU,uFAA8E,kBAKpH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,qBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,oBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,yBAMlB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iHACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CACT,EAAgB,sBAAwB,iBAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CACR,EACK,6CACA,oDAKd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,KAAK,SACL,QAAS,EACT,SAAU,EACV,UAAU,8KAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,UAAU,QAAQ,sBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,KAAK,UAAU,EAAE,4HACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,KAAK,UAAU,EAAE,0IACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,KAAK,UAAU,EAAE,kIACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,KAAK,UAAU,EAAE,2IACrB,0BAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DAAiD,gCAIzE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACF,MAAM,WACN,KAAK,OACL,QAAQ,CAAA,CAAA,EACR,YAAY,WACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,YAC1B,UAAU,8BAEd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACF,MAAM,WACN,KAAK,WACL,QAAQ,CAAA,CAAA,EACR,YAAY,WACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAC1B,UAAU,8BAEb,GAAiB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,qCAGvE,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wGACV,IAIT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACH,KAAK,SACL,SAAU,EACV,UAAU,mKAET,EAAU,gBAAkB,EAAgB,iBAAmB,eAIxE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CACR,EAAgB,4BAA8B,2BAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAiB,CAAC,GACjC,UAAU,6EAET,EAAgB,UAAY,iCAUzD,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,oDACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,+DAAqD,0BAAuB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAkB,aAC5H,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,kHAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,KAAM,EAAA,KAAK,CACX,MAAM,eACN,YAAY,uFACZ,MAAM,oCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,KAAM,EAAA,MAAM,CACZ,MAAM,uBACN,YAAY,oFACZ,MAAM,wCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,KAAM,EAAA,QAAQ,CACd,MAAM,eACN,YAAY,wFACZ,MAAM,8CAOtB,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,+BACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,iBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,2CAGzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DAEX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kIAEf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,OAAO,IACP,MAAM,kBACN,YAAY,oGAEhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,OAAO,IACP,MAAM,gBACN,YAAY,0FAEhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,OAAO,IACP,MAAM,iBACN,YAAY,sFAO5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,oDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+CACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kIAAyH,OAGxI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAoB,uBAExC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2EAAkE,4EAG/E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFAAyE,wDAQ5G,EShVA,IAAA,EAAA,EAAA,CAAA,CAAA,oBRFA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OA2CA,IAAM,EAAS,CACb,6CACA,gDACA,4CACA,4BACA,qCACA,kDACA,oEACA,kDACD,CAEK,EAA0C,CAAC,CAAE,WAAS,CAAE,cAC5D,MAAM,eAAE,CAAa,qBAAE,CAAmB,iBAAE,CAAe,WAAE,CAAS,UAAE,CAAQ,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC7F,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClB,SAAE,CAAO,wBAAE,CAAsB,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IAChD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACrD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAGnD,EAAgB,EAAI,KAAK,EAAE,GAAG,CAIpC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,WAAW,KACvB,EAAoB,EACtB,EAAG,KACH,MAAO,IAAM,aAAa,EAC5B,EAAG,CAAC,EAAc,EAGlB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAsB,MAAlB,GAAyB,EAAkB,EAAG,CAChD,GAAmB,GACnB,IAAM,EAAQ,WAAW,IAAM,GAAmB,GAAQ,KAC1D,MAAO,IAAM,aAAa,EAC5B,CACF,EAAG,CAAC,EAAe,EAAgB,EAGnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAW,YAAY,KAC3B,EAAqB,AAAC,GAAS,CAAC,GAAO,CAAC,CAAI,EAAO,MAAM,CAC3D,EAAG,KACH,MAAO,IAAM,cAAc,EAC7B,EAAG,EAAE,EAIL,IAAM,GAtFsB,EAqFR,IAAI,EACP,KADc,QAAQ,GArFG,EAsFS,EArF7C,CAqFgC,CArFzB,CAD+C,EAsFM,GAAM,kBAAe,GArF/D,CAAC,EAAE,EAAE,EAAS,KAAK,CAAC,IAAI,CAAC,EAAE,CAAA,CAAE,CAAG,GAGxD,AAAiB,KAAK,CAAlB,EACK,CACL,MAAO,CAAC,iBAAiB,CAAC,CAC1B,SAAU,CAAC,sBAAsB,EAAE,EAAK,8BAA8B,CACxE,AADyE,EAKvE,GAAQ,GAAK,EAAO,GACf,CADmB,AAExB,MAAO,CAAC,YAAY,EAAE,EAAK,IAAI,CAAC,CAChC,SAAU,2DACZ,EACS,GAAQ,IAAM,EAAO,GACvB,CAD2B,AAEhC,MAAO,CAAC,YAAY,EAAE,EAAK,IAAI,CAAC,CAChC,SAAU,sDACZ,EACS,GAAQ,IAAM,EAAO,GACvB,CAD2B,AAEhC,MAAO,CAAC,YAAY,EAAE,EAAK,IAAI,CAAC,CAChC,SAAU,+CACZ,EAEO,CACL,MAAO,CAAC,SAAS,EAAE,EAAK,IAAI,CAAC,CAC7B,SAAU,mDACZ,GA0DI,EAAW,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,KACvB,IAAM,EAAM,IAAI,KACV,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAK,SAC1B,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAK,OAAO,WAAW,GAMnD,OAJsB,AAIf,EAHJ,MAAM,CAAC,GAAQ,EAAK,IAAI,CAAC,QAAQ,CAAC,IAAiB,EAAK,SAAS,CAAG,GACpE,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,SAAS,CAAC,aAAa,CAAC,EAAE,SAAS,EAEnC,CAAC,EAAE,EAAI,IAC7B,EAAG,CAAC,EAAM,EAGJ,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC5B,GAAI,CAAC,EAAU,OAAO,KAEtB,IAAM,EAAM,IAAI,KACV,CAAC,EAAO,EAAK,CAAG,EAAS,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,QAClD,EAAW,IAAI,KACrB,EAAS,QAAQ,CAAC,EAAO,EAAM,EAAG,GAElC,IAAM,EAAS,EAAS,OAAO,GAAK,EAAI,OAAO,GAC/C,GAAI,GAAU,EAAG,OAAO,KAExB,IAAM,EAAW,KAAK,KAAK,CAAC,EAAS,KACrC,GAAI,EAAW,GAAI,MAAO,CAAA,EAAG,EAAS,CAAC,CAAC,CACxC,IAAM,EAAY,KAAK,KAAK,CAAC,EAAW,IAExC,MAAO,CAAA,EAAG,EAAU,EAAE,EADA,AACE,EADS,GACK,CAAC,CAAC,AAC1C,EAAG,CAAC,EAAS,EAEb,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,4QAGZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,2DACZ,IAAI,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAG,IACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAGC,MAAO,CACL,KAAM,CAAA,EAAmB,IAAhB,KAAK,MAAM,GAAS,CAAC,CAAC,CAC/B,IAAK,CAAC,IAAI,CAAC,CACX,eAAgB,CAAA,EAAmB,EAAhB,KAAK,MAAM,GAAO,CAAC,CAAC,CACvC,kBAAmB,CAAA,EAAG,EAAoB,EAAhB,KAAK,MAAM,GAAO,CAAC,CAAC,AAChD,2CANU,2BAQT,CAAC,KAAM,IAAK,KAAM,KAAM,KAAM,IAAI,CAAC,KAAK,KAAK,CAAiB,EAAhB,KAAK,MAAM,IAAQ,EAT7D,MAgBb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAA4C,MAAO,CAClD,gBAAiB,CAAC,4DAA4D,CAAC,CAC/E,eAAgB,WAClB,2CAHe,sBAMf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,sDACZ,IAAI,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAGC,MAAO,CACL,KAAM,CAAA,EAAG,GAAS,GAAJ,EAAO,CAAC,CAAC,CACvB,IAAK,CAAA,EAAG,GAAM,EAAI,EAAK,GAAG,CAAC,CAAC,CAC5B,eAAgB,CAAA,EAAO,GAAJ,EAAQ,CAAC,CAAC,CAC7B,kBAAmB,CAAA,EAAG,EAAI,EAAE,CAAC,CAC/B,AADgC,2CALtB,iDADL,MAaX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,yLACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uKAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,mGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,gCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0IACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAY,CAAA,CAAC,UAAU,4CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,6DACb,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAW,yBAKvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,2EACX,EAAS,KAAK,GAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,oEACV,EAAS,QAAQ,MAKtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0HACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0DACpB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,0FAA0F,IACnG,CAAM,CAAC,EAAkB,CAAC,UAKhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,UAAU,8LAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAAyC,kBAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,QAAS,UACW,AAOd,MAPoB,EAAQ,CAC9B,MAAO,6BACP,YAAa,iFACb,YAAa,cACb,WAAY,SACZ,KAAM,SACR,IACe,GACjB,EACA,UAAU,gLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,yCAAyC,wBAMpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,qPAGb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WAAe,CAAC,wGAAmF,EAAE,EAAgB,GAAK,iCAAmC,YAAA,CAAa,GAC3K,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,YAAY,IACZ,OAAO,eACP,KAAK,cACL,GAAG,EACH,GAAG,MACH,GAAG,+CANO,QAQZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,YAAY,IACZ,gBAAiB,EACjB,iBA3LW,CA2LO,CA3LU,EAAmB,IAAO,EA4LtD,cAAc,QACd,OAAO,eACP,KAAK,cACL,EAjMC,CAiME,EACH,GAAG,MACH,GAAG,MACH,MAAO,CAAE,OAAQ,6CAA8C,2CAVrD,kDAad,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,4DACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,kCAAmC,KAAK,KAAK,CAAC,GAAkB,YAKpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,8CAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,YACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,+EAAgF,eAC7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,0DAA4D,IAC5E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,wEAAwE,KAAG,WAK/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WAAe,CAAC,wGAAmF,EAAoB,MAAlB,GAAyB,EAAkB,EAC7I,iDACA,iCACD,sBAAsB,CAAC,UACL,MAAlB,GAAyB,EAAkB,EAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,8BAElB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gCAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,WAAgB,CAAC,mFAA8D,EAAoB,MAAlB,GAAyB,EAAkB,EAAI,kBAAoB,iBAAA,CACjJ,UACD,IAAwB,GAAmB,EAAkB,EAAI,eAAiB,mBAKtF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,wGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,6GACZ,EAAS,IAAI,GAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,sDAAwD,EAAS,KAAK,GACnF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,8BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,0CACb,EAAS,SAAS,CAAC,SAAO,WAIjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,0pBA+BxB,IAGP,EC7VA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAIA,SAAS,EAAG,GAAG,CAAoB,EACjC,MAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,IAAI,AAAJ,EAAK,GACtB,CAEA,IAAM,EAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAM,CAgBxD,EAA0B,KAC9B,GAAM,aAAE,CAAW,gBAAE,CAAc,CAAE,OAAK,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAChD,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAQ,OAAO,WAAW,GAYzD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAK,GAAG,CAAE,AAAD,IACR,IAAM,EAAa,IAAgB,EAC7B,EAAgB,IAAgB,EAChC,EAAW,CAhBF,AAAC,IACtB,MAhBI,IAgBE,EAAW,EAAM,MAAM,CAAC,AAAC,GAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,IACrD,GAAwB,IAApB,EAAS,MAAM,CAAQ,OAAO,EAGlC,IAAM,KApBc,CADhB,EAAQ,IAAI,IAqBM,EApBI,MAAM,GAOlC,CADM,AANgC,EAMnB,IAAI,KAAK,IACjB,OAAO,CAAC,EAAM,MAP4C,CAOrC,GAFnB,EAEwB,AAHd,CAHwB,CAC7C,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EACrE,CACqC,CAAC,AAgBM,EAhBE,GAAI,EACpB,CAAA,GAGvB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAY,eAcxB,OAAO,KAAK,KAAK,CAAE,AADD,EAAS,MAAM,CAAC,AAAC,GAAM,EAAE,iBAAiB,EAAE,SAAS,IAAgB,MAAM,CAC9D,EAAS,MAAM,CAAI,KACpD,EAQwC,GAEhC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAe,GAC9B,UAAW,EACT,wGACA,YACA,EACI,yFACA,+FAGL,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EACd,wDACA,EAAa,wBAA0B,gBAG3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EACf,0EACA,EAAa,6BAA+B,oEAE3C,IAGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,EACf,sCACA,EAAa,0BAA4B,6BAExC,EAAS,OAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EACd,4DACA,EAAa,2BAA6B,qBAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,EAAG,sCAAuC,EAAa,wBAA0B,cAC5F,MAAO,CAAE,MAAO,CAAA,EAAG,EAAS,CAAC,CAAC,AAAC,WArChC,EA2CX,MAIR,EChGA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAKA,SAAS,EAAG,GAAG,CAAoB,EACjC,MAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,GACtB,CAOA,IAAM,EAAoC,CAAC,MAAE,CAAI,QAAE,CAAM,CAAE,IACzD,GAAM,sBAAE,CAAoB,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAOxC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,QAAS,IAAM,EAAO,GACtB,UAAW,EACT,qGACA,EAAK,WAAW,CACZ,iDACA,+FAIL,CAAC,EAAK,WAAW,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2JAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QArBe,AAAC,CAqBP,GApBb,EAAE,eAAe,GACjB,EAAqB,EAAK,EAAE,CAC9B,EAmBM,UAAW,EACT,0HACA,EAAK,WAAW,CACZ,kGACA,8FAGL,EAAK,WAAW,CACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kEAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,sEAIrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EACd,0JACA,EAAK,WAAW,CAAG,iCAAmC,wCAEtD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAyB,EAAK,IAAI,EAAI,SAGxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EACb,2DACA,EAAK,WAAW,CAAG,uDAAyD,4BAE3E,EAAK,KAAK,GAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0IACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,yBAChB,EAAK,SAAS,IAEhB,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,QAAQ,YAM5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,6FAG9B,gBO9DgB,EAAiB,UAtBG,mNAMlC,+DAC8B,IAAK,8DNJrC,IAAA,EAAA,EAAA,CAAA,CAAA,gBOoBkB,CAAA,CAAA,OAAA,EAAiB,CAAA,aAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAtBlC,GAAA,uBAAiC,CAAA,AEAhC,CFAgC,AEAhC,CFAgC,AEAhC,CAAA,AFAgC,8IAIf,CDAjB,ACAiB,AGAjB,ACAA,6GJE+B,CAAU,CAAA,mDAEtD,OAAQ,CAAA,2BAA+B,CAAA,CAAA,EAAK,CAAA,OAAA,CAAU,CAAA,QIa1C,EAAA,OAAA,EAAA,0HAnBiB,oFAEU,CJAC,AIAD,ALAA,AIA1B,GAAA,wDCEL,CAAE,EAAG,CAAA,ALAA,ACAA,CIAA,AJAA,ADAA,CKAA,ALAA,ACAA,iEIC6B,CLAA,AKAA,AJAA,UIC7C,EXNA,IAAA,EAAA,EAAA,CAAA,CAAA,OUiBA,CAAA,ACb+C,AJAU,ADAV,GAAA,EAAA,CAAA,EIa9B,CAAA,AJZD,AKAA,AJAA,CDAA,AKAA,AJAA,AGYC,AJZD,CKAA,ADYC,AHZD,ADAA,MIYC,AJZD,EIYkB,CCZlB,AJAA,ADAA,AIYkB,gDAlBhC,CAAC,qCAA0C,WAC3C,oCAAyC,YAC3B,CHAA,ADAA,AEYV,AGZU,AFYH,ACZG,CFYV,AEZU,ADYH,AHZG,AKAA,AJAA,0BGA8B,CFYV,ACAE,ACZQ,CAAA,AFYV,ACAY,CAAA,ACZF,AFYV,CEZU,MAAU,CFYL,CAAA,AEXhD,CAAA,AFWgD,AFXhD,ACAA,AIAA,CDAA,AFW0D,AFX1D,ACAA,AIAA,CHW0D,KEXhD,EAAG,CHAA,ADAA,AIAA,ACAA,qCDAuC,IAAK,CAAA,CAAA,MAAA,CAAU,CAAA,6DACH,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC7E,EVIM,EAAsC,CAAC,OAAE,CAAK,WAAE,CAAS,CAAE,YAAU,CAAE,GAAG,EAAO,IACrF,GAAM,qBAAE,CAAmB,CAAE,CAAG,CAAA,EAAA,EAAA,OAAO,AAAP,IAC1B,EAAQ,EAAoB,GAE5B,EAAiB,EAAM,MAAM,CAAC,AAAC,GAAM,EAAE,WAAW,EAAE,MAAM,CAC1D,EAAW,EAAM,MAAM,CAAG,EAAK,EAAiB,EAAM,MAAM,CAAI,IAAM,EAuB5E,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,2DAA2D,EAV/D,AAUiE,CAT9E,KAAM,wEACN,QAAS,0EACT,KAAM,kEACN,UAAW,iEACX,QAAS,wEACT,MAAO,uEACT,CAGsF,CAAC,EAAM,CAAC,mFAAmF,CAAC,CAAG,GAAG,CAAK,WAEzL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,4EACV,MAAO,CAAE,WAAY,CAAC,uCAAuC,EAAE,EAAS,eAAe,EAAE,EAAS,EAAE,CAAC,AAAC,IAGxG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,yIAAyI,CAAC,UACxJ,CAhCU,KACnB,OAAQ,GACN,IAAK,OAAQ,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,WACvC,KAAK,UAAW,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,WAC3C,KAAK,OAAQ,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,WACnC,KAAK,YAAa,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,WAC9C,KAAK,UAAW,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,WACzC,KAAK,QAAS,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,WACrC,SAAS,OAAO,IAClB,CACF,OAwBQ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAqD,IACnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gJACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,uBAChB,WAIP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+CAAsC,EAAe,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uDAA6C,IAAE,EAAM,MAAM,OAChJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4FAAmF,kBAIvG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACZ,EAAM,MAAM,CAAG,EACd,EAAM,GAAG,CAAC,AAAC,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAuB,KAAM,EAAM,OAAQ,GAA7B,EAAK,EAAE,GAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yMACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,yBAErB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gFAAuE,mCAMhG,EK1EA,IAAA,EAAA,EAAA,CAAA,CAAA,OJJA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASA,IAAM,EAAoB,CACtB,CACI,MAAO,iBACP,YAAa,kEACb,SAAU,QACd,EACA,CACI,MAAO,kBACP,YAAa,oFACb,SAAU,QACd,EACA,CACI,MAAO,aACP,YAAa,qFACb,SAAU,mBACV,SAAU,QACd,EACA,CACI,MAAO,eACP,YAAa,8EACb,SAAU,QACd,EACH,CAGK,EAAc,QAEd,EAA2B,KAC7B,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAExB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KA4DN,AA3D8B,WAC1B,GAAK,CAAD,CAEJ,GAAI,CAFO,AAIP,IAAM,EAAW,aAAa,OAAO,CAAC,gBAClC,GAAa,EAEjB,GAAI,EAAU,CACV,GAAM,SAAE,CAAO,SAAE,CAAO,CAAE,CAAG,KAAK,KAAK,CAAC,GAGpC,GAAW,IAAY,GACvB,IAAa,CAAA,CAErB,CAIA,GAAI,AAPwC,EAO5B,CACZ,IAAM,EAAW,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,SAC1B,EAAiB,CAAA,EAAA,EAAA,KAAA,AAAK,EACxB,EACA,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,SAAU,KAAM,EAAK,GAAG,EAC9B,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,IAMV,GAAI,CAAC,CAHY,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAA,EAGjB,KAAK,CAAE,CACjB,IAAM,EAAW,aAAa,OAAO,CAAC,gBACtC,GAAI,EAAU,CACV,GAAM,CAAE,SAAO,CAAE,CAAG,KAAK,KAAK,CAAC,GAE3B,IAAY,IACZ,GAAa,CAAA,CAErB,IAHiC,EAK7B,CAFG,YAEU,OAAO,CAAC,eAAgB,KAAK,SAAS,CAAC,CAChD,QAAS,EACT,SAAS,CACb,IACA,EAAa,EAErB,CACJ,CAEA,GAAI,EAAY,CAEZ,IAAM,EAAQ,WAAW,IAAM,GAAU,GAAO,MAChD,MAAO,IAAM,aAAa,EAC9B,CACJ,CAAE,MAAO,EAAG,CACR,QAAQ,KAAK,CAAC,8BAA+B,EACjD,EACJ,GAGJ,EAAG,CAAC,EAAK,EAUT,IAaM,EAbA,AAaa,KACf,GAAU,GACV,GAAI,CACA,aAAa,OAAO,CAAC,eAAgB,KAAK,SAAS,CAAC,CAChD,QAAS,EACT,SAAS,EACT,UAAW,IAAI,OAAO,WAAW,EACrC,GACJ,CAAE,MAAO,EAAG,CACR,QAAQ,KAAK,CAAC,0BAA2B,EAC7C,CACJ,EAEA,GAAI,CAAC,EAAQ,OAAO,KAEpB,IAAM,EAAO,CAAK,CAAC,EAAY,CAE/B,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACP,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,EACtB,KAAM,CAAE,QAAS,CAAE,EACnB,UAAU,gDACV,QAAS,IAIb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACP,QAAS,CAAE,MAAO,GAAK,QAAS,EAAG,EAAG,EAAG,EACzC,QAAS,CAAE,MAAO,EAAG,QAAS,EAAG,EAAG,CAAE,EACtC,KAAM,CAAE,MAAO,GAAK,QAAS,EAAG,EAAG,EAAG,EACtC,UAAU,gHAGV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACV,EAAM,GAAG,CAAC,CAAC,EAAG,IACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEG,UAAW,CAAC,+CAA+C,EAAE,IAAQ,EAAc,oBAAsB,+BAAA,CACnG,EAFD,MAOjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DACT,EAAK,KAAK,GAEf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACR,EAAK,WAAW,MAIzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAQ,QACR,QAAS,EACT,UAAU,mFACb,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAtFL,CAsFc,IArFzB,EAAc,EAAM,MAAM,CAAG,EAC7B,CADgC,CACjB,AAAC,GAAS,EAAO,GAEhC,CAIe,KACnB,GAAU,GACV,GAAI,CACA,aAAa,OAAO,CAAC,eAAgB,KAAK,SAAS,CAAC,CAChD,QAAS,EACT,SAAS,EACT,YAAa,IAAI,OAAO,WAAW,EACvC,GACJ,CAAE,MAAO,EAAG,CACR,QAAQ,KAAK,CAAC,gCAAiC,EACnD,CACJ,IAbA,EAiFwB,UAAU,qIAET,IAAgB,EAAM,MAAM,CAAG,EAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCAA0B,eAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,eAGjC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCAA0B,QACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,2BASjE,ECi3BO,MAAM,CAtjCN,MAsjCa,GAtjCJ,EACd,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,gBACL,UAAU,uOACX,wBAIL,KA8BO,SAAS,AAAW,SAAE,CAAO,MAAE,EAAO,QAAQ,YAAE,EAAa,GAAI,CAAmB,EACzF,IAAM,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,MACnC,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAgBzD,MAdA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,GAAI,GAAW,IAAY,IACzB,EAAoB,GAEhB,EAAa,GAAG,CAClB,GAJyC,CAInC,EAAQ,WAAW,KACvB,EAAoB,GACtB,EAAG,GACH,MAAO,IAAM,aAAa,EAC5B,CAEJ,EAAG,CAAC,EAAS,EAAY,EAAiB,EAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,KAAK,SACL,YAAW,EACX,cAAY,OACZ,UAAU,mBAET,GAGP,KAmLO,SAAS,EAKd,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,MAAY,IAAW,EAAX,CAanD,MAXA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KASV,EAAG,CAbC,KAaW,EAER,CACT,EG9QA,IAAA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OFbA,GAAA,EAAA,CAAA,CAAA,OU8CA,IAAM,GAA8C,CAChD,EAAG,CAAC,WAAY,YAAa,SAAU,OAAQ,cAAe,aAAc,KAAM,gBAAgB,CAClG,EAAG,CAAC,gBAAiB,YAAa,gBAAiB,SAAU,OAAQ,aAAc,KAAK,CACxF,EAAG,CAAC,kBAAmB,SAAU,UAAW,aAAc,KAAK,CAC/D,EAAG,CAAC,eAAgB,WAAY,gBAAiB,aAAc,aAAc,KAAM,aAAa,AACpG,EAEM,GAA8C,CAChD,KAAM,CAAC,OAAQ,MAAO,SAAU,UAAW,UAAW,WAAY,SAAS,CAC3E,SAAU,CAAC,WAAY,OAAQ,SAAU,SAAU,QAAQ,CAC3D,OAAQ,CAAC,SAAU,WAAY,MAAO,UAAW,SAAU,WAAY,WAAW,CAClF,QAAS,CAAC,QAAS,OAAQ,UAAW,OAAQ,SAAU,UAAW,YAAY,CAC/E,SAAU,CAAC,QAAS,QAAS,OAAQ,SAAU,WAAY,WAAY,YAAY,CACnF,OAAQ,CAAC,OAAQ,OAAQ,SAAU,SAAU,WAAY,SAAU,QAAQ,CAC3E,SAAU,CAAC,QAAS,SAAU,SAAU,MAAO,QAAS,QAAS,OAAO,AAC5E,EA0BM,GAAsB,CACxB,mCACA,4BACA,8BACA,0CACA,kCACA,yEACH,CAYM,SAAS,GAAe,CAAa,MAwQnB,EA0CH,EAjTlB,CAuQkC,EA0CH,CAqB3B,EAtUE,EAA2B,EAAE,CAC/B,EAAO,EAGL,EAAiB,AAuE3B,SAAS,AAAY,CAAa,EAQ9B,IAAM,EAAU,EAAM,KAAK,CAAC,gCAC5B,GAAI,EAAS,CACT,IAAI,EAAQ,SAAS,CAAO,CAAC,EAAE,EACzB,EAAU,CAAO,CAAC,EAAE,CACpB,EAAS,CAAO,CAAC,EAAE,CAAC,WAAW,GAKrC,MAHe,OAAX,GAAmB,EAAQ,KAAI,GAAS,EAAA,EAC7B,OAAX,GAA6B,KAAV,IAAc,GAAQ,EAEtC,CACH,MAAO,CAAO,CAAC,EAAE,CACjB,KAAM,CAAA,EAAG,EAAM,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAK,CAAC,EAAE,EAAA,CAAS,CACvD,WAAY,IACZ,MAAO,EAAQ,KAAK,EAAI,EACxB,QAAS,CAAO,CAAC,EAAE,AACvB,CACJ,CAGA,IAAM,EAAQ,EAAM,KAAK,CAAC,qBAC1B,GAAI,GAEI,AAAS,IAFN,AACO,AACG,SADM,CAAK,CAAC,EAAE,EAE3B,MAAO,CACH,MAAO,CAAK,CAAC,EAAE,CACf,KAAM,CAAK,CAAC,EAAE,CACd,WAAY,GACZ,MAAO,EAAM,KAAK,EAAI,EACtB,QAAS,CAAK,CAAC,EAAE,AACrB,EAKR,GAAI,YAAY,IAAI,CAAC,GAAQ,CACzB,IAAM,EAAQ,EAAM,KAAK,CAAC,aAC1B,MAAO,CACH,MAAO,WACP,KAAM,QACN,WAAY,IACZ,MAAO,GAAO,OAAS,EACvB,QAAS,MACb,CACJ,CAEA,GAAI,gBAAgB,IAAI,CAAC,GAAQ,CAC7B,IAAM,EAAQ,EAAM,KAAK,CAAC,iBAC1B,MAAO,CACH,MAAO,WACP,KAAM,QACN,WAAY,IACZ,MAAO,GAAO,OAAS,EACvB,QAAS,UACb,CACJ,CAEA,OAAO,IACX,EAxIuC,GAC/B,IACA,EAAS,IAAI,CAAC,CACV,IAFY,CAEN,OACN,MAAO,EAAe,KAAK,CAC3B,WAAY,EAAe,UAAU,CACrC,WAAY,EAAe,KAAK,CAChC,SAAU,EAAe,KAAK,CAAG,EAAe,KAAK,CAAC,MAAM,AAChE,GACA,EAAO,EAAK,OAAO,CAAC,EAAe,OAAO,CAAE,IAAI,IAAI,IAIxD,IAAM,EAAiB,AAiI3B,SAAqB,AAAZ,CAAyB,EAO9B,IAAM,EAAM,IAAI,KACZ,EAAyB,KACzB,EAAa,GACb,EAAa,GACb,EAAQ,EAGN,EAAa,EAAM,KAAK,CAAC,cAC3B,IACA,EAAU,EAAI,IADF,OACa,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CACzC,EAAa,QACb,EAAQ,EAAW,KAAK,EAAI,GAIhC,IAAM,EAAgB,EAAM,KAAK,CAAC,iBAC9B,IAEA,EADiB,AACP,IADW,KADN,AACW,EAAI,OAAO,GAAK,KAAK,EAC5B,GADiC,KAAK,GAC3B,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC9C,EAAa,WACb,EAAQ,EAAc,KAAK,EAAI,GAInC,IAAM,EAAW,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,WAAW,CAC/F,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAE,IAAK,CACtC,IAAM,EAAW,EAAM,KAAK,CAAC,AAAI,OAAO,CAAC,GAAG,EAAE,CAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAE,MAChE,GAAI,EAAU,CAGV,IAAI,EAFc,AAEF,EADG,EAAI,MAAM,EACD,CACxB,GAAa,IAAG,IAAa,EAGjC,EADmB,AACT,IADa,KAAK,EAAI,OAAO,GAAiB,KAAZ,AAAiB,KAAK,CAC7C,IADkD,OACvC,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAChD,EAAa,CAAQ,CAAC,EAAE,CACxB,EAAQ,EAAS,KAAK,EAAI,EAC1B,EAAa,IACb,KACJ,CACJ,CAGA,IAAM,EAAc,EAAM,KAAK,CAAC,uBAChC,GAAI,GAAe,CAAC,EAAS,CACzB,IAAM,EAAO,SAAS,CAAW,CAAC,EAAE,EAEpC,EADmB,AACT,IADa,KAAK,EAAI,OAAO,GAAY,KAAP,AAAY,KAAK,CACxC,IAD6C,OAClC,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAChD,EAAa,CAAW,CAAC,EAAE,CAC3B,EAAQ,EAAY,KAAK,EAAI,EAC7B,EAAa,EACjB,QAEA,AAAI,EACO,CACH,MAFK,AAEE,EACP,KAAM,EACN,mBACA,EACA,QAAS,CACb,EAGG,IACX,EAxMuC,GAC/B,IACA,EAAS,IAAI,CAAC,CACV,IAFY,CAEN,OACN,MAAO,EAAe,KAAK,CAC3B,WAAY,EAAe,UAAU,CACrC,WAAY,EAAe,KAAK,CAChC,SAAU,EAAe,KAAK,CAAG,EAAe,KAAK,CAAC,MAAM,AAChE,GACA,EAAO,EAAK,OAAO,CAAC,EAAe,OAAO,CAAE,IAAI,IAAI,IAIxD,IAAM,EAiMV,AAjM+B,SAiMtB,AAAgB,CAAa,EAQlC,IAAM,EAAW,EAAM,KAAK,CAAC,wCAC7B,GAAI,EAAU,CACV,IAAM,EAAU,SAAS,CAAQ,CAAC,EAAE,EACpC,MAAO,CACH,MAAO,CAAQ,CAAC,EAAE,CAClB,SAAoB,GAAV,EACV,WAAY,IACZ,MAAO,EAAS,KAAK,EAAI,EACzB,QAAS,CAAQ,CAAC,EAAE,AACxB,CACJ,CAGA,IAAM,EAAY,EAAM,KAAK,CAAC,kCAC9B,GAAI,EAAW,CACX,IAAM,EAAQ,SAAS,CAAS,CAAC,EAAE,EACnC,MAAO,CACH,MAAO,CAAS,CAAC,EAAE,CACnB,SAAkB,KAAR,EACV,WAAY,IACZ,MAAO,EAAU,KAAK,EAAI,EAC1B,QAAS,CAAS,CAAC,EAAE,AACzB,CACJ,CAEA,OAAO,IACX,EAnO+C,GACvC,IACA,EAAS,IAAI,CAAC,CACV,KAAM,GAFU,QAGhB,MAAO,EAAmB,KAAK,CAC/B,WAAY,EAAmB,UAAU,CACzC,WAAY,EAAmB,KAAK,CACpC,SAAU,EAAmB,KAAK,CAAG,EAAmB,KAAK,CAAC,MAAM,AACxE,GACA,EAAO,EAAK,OAAO,CAAC,EAAmB,OAAO,CAAE,IAAI,IAAI,IAI5D,IAAM,KAA8B,EA6N7B,GAAoB,IA7NP,AA6NW,CAAC,GAAW,EAAQ,IAAI,CAAC,KA1NlD,EAAW,AAiOrB,SAAS,AAAe,CAAa,EACjC,IAAM,EAAa,EAAM,WAAW,GAGpC,IAAK,GAAM,CAAC,EAAU,EAAS,GAAI,OAAO,OAAO,CAAC,IAC9C,GAAI,EAAS,IAAI,CAAC,GAAM,EAAW,AAD+B,QACvB,CAAC,IACxC,EAD8C,KACvC,SAAS,GAKxB,OAAO,CACX,EA7OoC,GAG1B,EAAW,AAgPrB,SAAS,AAAe,CAAa,EACjC,IAAM,EAAa,EAAM,WAAW,GAEpC,IAAK,GAAM,CAAC,EAAU,EAAS,GAAI,OAAO,OAAO,CAAC,IAC9C,GAAI,EAAS,IAAI,CAAC,GAAM,EAD0C,AAC/B,QAAQ,CAAC,IACxC,EAD8C,KACvC,EAIf,OAAO,IACX,EA1PoC,EA+R5B,IA5RiB,AAkRP,EAET,GADD,IACQ,CAAC,iBADa,2EACgF,GACtG,CACC,OAAO,CAAC,aADa,+CACgD,GACtE,CACC,OAAO,CAAC,OAAQ,KAChB,IAAI,CAFqB,GAKlB,MAAM,CAAG,GAAG,CACpB,EAAU,EAAQ,MAAM,CAAC,GAAG,WAAW,GAAK,EAAQ,KAAK,CAAC,EAAA,EA7R9D,EAgSO,EA7RP,GAHO,CAGD,EA6PN,CAFmB,GA3PS,GAAb,AA2PU,WAAW,GAEhC,uCAAuC,IAAI,CAAC,IAAe,IAAP,KACpD,wCAAwC,IAAI,CAAC,GAAe,KAAP,IACrD,uCAAuC,IAAI,CAAC,GAAe,KAAP,IACpD,yDAAyD,IAAI,CAAC,GAAe,KAAP,MACtE,0CAA0C,IAAI,CAAC,GAAe,KAAP,GACvD,6BAA6B,IAAI,CAAC,GAAe,KAAP,IAC1C,wCAAwC,IAAI,CAAC,GAAe,KAAP,KACrD,oCAAoC,IAAI,CAAC,GAAe,KAAP,GACjD,oCAAoC,IAAI,CAAC,GAAe,KAAP,EAE9C,UArQP,MAAO,CACH,IAAK,OACL,EACA,KAAM,GAAgB,MAAQ,KAC9B,KAAM,GAAgB,MAAQ,KAC9B,oBACA,cACA,EACA,SAAU,GAAoB,UAAY,YAC1C,WACA,CACJ,CACJ,CV5KA,IAAA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAyBO,SAAS,GAAe,eAC3B,CAAa,aACb,EAAc,0DAA0D,WACxE,GAAY,CAAK,CACjB,gBAAe,CAAI,WACnB,EAAY,EAAE,CACI,QAClB,MAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,CAC9D,MAAM,EACN,OAAQ,KACR,SAAU,CACN,OAAQ,GACR,SAAU,GACV,OAAQ,GACR,SAAU,EACd,CACJ,GACM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAEjD,EAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAAsB,MACvC,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MAE5C,SAAE,CAAO,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,OAAO,AAAP,IACrB,EAAG,CAAG,CAAA,EAAA,GAAA,KAAA,AAAK,IACX,aAAE,CAAW,YAAE,CAAU,CAAE,SAAU,CAAa,CAAE,CAAG,CAAA,EAAA,GAAA,aAAA,AAAa,IAGpE,EAAY,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAiB,KAC5C,OAAQ,GACJ,IAAK,UACD,GAAA,KAAK,CAAC,OAAO,CAAC,GACd,KACJ,KAAK,QACD,GAAA,KAAK,CAAC,KAAK,CAAC,GACZ,KACJ,KAAK,UACD,GAAA,KAAK,CAAC,OAAO,CAAC,GACd,KACJ,KAAK,IAED,GAAA,KAAK,CAAC,IAAI,CAAC,EAEnB,CACJ,EAAG,EAAE,EAGC,EAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,QA8WjB,MAAkB,AAC9B,EA9WF,GAAI,CAAC,EAAM,IAAI,GAAI,YACf,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,MAAM,EAAO,OAAQ,KAAK,CAAC,EAIpE,IAAM,EAAS,GAAe,GAC9B,EAAiB,CACb,KAAM,GACN,SACA,SAAU,CACN,OAAQ,EAAO,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,GAAK,EAAO,MAAM,CAAC,KAAK,CAAC,GACpE,SA2UG,AACR,CA5Ue,AA2UN,GAAI,MAAO,SAAU,OAAQ,WAAW,AAC3C,CA5U0B,AA4UzB,EA5UgC,QAAQ,CA4U/B,EAAI,SA3Uf,MAAA,EAAQ,EAkWI,EAAE,CACtB,GAnW6B,GAmWtB,IAAI,EAAE,EAAM,IAAI,CAAC,GAAkB,EAAO,IAAI,GACrD,EAAO,IAAI,EAAE,EAAM,IAAI,CAAC,GAAkB,EAAO,IAAI,GAClD,EAAM,IAAI,CAAC,MAAQ,iBApWd,SAAU,EAAO,QAAQ,EAAI,SACjC,CACJ,EACJ,EAAG,EAAE,EAGC,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACnC,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,EAAS,GAGL,EAAY,OAAO,EAAE,AACrB,aAAa,EAAY,OAAO,EAEpC,EAAY,OAAO,CAAG,WAAW,KAC7B,EAAc,EAClB,EAAG,IACP,EAAG,CAAC,EAAc,EAGlB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACF,GAAa,EAAS,OAAO,EAAE,AAC/B,EAAS,OAAO,CAAC,KAAK,EAE9B,EAAG,CAAC,EAAU,EAGd,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,IACC,KACC,EAAY,OAAO,EACnB,AADqB,aACR,EAAY,OAAO,CAExC,EACD,EAAE,EAGL,IAAM,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,MAAO,IAGpC,GAFA,CAEI,CAFF,cAAc,GAEX,EAAM,IAAI,IAAI,AAEnB,GAAgB,GAEhB,GAAI,CACA,IAAM,EAAS,GAAe,GAG9B,OAAQ,EAAO,MAAM,EACjB,IAAK,QACD,MAAM,EAAkB,GACxB,KAEJ,KAAK,QACD,EAAkB,GAClB,KAEJ,KAAK,IAID,MAAM,EAAmB,EAEjC,CAGA,EAAS,IACT,EAAiB,CAAE,MAAM,EAAO,OAAQ,KAAM,SAAU,CAAE,OAAQ,GAAI,SAAU,GAAI,OAAQ,GAAI,SAAU,EAAG,CAAE,EAEnH,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,uBAAwB,GACtC,GAAA,KAAK,CAAC,KAAK,CAAC,2CAChB,QAAU,CACN,GAAgB,EACpB,EACJ,EAAG,CAAC,EAAM,EAGJ,EAAqB,MAAO,QAsBJ,EApB1B,EAoBsC,EApBhC,EAAW,CACb,MAAO,EAAO,IAAI,CAClB,KAAM,KACN,UAAW,EAAO,IAAI,EAAI,QAC1B,QAAS,EAAO,IAAI,CAAG,CAAA,EAAG,SAAS,EAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAI,EAAE,GAAG,CAAC,CAAG,QACzE,UAgBJ,AAAI,CAhBW,EAAqB,EAAO,IAAI,CAAG,SAAS,EAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAI,IAgB5E,GAAK,EAAO,EAAU,CAAP,MACvB,GAAQ,GAAK,EAAO,GAAW,CAAP,SACxB,GAAQ,IAAM,EAAO,GAAW,CAAP,MACzB,GAAQ,IAAM,EAAO,GAAW,CAAP,WACzB,GAAQ,IAAM,EAAO,GAAW,CAAP,SACtB,QApBH,KAAM,CAAC,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,SAAS,CACpF,aAAc,EAAO,IAAI,OAAI,EAC7B,SAAU,EAAO,IAAI,OAAI,EACzB,UAAW,IAAI,OAAO,WAAW,EACrC,CAEA,OAAM,EAAQ,GAGd,EADgB,CAAC,OACP,OADqB,EAAE,EAAO,IAAI,CAAA,CAAE,CAC3B,WACnB,IAAgB,CAAE,GAAG,CAAQ,CAAE,GAAI,CAAA,EAAA,GAAA,EAAA,AAAM,GAAG,EAChD,EAaM,EAAoB,MAAO,IAC7B,IAAM,EAAgB,EAAO,IAAI,CAAC,KAAK,CAAC,SAIlC,EAAkB,SAAS,AAHhB,EAAO,QAAQ,CAC1B,OAAO,KAAK,KAAK,CAAC,EAAO,QAAQ,CAAG,KACnC,EAAgB,CAAa,CAAC,EAAE,CAAG,KACC,KAAO,GAG9C,EAAW,EAAO,IAAI,CACrB,OAAO,CAAC,oCAAqC,IAC7C,OAAO,CAAC,mCAAoC,IAC5C,IAAI,EAEL,CAAC,IACD,EAAW,IADA,mBACA,EAIf,EAAW,SACX,IACA,EAAU,CAAC,SAAS,EAAE,EAAgB,qBAAqB,CAAC,CAAE,UAClE,EAGM,EAAoB,AAAC,IACvB,IAAM,EAAa,EAAM,MAAM,CACzB,EAAiB,EAAM,MAAM,CAAC,GAAK,EAAE,WAAW,EAAE,MAAM,CAG1D,EAAW,CAAC,SAAS,EAAE,AAFN,EAAa,EAEM,cAAc,CAAC,CACnD,EAAiB,GAAG,CACpB,GAAY,CAAC,EAAE,EAAE,EAAe,YAAW,AAAC,EAGhD,EAAU,EAAU,OACxB,EAGM,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACnC,OAAQ,GACJ,IAAK,QACD,EAAS,sBACT,KACJ,KAAK,WACD,EAAS,yBACT,KACJ,KAAK,SACD,EAAS,oBACT,KACJ,KAAK,QACD,EAAS,8BAEjB,CACA,EAAS,OAAO,EAAE,OACtB,EAAG,EAAE,EAEL,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,iBAAiB,EAAE,EAAA,CAAW,UAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,qBAEpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,IAAK,EACL,MAAO,EACP,SAAU,EACV,YAAa,EACb,UAAU,gMACV,KAAM,EACN,UAAW,AAAC,IACM,UAAV,CAAqB,CAAnB,GAAG,EAAiB,EAAE,QAAQ,EAAE,CAClC,EAAE,cAAc,GAChB,EAAa,GAErB,IAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAmB,CAAC,GACnC,UAAU,0DACV,MAAM,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,mCAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,SAAU,CAAC,EAAM,IAAI,IAAM,EAC3B,UAAW,CAAC,8BAA8B,EACtC,EAAM,IAAI,IAAM,CAAC,EACX,2CACA,+CAAA,CACR,CACF,MAAM,+BAEL,EACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBAAuB,KAAK,OAAO,QAAQ,sBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,YAAY,MACxF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,aAAa,KAAK,eAAe,EAAE,uHAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,+CAQxF,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gHACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAuC,kBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAkB,SACjC,UAAU,uGACb,YAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAkB,YACjC,UAAU,6GACb,eAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAkB,UACjC,UAAU,0GACb,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAkB,SACjC,UAAU,6GACb,kBAQZ,GAAgB,EAAc,IAAI,EAAI,EAAc,MAAM,EACvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEAEX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACV,EAAc,MAAM,CAAC,IAAI,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gCAAuB,+BAIzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,sEAAsE,EACpF,AAsEW,AAUhC,CATH,OAAQ,8BACR,OAAQ,4BACR,OAAQ,0BACR,SAAU,kCACV,MAAO,gCACP,MAAO,gCACP,SAAU,gCACV,QAAS,2BACb,CACa,CAhF8B,AAgF7B,EAhF2C,MAAM,CAAC,MAAM,CAgFjD,EAAI,4BAhF6C,CAC5C,UACG,EAAc,QAAQ,CAAC,MAAM,GAElC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,sEAAsE,EACpF,CA2DN,EA3DuB,EAAc,IA2DrB,EA3D2B,CAAC,QAAQ,CA6DnE,CADD,EAAS,CAAC,GAAI,4BAA6B,gCAAiC,gCAAiC,0BAA0B,CAChI,CAAC,EAAS,EAAI,CAAM,CAAC,EAAE,EA7DsC,CAChD,UACG,EAAc,QAAQ,CAAC,QAAQ,GAEnC,EAAc,MAAM,CAAC,IAAI,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2GACX,GAAkB,EAAc,MAAM,CAAC,IAAI,IAGnD,EAAc,MAAM,CAAC,IAAI,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+GACX,GAAkB,EAAc,MAAM,CAAC,IAAI,IAGnD,EAAc,MAAM,CAAC,WAAW,EAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6GAAoG,cAIvH,EAAc,MAAM,CAAC,QAAQ,EAAsC,YAAlC,EAAc,MAAM,CAAC,QAAQ,EAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2GACX,EAAc,QAAQ,CAAC,QAAQ,MAM3C,EAAc,MAAM,CAAC,QAAQ,EAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,aAC7B,KAAK,KAAK,CAAC,EAAc,MAAM,CAAC,QAAQ,CAAG,IAAI,iBAOzE,CAAC,GACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,oBACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,6BACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,+BAM9B,CAqCA,SAAS,GAAkB,CAAe,EACtC,GAAI,CAAC,EAAS,MAAO,GAErB,GAAI,CACA,IAAM,EAAO,IAAI,KAAK,GAChB,EAAQ,IAAI,KACZ,EAAW,IAAI,KAAK,EAAM,OAAO,GAAK,KAAK,EAEjD,GAFsD,AAElD,IAAY,CAF2C,CAErC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAE,MAAO,QAC1D,GAAI,IAAY,EAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAE,MAAO,WAE7D,OAAO,EAAK,kBAAkB,CAAC,QAAS,CAAE,QAAS,QAAS,MAAO,QAAS,IAAK,SAAU,EAC/F,CAAE,KAAM,CACJ,OAAO,CACX,CACJ,CAEA,SAAS,GAAkB,CAAe,EACtC,GAAI,CAAC,EAAS,MAAO,GAErB,GAAI,CACA,GAAM,CAAC,EAAO,EAAQ,CAAG,EAAQ,KAAK,CAAC,KAAK,GAAG,CAAC,QAC1C,EAAO,IAAI,KAGjB,OAFA,EAAK,QAAQ,CAAC,EAAO,GAEd,EAAK,kBAAkB,CAAC,QAAS,CAAE,KAAM,UAAW,OAAQ,SAAU,EACjF,CAAE,KAAM,CACJ,OAAO,CACX,CACJ,CS/cA,MAAM,CAIU,MAIC,CAAE,CARJ,KAQW,EAAG,IAAK,EAAG,KAClB,CAAE,MAAO,GAAI,IAAK,EAAG,KACvB,CAAE,MAAO,GAAI,IAAK,EAAG,KAGd,0BACF,wBACF,kBASpB,OAAM,GACM,GAER,AAFoB,aAER,CAAW,CAAE,CACrB,IAAI,CAAC,GAAG,CAAG,CACf,CAEA,KAAK,CAAS,CAAQ,CAQtB,CAEA,MAAY,CASR,MAAO,EAAE,AACb,CAEA,OAAc,CAId,CACJ,CAMA,MAAM,GACM,SAAsC,IAAI,GAAM,AAExD,cAAc,CACV,IAAI,CAAC,YAAY,EACrB,CAEQ,cAAqB,CACV,AACf,IADmB,OAAoE,IAAI,GACpF,IAD4C,GACrC,CAAC,GAD2C,AACtC,IAAI,CAAC,OAD6C,CACrC,AADsC,CACrC,GAAG,CAAC,EAAE,EAAE,CAAE,GAChD,CAEA,AAJyF,cAIpE,CACjB,IAAM,EAAgB,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IACrD,IAAI,OAAoE,IAAI,CAAC,EACjF,CAEA,GAHwC,OAAO,KAGhC,CAAmB,CAAkB,CAChD,IAAM,AAJiD,CAAC,CAIpB,EAAE,CAGhC,EAA+C,CAAC,EA0DtD,KAjEsE,EAQtE,EAAM,OAAO,CAAC,IACV,IAAM,EAAW,EAAK,QAAQ,EAAI,eAC9B,CAAC,CAAc,CAAC,EAAS,EAAE,CAC3B,CAAc,CAAC,EAAS,CAAG,EAAA,AAAE,EAEjC,CAAc,CAAC,EAAS,CAAC,IAAI,CAAC,EAClC,GAGA,OAAO,OAAO,CAAC,GAAgB,OAAO,CAAC,CAAC,CAAC,EAAU,EAAc,IAC7D,GAAI,EAAc,MAAM,CA/FH,EA+F0C,AAApC,OAAO,AAGlC,IAAM,EAAmB,IAAI,CAAC,gBAH+B,OAGR,CAAC,GAGhD,EAAY,IAAI,CAAC,kBAAkB,CAAC,GAGpC,EAAc,IAAI,CAAC,oBAAoB,CAAC,GAG9C,GAAI,MAAoD,CACpD,IAAM,EAAwB,CAC1B,CAFW,EAEP,CAAC,IAFa,IAEL,EAAE,EAAS,CAAC,EAAE,KAAK,GAAG,EAFI,CAAC,AAEL,CAAI,CACvC,IAH8C,CAGxC,CAAA,EAAG,EAAS,QAAQ,CAAC,CAC3B,YACA,QAAS,YACT,OAAQ,EACR,YAAa,EACb,OAAQ,IAAI,CAAC,sBAAsB,CAAC,GACpC,WAAY,IAAI,CAAC,mBAAmB,CAAC,GACrC,cAAe,CAAa,CAAC,EAAE,EAAE,aAAe,KAChD,gBAAiB,IAAI,CAAC,wBAAwB,CAAC,GAC/C,kBACJ,EAEM,EAAkB,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAC3D,GAAK,EAAE,IAAI,GAAK,EAAQ,IAAI,EAAI,EAAE,SAAS,GAAK,EAAQ,SAAS,EAGjE,GAEA,EAAgB,WAAW,CAFV,AAEa,CAAC,EAAgB,WAAW,CAAG,CAAA,CAAW,CAAI,EAC5E,EAAgB,MAAM,CAAG,EAAQ,MAAM,CACvC,EAAgB,aAAa,CAAG,EAAQ,aAAa,CACrD,EAAgB,gBAAgB,CAAG,EAAQ,gBAAgB,CAC3D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAgB,EAAE,CAAE,KAGtC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAQ,EAAE,CAAE,GAC9B,EAAY,IAAI,CAAC,GAEzB,CACJ,GAEA,IAAI,CAAC,YAAY,GACV,CACX,CAEQ,wBAAwB,CAAmB,CAAc,CAC7D,IAAM,EAAqC,CAAC,EAO5C,OALA,EAAM,OAAO,CAAC,IACV,IAAM,EAAO,IAAI,KAAK,EAAK,WAAW,EAAE,QAAQ,GAChD,CAAU,CAAC,EAAK,CAAG,CAAC,CAAU,CAAC,EAAK,EAAI,CAAC,EAAI,CACjD,GAEO,OAAO,OAAO,CAAC,GAAY,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GAAK,CAAC,CACtD,KAAM,SAAS,SACf,EACJ,CAAC,EAAG,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,KAAK,CAAG,EAAE,KAAK,CACxC,CAEQ,mBAAmB,CAAmB,CAA6B,CACvE,GAAI,EAAM,MAAM,CAAG,EAAG,MAAO,QAE7B,IAEM,EAAiB,AAFjB,CAAW,CAAK,CAAC,EAAM,MAAM,AAED,CAFI,EAAE,CAAC,WAAW,CAAG,CAAK,CAAC,EAAE,CAAC,WAAA,AAAW,EAC9C,KAAK,EACC,EAAM,CADF,KAAK,AACG,EAAG,CAAC,CADH,OAGhD,AAAI,EAAiB,IAAY,CAAP,OACtB,EAAiB,EAAU,CAAP,QACjB,SACX,CAEQ,qBAAqB,CAAmB,CAAU,CACtD,GAAI,EAAM,MAAM,CAAG,EAAG,OAAO,GAE7B,IAAM,EAAoC,CAAC,EAC3C,EAAM,OAAO,CAAC,IACV,IAAM,EAAM,IAAI,KAAK,EAAK,WAAW,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAClE,CAAS,CAAC,EAAI,CAAG,CAAC,CAAS,CAAC,EAAI,GAAI,CAAC,CAAI,CAC7C,GAGA,IAAM,EAAa,OAAO,IAAI,CAAC,GAAW,MAAM,CAC1C,EAAa,EAAM,MAAM,QAE/B,AAAmB,GAAG,CAAlB,EAAyB,EACtB,KAAK,GAAG,CAAC,EAAG,KAAc,CAAa,CAAC,CACnD,CAEQ,IAH4B,mBAGL,CAAmB,CAAU,CACxD,GAAqB,AAAjB,MAAM,MAAM,CAAQ,OAAO,EAE/B,IAAM,EAAc,IAAI,EAAM,CAAC,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,WAAW,CAAG,EAAE,WAAW,EACvE,EAAS,EACT,EAAc,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAExD,IAAK,IAAM,KAAQ,EAAa,CAC5B,IAAM,EAAW,IAAI,KAAK,EAAK,WAAW,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CACjE,EAAc,IAAI,KAAK,GAK7B,GAFiB,AAEb,KAFkB,KAAK,CAAC,CAFL,AAEM,IAFF,KAAK,GAEY,OAAO,GAAK,EAAY,OAAO,EAAA,CAAE,CAAK,GAAD,EAAM,GAEvE,EAF4E,AAEnE,EACrB,CADwB,EAFqE,CAI7F,EAAc,CAJmF,MAMjG,KAER,CAEA,OAAO,CACX,CAEQ,oBAAoB,CAAmB,CAAU,CAErD,OAAO,IAAI,CAAC,sBAAsB,CAAC,EACvC,CAEQ,yBAAyB,CAAmB,CAAU,CAC1D,IAAM,EAAgB,EAAM,MAAM,CAAC,CAAC,EAAK,IAAS,EAAM,EAAK,QAAQ,CAAE,GACvE,OAAO,EAAM,MAAM,CAAG,EAAI,EAAgB,EAAM,MAAM,CAAG,CAC7D,CAEA,aAA8B,CAC1B,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAC1C,CAEA,WAAW,CAAU,CAA4B,CAC7C,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAC7B,CACJ,CAMA,MAAM,GACF,2BACI,CAA+F,CAC9E,CACjB,IAAM,EAAM,IAAI,KACV,EAAW,EAAM,MAAM,CAAC,IAC1B,GAAI,CAAC,EAAE,WAAW,CAAE,MAAO,GAC3B,IAAM,EAAU,IAAI,KAAK,EAAI,OAAO,GAAK,IAAI,IAC7C,CADkD,KAAK,CAChD,EAAE,EADmD,SACxC,CAAG,EAAQ,OAAO,EAC1C,GAEkB,EAAM,MAAM,CAAC,IAC3B,GAAI,CAAC,EAAE,WAAW,CAAE,OAAO,EAC3B,IAAM,EAAW,IAAI,KAAK,EAAI,OAAO,GAAK,KAAK,GAC/C,EADoD,KAAK,AAClD,EAAE,GADqD,QAC1C,CAAG,EAAS,OAAO,EAC3C,GAGA,IAAM,EAAmB,IAAI,CAAC,4BAA4B,CAAC,GACrD,EAAe,IAAI,CAAC,uBAAuB,CAAC,MAC5C,EAAiB,IAAI,CAAC,KADwC,OAAO,WACxB,CAAC,AADmC,CAAC,KAElF,EAAe,AAF0E,IAEtE,CAAC,KAD4C,OAAO,WAC5B,CADwC,AACvC,CADwC,KAIpF,EAAe,EAJ8E,AAIxE,MAAM,CAAC,CAHkC,EAG7B,EAAE,GAHkC,MAGzB,CAAG,EAAI,GAH8B,CAAC,GAGxB,GAAK,CAH0B,GAGtB,IAAqB,CAAhB,KAAK,AAAiB,CAE9F,EAAe,EAFmE,GAE9D,GAAG,CAAC,IAAK,KAAK,KAAK,CAAC,AAAiB,KADxC,EAAe,EAAK,EAAS,MAAM,CAAG,EAAgB,EAAA,EACR,MAG/D,EAAa,EAAM,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,GAAI,CAAC,CAAI,GAAK,EAAE,WAAW,EAQ3E,MAAO,CACH,QAAS,KAAK,KAAK,CAAC,GACpB,aAAc,KAAK,KAAK,CAAC,GACzB,eAAgB,KAAK,KAAK,CAAC,GAC3B,aAAc,KAAK,KAAK,CAAC,GACzB,WAAY,KAAK,KAAK,CAZP,AAYQ,EAZC,MAAM,CAAG,EAC/B,KAAK,GAAG,CAAC,IAAK,KAAK,KAAK,CAAE,EAAW,MAAM,CAAG,EAAS,MAAM,CAAI,MACjE,IAWF,iBAAkB,KAAK,KAAK,CARP,AAQQ,IARJ,CAAC,yBAAyB,CAAC,IASpD,aAAc,KAAK,GAAG,EAC1B,CACJ,CAEQ,6BAA6B,CAAsC,CAAuB,CAC9F,IAAM,EAAe,IAAI,IASzB,OAPA,EAAM,OAAO,CAAC,IACV,GAAI,EAAK,WAAW,CAAE,CAClB,IAAM,EAAO,IAAI,KAAK,EAAK,WAAW,EAAE,QAAQ,GAChD,EAAa,GAAG,CAAC,EAAM,CAAC,EAAa,GAAG,CAAC,KAAS,CAAC,CAAI,EAC3D,CACJ,GAEO,CACX,CAEQ,wBACJ,CAAiC,CACjC,CAAsC,CAChC,CACN,IAAI,EAAc,EACd,EAAa,EASjB,OAPA,EAAa,OAAO,CAAC,CAAC,EAAO,KACzB,GAAc,EACV,GAAQ,EAAO,KAAK,EAAI,EAAO,EAAO,GAAG,EAAE,CAC3C,GAAe,CAAA,CAEvB,GAEO,EAAa,EAAK,EAAc,EAAc,IAAM,EAC/D,CAEQ,0BAA0B,CAAsC,CAAU,CAC9E,IAAM,EAAM,IAAI,KACV,EAAuB,EAAE,CAE/B,IAAK,IAAI,EAAI,EAAG,EAAI,GAAI,IAAK,CACzB,IAAM,EAAW,IAAI,KAAK,EAAI,OAAO,GAAS,KAAJ,AAAS,KAAK,CACxD,EAAS,EADoD,MAC5C,CAAC,EAAG,EAAG,EAAG,GAC3B,IAAM,EAAS,IAAI,KAAK,EAAS,OAAO,GAAK,KAAK,EAE5C,EAAW,CAFsC,CAEhC,IAFqC,EAE/B,CAAC,GAC1B,EAAE,WAAW,EACb,EAAE,WAAW,EAAI,EAAS,OAAO,IACjC,EAAE,WAAW,CAAG,EAAO,OAAO,IAGlC,EAAW,IAAI,GAAC,EAAS,MAAM,EAAG,EACtC,CAGA,CAJ0C,IAAI,EAG3B,AACX,EADsB,MAAM,CAAC,GAAW,IAAN,GAAS,MAAM,CACpC,GAAM,GAC/B,CACJ,CAMA,MAAM,GACM,eAAiC,CACjC,oBAA2C,AAEnD,cAAc,CACV,IAAI,CAAC,eAAe,CAAG,IAAI,GAC3B,IAAI,CAAC,oBAAoB,CAAG,IAAI,EACpC,CAEA,iBACI,CAAmB,CACnB,CAAwB,CACxB,CAA+B,CACjB,CACd,IAAM,EAA2B,EAAE,CA2EnC,OAxEsB,AACtB,EAD+B,MAAM,CAAC,GAAK,EAAE,MAAM,EAAI,GACzC,OAAO,CAAC,IAClB,EAAS,IAAI,CAAC,CACV,GAAI,CAAC,eAAe,EAAE,EAAQ,EAAE,CAAA,CAAE,CAClC,KAAM,SACN,MAAO,CAAA,EAAG,EAAQ,IAAI,CAAC,QAAQ,CAAC,CAChC,YAAa,CAAC,uBAAuB,EAAE,EAAQ,IAAI,CAAC,KAAK,EAAE,EAAQ,MAAM,CAAC,iCAAiC,CAAC,CAC5G,WAAY,IACZ,YAAY,EACZ,aAAc,EAAE,CAChB,YAAa,KAAK,GAAG,EACzB,EACJ,GAGI,EAAa,YAAY,CAAG,IAAI,AAChC,EAAS,IAAI,CAAC,CACV,GAAI,uBACJ,KAAM,cACN,MAAO,qCACP,YAAa,CAAC,aAAa,EAAE,EAAa,YAAY,CAAC,gEAAgE,CAAC,CACxH,WAAY,IACZ,YAAY,EACZ,OAAQ,mCACR,aAAc,EAAE,CAChB,YAAa,KAAK,GAAG,EACzB,GAGA,EAAa,cAAc,CAAG,IAAI,AAClC,EAAS,IAAI,CAAC,CACV,GAAI,yBACJ,KAAM,cACN,MAAO,uCACP,YAAa,CAAC,aAAa,EAAE,EAAa,cAAc,CAAC,6DAA6D,CAAC,CACvH,WAAY,IACZ,YAAY,EACZ,OAAQ,qCACR,aAAc,EAAE,CAChB,YAAa,KAAK,GAAG,EACzB,GAIA,EAAa,UAAU,CAAG,IAAI,AAC9B,EAAS,IAAI,CAAC,CACV,GAAI,oBACJ,KAAM,eACN,MAAO,sBACP,YAAa,8GACb,WAAY,IACZ,WAAY,GACZ,OAAQ,wBACR,aAAc,EAAE,CAChB,YAAa,KAAK,GAAG,EACzB,GAIA,EAAa,gBAAgB,CAAG,IAAI,AACpC,EAAS,IAAI,CAAC,CACV,GAAI,2BACJ,KAAM,SACN,MAAO,yBACP,YAAa,CAAC,0BAA0B,EAAE,EAAa,gBAAgB,CAAC,6CAA6C,CAAC,CACtH,WAAY,GACZ,WAAY,GACZ,aAAc,EAAE,CAChB,YAAa,KAAK,GAAG,EACzB,GAGG,CACX,CACJ,CAMA,MAAM,GACF,oBACI,CAAwB,CACxB,CAA+B,CAC/B,CAAwB,CACP,CACjB,IAAM,EAAiC,EAAE,CACnC,EAAM,KAAK,GAAG,GA+BpB,GA5BI,CA4BA,CA5Ba,YAAY,CAAG,EAAa,cAAc,EAAI,EAAa,YAAY,CAAG,IAAI,AAC3F,EAAY,IAAI,CAAC,CACb,GAAI,CAAC,iBAAiB,EAAE,EAAA,CAAK,CAC7B,KAAM,oBACN,MAAO,0CACP,YAAa,sHACb,SAAU,EACV,WAAY,CAAE,cAAe,UAAW,SAAU,MAAO,EACzD,WAAW,EACX,YAAa,CACjB,GAGA,EAAa,cAAc,CAAG,EAAa,YAAY,EAAI,EAAa,cAAc,CAAG,IAAI,AAC7F,EAAY,IAAI,CAAC,CACb,GAAI,CAAC,mBAAmB,EAAE,EAAA,CAAK,CAC/B,KAAM,oBACN,MAAO,8BACP,YAAa,8FACb,SAAU,EACV,WAAY,CAAE,cAAe,YAAa,SAAU,MAAO,EAC3D,WAAW,EACX,YAAa,CACjB,GAIqB,EAAS,IAAI,CAAC,GAAK,EAAE,MAAM,EAAI,GAClC,CAClB,IAAM,EAAa,KAAK,GAAG,IAAI,EAAS,GAAG,CAAC,GAAK,EAAE,MAAM,GACnD,EAAc,EAAS,IAAI,CAAC,GAAK,EAAE,MAAM,GAAK,GAEpD,EAAY,IAAI,CAAC,CACb,GAAI,CAAC,WAAW,EAAE,EAAA,CAAK,CACvB,KAAM,oBACN,MAAO,CAAC,UAAU,EAAE,GAAa,MAAQ,QAAQ,cAAc,CAAC,CAChE,YAAa,CAAC,WAAW,EAAE,EAAW,0DAA0D,CAAC,CACjG,SAAU,EACV,WAAY,CAAE,UAAW,GAAa,EAAG,EACzC,WAAW,EACX,YAAa,CACjB,EACJ,CAII,AADwB,EAAa,UAAU,CACzB,IACtB,AAD0B,EACd,IAAI,CAAC,CACb,GAAI,CAAC,UAAU,EAAE,EAAA,CAAK,CACtB,KAAM,iBACN,MAAO,oBACP,YAAa,kGACb,SAAU,EACV,WAAY,CAAE,cAAe,CAAE,EAC/B,UAAW,EAAM,IAAI,CACrB,IAD0B,KAAK,EACpB,EACX,YAAa,CACjB,GAIJ,IAAM,EAAmB,EAAS,MAAM,CAAC,GAAK,EAAE,WAAW,EAAI,IAAO,EAAE,WAAW,CAAG,IACtF,GAAI,EAAiB,MAAM,CAAG,EAAG,CAC7B,IAAM,EAAU,CAAgB,CAAC,EAAE,CACnC,EAAY,IAAI,CAAC,CACb,GAAI,CAAC,UAAU,EAAE,EAAA,CAAK,CACtB,KAAM,kBACN,MAAO,CAAC,MAAM,EAAE,EAAQ,IAAI,CAAC,gBAAgB,CAAC,CAC9C,YAAa,4FACb,SAAU,EACV,WAAY,CAAE,SAAQ,EACtB,WAAW,EACX,YAAa,CACjB,EACJ,CAcA,OAXA,EAAY,IAAI,CAAC,CACb,GAAI,CAAC,SAAS,EAAE,EAAA,CAAK,CACrB,KAAM,iBACN,MAAO,8BACP,YAAa,iFACb,SAAU,EACV,WAAY,CAAE,OAAQ,cAAe,EACrC,UAAW,GACX,YAAa,CACjB,GAEO,EAAY,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,QAAQ,CAAG,EAAE,QAAQ,CAC7D,CACJ,CAsEO,IAAM,GAAoB,IAhEjC,AAgEqC,MAhE/B,AACM,eAAiC,CACjC,oBAA2C,CAC3C,gBAAmC,CACnC,gBAAmC,AAE3C,cAAc,CACV,IAAI,CAAC,eAAe,CAAG,IAAI,GAC3B,IAAI,CAAC,oBAAoB,CAAG,IAAI,GAChC,IAAI,CAAC,gBAAgB,CAAG,IAAI,GAC5B,IAAI,CAAC,gBAAgB,CAAG,IAAI,EAChC,CAEA,QACI,CAAyH,CAM3H,CAEE,IAAM,EAA4B,EAAM,GAAG,CAAC,IAAK,AAAC,CAC9C,GAAI,EAAE,EAAE,CACR,KAAM,EAAE,IAAI,CACZ,SAAU,EAAE,QAAQ,EAAI,gBACxB,YAAa,EAAE,WAAW,EAAI,EAC9B,SAAU,EAAE,QAAQ,EAAI,EACxB,WAAY,GAChB,CAAC,EAGgB,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,GACrD,IAAM,EAAmB,IAAI,CAAC,eAAe,CAAC,WAAW,GAGnD,EAAe,IAAI,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,GAGpE,EAAW,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,EAAa,EAAkB,GAGjF,EAAc,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,EAAU,EAAc,GAEtF,MAAO,CACH,SAAU,eACV,WACA,cACA,CACJ,CACJ,CAEA,aAA8B,CAC1B,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,EAC3C,CAEA,WAAkB,CACd,IAAI,OAAoE,KAAK,GAC7E,GADoC,CAChC,MADuC,CACyB,KAAK,GACzE,GAFuD,AACrB,CAC9B,AAFoD,MACf,CACyB,KAAK,EAC3E,AAH0E,CAI9E,ERxlBO,CQslBmC,AADmB,CAAC,MACb,CRtlBjC,GAAiB,EQqlByC,MACb,CAAC,GRrlB1D,EAAa,CAAC,CACd,GQolBoE,gBRplBjD,EAAI,YACvB,GAAa,CAAI,aACjB,GAAc,CAAI,WAClB,EAAY,EAAE,WACd,CAAS,CACT,UAAQ,CACY,EACpB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,EAAE,EACrE,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EACrD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmC,MACrE,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAGzB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,IAAM,EAAW,UACb,GAAa,GAEb,GAAI,WAkUN,EAhUY,EAAW,EAAM,GAAG,CAAC,IAAK,AAAC,CAC7B,GAAI,EAAE,EAAE,CACR,KAAM,EAAE,KAAK,CACb,YAAa,EAAE,iBAAiB,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAI,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAI,KAAK,GAAG,QAAK,EACnH,UAAW,EAAE,SAAS,CAAG,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,GAAK,KAAK,GAAG,GACnE,SAAU,EAAE,SAAS,CACrB,cAAU,EACd,CAAC,EAGK,EAAW,GAAkB,OAAO,CAAC,GAGrC,EAAqB,EAAS,QAAQ,CACvC,MAAM,CAAC,GAAK,EAAE,UAAU,EACxB,GAAG,CAAC,GAAY,EACb,GAAI,CAAC,CADO,OACC,EAAE,EAAQ,EAAE,CAAA,CAAE,CAC3B,KAAM,mBACN,MAAO,EAAQ,KAAK,CACpB,YAAa,EAAQ,WAAW,CAChC,SAAU,KAAK,KAAK,CAAsB,GAArB,EAAQ,UAAU,EACvC,WAAY,CAAE,OAAQ,EAAQ,MAAM,AAAC,EACrC,WAAW,EACX,YAAa,EAAQ,WAAW,CAChC,OAAO,EACP,SAAU,SACd,CAAC,GAGC,EAAqB,EAAS,WAAW,CAAC,GAAG,CAAC,IAAK,YAAC,CACtD,GAAG,CAAC,CACJ,OAAO,EACP,QAAA,EAAU,AAoRA,EApRqB,EAoRQ,AApRN,IAAI,CAyRrD,AAAI,AAJ0C,CAAC,kBAAmB,qBAAsB,oBAAoB,CAI7F,QAAQ,CAAC,GAAc,IAAP,IAHsB,AAIjD,CAJkD,oBAAqB,mBAAoB,iBAAiB,CAI1F,QAAQ,CAAC,GAAc,IAAP,WAHS,AAI3C,CAJ4C,iBAAkB,iBAAiB,CAInE,QAAQ,CAAC,GAAc,IAAP,KACzB,UA3RK,CAAC,GAIK,GA0RU,EA3RO,IAAI,KAAuB,AA2RG,EA3RgB,GA4RpE,CA3RyB,GA2RrB,IACV,EAAY,MAAM,CAAC,IACtB,GA7RyD,CA6RnD,EAAM,EAAE,KAAK,CAAC,WAAW,SAC/B,CAAI,EAAK,GAAG,CAAC,KACb,CADmB,CACd,GAAG,CAAC,EADiB,CAEnB,GACX,IA/RY,EAAe,GACf,EAAY,EAAS,QAAQ,EAC7B,EAAgB,EAAS,YAAY,CAEzC,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,8BAA+B,EACjD,QAAU,CACN,GAAa,EACjB,CACJ,EAEA,IAGA,IAAM,EAAW,YAAY,EAAU,IAAI,CAC3C,IADgD,EACzC,IAAM,cAAc,EAC/B,EAAG,CAAC,EAAM,MAAM,CAAE,EAAM,GAAG,CAAC,GAAK,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,EAGjD,IAAM,EAAsB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACzB,EAAY,MAAM,CAAC,KAClB,CAAC,GAAe,AAAe,aAAb,QAAQ,AAAK,GAAU,EACzC,CAAC,GAAc,AAAe,CADkB,WAC/B,QAAQ,AAAK,GAAS,EACvC,CAAC,GAAoC,CADS,gBACzB,AAAC,EAAE,QAAQ,EAAuB,AAAe,cAAb,QAAQ,AAAc,GAAG,AAG3F,CAAC,EAAa,EAAa,EAHuE,AAG3D,EAAiB,EAGrD,EAAqB,EACrB,EACA,EAAoB,KAAK,CAAC,EAAG,GAG7B,EAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAE,AAAD,IAC9B,EAAe,GAAQ,EAAK,MAAM,CAAC,GAAK,EAAE,EAAE,GAAK,IACjD,IAAY,EAChB,EAAG,CAAC,EAAU,EAGR,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAO9B,GALA,EAAe,GAAQ,EAAK,GAAG,CAAC,GAC5B,EAAE,EAAE,GAAK,EAAW,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,OAAO,CAAM,EAAI,IAIlD,EACA,EAAS,MADC,EAIV,OAAQ,EAAW,IAAI,EACnB,IAAK,kBACD,GAAA,KAAK,CAAC,IAAI,CAAC,uBACX,KACJ,KAAK,oBACD,GAAA,KAAK,CAAC,IAAI,CAAC,8BACX,KACJ,KAAK,iBACD,GAAA,KAAK,CAAC,OAAO,CAAC,mCACd,KACJ,KAAK,oBACD,GAAA,KAAK,CAAC,OAAO,CAAC,2BACd,KACJ,SACI,GAAA,KAAK,CAAC,IAAI,CAAC,EAAW,KAAK,CACnC,CAER,EAAG,CAAC,EAAS,EAGP,EAAiB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,AAAC,IAChC,EAAe,GAAQ,EAAK,GAAG,CAAC,GAC5B,EAAE,EAAE,GAAK,EAAK,CAAE,GAAG,CAAC,CAAE,OAAO,CAAM,EAAI,GAE/C,EAAG,EAAE,SAEL,AAAI,EAEI,CAAA,EAAA,EAAA,GAAA,CAFO,CAEN,MAAA,CAAI,UAAW,CAAC,kBAAkB,EAAE,EAAA,CAAW,UAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAOA,GAAG,CAAlC,EAAoB,MAAM,CACnB,KAIP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,kBAAkB,EAAE,EAAA,CAAW,WAE5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,wEACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC7E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uNACnE,uBAIT,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAkB,MAAO,EAAa,OAAO,MAKtD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACV,EAAmB,GAAG,CAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAEG,WAAY,EACZ,UAAW,EACX,SAAU,EACV,WAAY,GAJP,EAAW,EAAE,KAU7B,EAAoB,MAAM,CAAG,GAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAc,CAAC,GAC9B,UAAU,oGAET,EACK,CAAC,WAAW,EAAE,EAAoB,MAAM,CAAG,EAAW,QAAQ,CAAC,CAC/D,CAAC,KAAK,EAAE,EAAoB,MAAM,CAAG,EAAW,iBAAiB,CAAC,KAM5F,CAaA,SAAS,GAAe,YAAE,CAAU,CAAE,WAAS,CAAE,UAAQ,CAAE,YAAU,CAAuB,EACxF,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAgBrC,EAHK,AAV2E,CAC9E,MAYO,UAZU,CAAE,KAAM,KAAM,MAAO,kBAAmB,QAAS,cAAe,EACjF,kBAAmB,CAAE,KAAM,IAAK,MAAO,gBAAiB,QAAS,YAAa,EAC9E,eAAgB,CAAE,KAAM,IAAK,MAAO,kBAAmB,QAAS,cAAe,EAC/E,kBAAmB,CAAE,KAAM,KAAM,MAAO,eAAgB,QAAS,WAAY,EAC7E,eAAgB,CAAE,KAAM,KAAM,MAAO,kBAAmB,QAAS,cAAe,EAChF,mBAAoB,CAAE,KAAM,KAAM,MAAO,gBAAiB,QAAS,YAAa,EAChF,iBAAkB,CAAE,KAAM,KAAM,MAAO,kBAAmB,QAAS,cAAe,EAClF,eAAgB,CAAE,KAAM,KAAM,MAAO,iBAAkB,QAAS,aAAc,CAClF,CACc,CAAC,EAAW,IAAI,CAAC,EAAI,CAAE,KAAM,IAAK,MAAO,gBAAiB,QAAS,YAAa,EAUlG,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAW,CAAC,0EAA0E,EAClF,EAAW,KAAK,CACV,iDACA,iDACT,CAAC,EAAE,EAAY,uCAAyC,YAAA,CAAa,CACtE,aAAc,IAAM,GAAa,GACjC,aAAc,IAAM,GAAa,GACjC,QAdgB,CAcP,IAbb,EAAW,EAAW,EAAE,EACxB,EAAS,EACb,YAaQ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,iCAAiC,EAAE,EAAO,OAAO,CAAC,CAAC,EAAE,EAAO,KAAK,CAAC,yCAAyC,CAAC,UACxH,EAAO,IAAI,GAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sDACT,EAAW,KAAK,GAIrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,AAAC,IACN,EAAE,eAAe,GACjB,EAAU,EAAW,EAAE,CAC3B,EACA,UAAU,kHACV,MAAM,mBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAKjF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qDACR,EAAW,WAAW,GAI1B,EAAW,KAAK,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6GAAoG,cAQhI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sEAAsE,EACnF,EAAY,cAAgB,YAAA,CAC9B,KAGd,CAUA,SAAS,GAAkB,OAAE,CAAK,CAA0B,EAQxD,IAAM,EANE,AAAJ,GAAa,GAAW,CAMb,AANM,AAAS,MAAO,QAAS,MAAO,iBAAkB,QAAS,cAAe,EACvF,GAAS,GAAW,CAAE,AAAT,MAAgB,OAAQ,MAAO,gBAAiB,QAAS,aAAc,EACpF,GAAS,GAAW,CAAE,AAAT,MAAgB,OAAQ,MAAO,kBAAmB,QAAS,eAAgB,EACrF,CAAE,MAAO,MAAO,MAAO,kBAAmB,QAAS,eAAgB,EAK9E,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,iDAAiD,EAAE,EAAO,OAAO,CAAA,CAAE,WAChF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,oBAAoB,EAAE,EAAO,KAAK,CAAA,CAAE,UACjD,EAAO,KAAK,GAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,CAAC,kBAAkB,EAAE,EAAO,KAAK,CAAA,CAAE,WAC/C,EAAM,SAIvB,CC7UA,IAAM,GAA+B,CAAC,OAAQ,UAAW,OAAQ,YAAa,UAAW,QAAQ,CAElF,SAAS,KACtB,GAAM,MAAE,CAAI,CAAE,UAAW,CAAa,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC5C,CAAE,QAAS,CAAc,iBAAE,CAAe,CAAE,UAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAChE,cAAE,CAAY,CAAE,CAAG,CAAA,EAAA,GAAA,OAAA,AAAO,IAC1B,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,OAAmB,GACzD,EAAgB,KAAK,AAG3B,GAAI,GAAiB,EACnB,MACE,CAAA,CALuC,CAKvC,EAAA,GAFiC,CAEjC,EAAC,MAAA,CACC,UAAU,kEACV,KAAK,SACL,aAAW,kCAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,oFAAoF,EAAE,EAAgB,eAAiB,GAAA,CAAI,GAC5I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sFAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,0BACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,mCAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAe,CAAC,CAAX,OAAmB,GAAT,kCAA8C,KAAK,SAAS,WAAY,OAK9F,GAAI,CAAC,EACH,IADS,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GAGV,IAAM,EAAgB,KACpB,EAAc,QACd,GAAmB,EACrB,EAEM,EAAiB,AAAC,IACtB,EAAc,GACd,GAAmB,EACrB,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAa,CAAA,CAAR,EAGN,CAAA,EAAA,EAAA,CAHc,EAGd,EAAC,GAAe,CAAC,CAAX,OAAmB,GAAT,AAAY,WAAY,IAExC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GAEP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,GAAG,eAAe,UAAU,sCAAsC,SAAU,CAAC,WACjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAY,UAAW,IAExB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GAGD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,oBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,YAAY,6DACZ,cAAc,EACd,UAAU,aAKd,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,WAAY,EACZ,iBAAkB,GAClB,YAAY,EACZ,aAAa,EACb,UAAU,SAKV,CAAC,GAAsC,IAApB,GAAyB,GAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,SAAS,CAAA,CACR,UAAU,+EACV,KAAK,SACL,YAAU,mBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,8BACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,sGAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,UAAU,gFACV,aAAW,2CAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,eAAe,cAAY,SAAS,0BAK1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+GAA+G,cAAY,YAI9I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2EACV,KAAK,OACL,aAAW,0CAEV,GAAY,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,MAAO,EACP,UAAW,AA0B7B,SAAS,AAAa,CAAoB,EACxC,OAAQ,GACN,IAAK,OAAQ,MAAO,mBACpB,KAAK,UAAW,MAAO,oBACvB,KAAK,OAAQ,MAAO,oBACpB,KAAK,YAAa,MAAO,mBACzB,KAAK,UAAW,MAAO,mBACvB,KAAK,QAAS,MAAO,mBACrB,SAAS,MAAO,EAClB,CACF,EApC0C,GACxB,WAAY,EACZ,KAAK,YAJA,MASX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,QAIL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,OAAQ,EACR,QAAS,IAAM,GAAmB,GAClC,WAAY,IAId,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,uGAA8F,iDAMxH","ignoreList":[0,1,12,13,14,15,16,17]}
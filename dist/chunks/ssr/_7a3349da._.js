module.exports=[70880,65341,72692,48313,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);a.s(["Moon",()=>c],70880);let d=(0,b.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);a.s(["Sun",()=>d],65341);let e=(0,b.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);a.s(["Menu",()=>e],72692);var f=a.i(87924),g=a.i(72131),h=a.i(33508),i=a.i(96438),j=a.i(98621),k=a.i(74614);let l=({isOpen:a,onClose:b,title:c,children:d,className:e})=>((0,g.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),a)?(0,f.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 overflow-hidden",children:[(0,f.jsx)("div",{className:"absolute inset-0 bg-black/40 dark:bg-black/60 backdrop-blur-md transition-opacity animate-in fade-in duration-300",onClick:b}),(0,f.jsxs)("div",{className:function(...a){return(0,k.twMerge)((0,j.clsx)(a))}("relative w-full max-w-lg overflow-hidden rounded-[2.5rem] bg-card/95 dark:bg-card/90 backdrop-blur-2xl p-8 shadow-2xl border border-border transition-all animate-in zoom-in-95 slide-in-from-bottom-5 duration-300",e),children:[(0,f.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:c}),(0,f.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:b,className:"rounded-full hover:bg-muted text-muted-foreground hover:text-foreground transition-colors h-10 w-10",children:(0,f.jsx)(h.X,{className:"h-6 w-6"})})]}),(0,f.jsx)("div",{className:"max-h-[70vh] overflow-y-auto pr-2 scrollbar-hide",children:d})]})]}):null;a.s(["Modal",()=>l],48313)},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98621),e=a.i(74614);let f=c.default.forwardRef(({className:a,label:c,error:f,leftIcon:g,...h},i)=>(0,b.jsxs)("div",{className:"w-full space-y-1.5 text-left",children:[c&&(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground pl-1",children:c}),(0,b.jsxs)("div",{className:"relative group",children:[g&&(0,b.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",children:g}),(0,b.jsx)("input",{ref:i,className:function(...a){return(0,e.twMerge)((0,d.clsx)(a))}("flex h-12 w-full rounded-xl border border-border bg-muted/30 px-3 py-2 text-sm ring-offset-background transition-all placeholder:text-muted-foreground/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/20 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",g&&"pl-10",f&&"border-red-500/50 focus-visible:ring-red-500/10 focus-visible:border-red-500",a),...h})]}),f&&(0,b.jsx)("p",{className:"text-xs text-red-500 pl-1",children:f})]}));f.displayName="Input",a.s(["Input",()=>f])},20238,21374,73570,16201,12171,23312,50522,85579,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(70880),f=a.i(65341),g=a.i(21161),h=a.i(94695),i=a.i(72692),j=a.i(13902),k=a.i(96438),l=a.i(48313),m=a.i(94988),n=a.i(35058),o=a.i(45603),p=a.i(70106);let q=(0,p.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var r=a.i(84505);let s=(0,p.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>s],21374);var t=a.i(8406),u=a.i(49666),v=a.i(98621),w=a.i(74614);let x=(0,p.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>x],73570);var y=a.i(92e3);let z=(0,p.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),A=(0,p.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>A],16201);var B=a.i(33508);let C=({isOpen:a,onClose:d,onConfirm:e,title:f,description:g,confirmText:h="Confirm",cancelText:i="Cancel",type:j="warning"})=>{let[l,m]=(0,c.useState)(!1),n=(0,c.useRef)(null),o=(0,c.useRef)(null);if((0,c.useEffect)(()=>{a?(setTimeout(()=>m(!0),10),setTimeout(()=>o.current?.focus(),100)):m(!1)},[a]),(0,c.useEffect)(()=>{if(!a)return;let b=a=>{"Escape"===a.key?q():"Enter"===a.key&&a.ctrlKey&&p()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),(0,c.useEffect)(()=>{if(!a)return;let b=()=>{!document.hidden&&a&&setTimeout(()=>o.current?.focus(),100)};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[a]),!a)return null;let p=()=>{e(),d()},q=()=>{d()},r={danger:{icon:y.AlertCircle,iconColor:"text-red-400",iconBg:"bg-red-500/10",borderColor:"border-red-500/30",buttonClass:"bg-red-500 hover:bg-red-600 text-white"},warning:{icon:x,iconColor:"text-yellow-400",iconBg:"bg-yellow-500/10",borderColor:"border-yellow-500/30",buttonClass:"bg-yellow-500 hover:bg-yellow-600 text-white"},info:{icon:z,iconColor:"text-blue-400",iconBg:"bg-blue-500/10",borderColor:"border-blue-500/30",buttonClass:"bg-blue-500 hover:bg-blue-600 text-white"},success:{icon:A,iconColor:"text-emerald-400",iconBg:"bg-emerald-500/10",borderColor:"border-emerald-500/30",buttonClass:"bg-emerald-500 hover:bg-emerald-600 text-white"}}[j],s=r.icon;return(0,b.jsxs)("div",{ref:n,className:`fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200 ${l?"opacity-100":"opacity-0"}`,onClick:q,role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,b.jsx)("div",{className:`relative w-full max-w-md transform transition-all duration-200 ${l?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"rounded-3xl bg-card border border-border shadow-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 pb-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:`h-12 w-12 rounded-2xl ${r.iconBg} border ${r.borderColor} flex items-center justify-center shrink-0`,children:(0,b.jsx)(s,{className:`h-6 w-6 ${r.iconColor}`})}),(0,b.jsxs)("div",{className:"flex-1 pt-1",children:[(0,b.jsx)("h3",{id:"dialog-title",className:"text-lg font-bold text-foreground mb-1",children:f}),g&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:g})]}),(0,b.jsx)("button",{onClick:q,className:"p-1 rounded-lg hover:bg-white/5 transition-colors text-muted-foreground hover:text-foreground","aria-label":"Close dialog",children:(0,b.jsx)(B.X,{className:"h-5 w-5"})})]})}),(0,b.jsxs)("div",{className:"px-6 py-4 bg-white/5 flex items-center justify-end gap-3",children:[(0,b.jsx)(k.Button,{variant:"ghost",onClick:q,className:"min-w-[100px]",children:i}),(0,b.jsx)(k.Button,{ref:o,onClick:p,className:`min-w-[100px] border-0 ${r.buttonClass}`,children:h})]})]})})]})};function D(){let[a,d]=(0,c.useState)({isOpen:!1,title:""});return{confirm:a=>new Promise(b=>{d({...a,isOpen:!0,onConfirm:()=>{b(!0),d(a=>({...a,isOpen:!1}))},onCancel:()=>{b(!1),d(a=>({...a,isOpen:!1}))}})}),ConfirmDialogComponent:(0,b.jsx)(C,{isOpen:a.isOpen,onClose:()=>{a.onCancel&&a.onCancel()},onConfirm:a.onConfirm||(()=>{}),title:a.title,description:a.description,confirmText:a.confirmText,cancelText:a.cancelText,type:a.type})}}a.s(["useConfirm",()=>D],12171);let E=({isOpen:a,onClose:d})=>{let{saveAsTemplate:e,applyTemplate:f,templates:g,replaceAllTasks:i}=(0,n.useTask)(),{sendMessage:j,isLoading:p}=(0,o.useAI)(),{confirm:x,ConfirmDialogComponent:y}=D(),[z,A]=(0,c.useState)(""),B=async()=>{await x({title:"Generate magical routine?",description:"AI will create a personalized morning routine and append tasks to your current schedule.",confirmText:"Generate",cancelText:"Cancel",type:"info"})&&(await j("Generate a 3-step morning productivity routine for me with time blocks."),d())},C=async a=>{await x({title:`Apply "${a}" template?`,description:"This will replace all your current tasks with the tasks from this template.",confirmText:"Apply Template",cancelText:"Cancel",type:"warning"})&&(f(a),d())},E=[{title:"Morning Standup",icon:"ðŸ’¼",startTime:"09:00",endTime:"09:30",timeBlock:"Morning",days:["MON","TUE","WED","THU","FRI"]},{title:"Deep Work",icon:"ðŸ’»",startTime:"10:00",endTime:"12:00",timeBlock:"Morning",days:["MON","TUE","WED","THU","FRI"]},{title:"Lunch Break",icon:"ðŸ”",startTime:"12:00",endTime:"13:00",timeBlock:"Noon",days:["MON","TUE","WED","THU","FRI"]}],F=[{title:"Review Notes",icon:"ðŸ“š",startTime:"08:00",endTime:"09:00",timeBlock:"Morning",days:["MON","WED","FRI"]},{title:"Lecture",icon:"ðŸŽ“",startTime:"10:00",endTime:"12:00",timeBlock:"Morning",days:["MON","WED","FRI"]}],G=async(a,b)=>{await x({title:`Apply "${a}" preset?`,description:"This will overwrite all your current tasks with this preset routine.",confirmText:"Apply Preset",cancelText:"Cancel",type:"warning"})&&(i(b.map(a=>({...a,id:(0,u.v4)(),isCompleted:!1,completionHistory:[]}))),d())};return(0,b.jsxs)(l.Modal,{isOpen:a,onClose:d,title:"Routine Templates",children:[(0,b.jsxs)("div",{className:"space-y-8 py-2",children:[(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.03] border border-white/5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-purple-400 mb-2",children:[(0,b.jsx)(q,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-primary",children:"Save Current"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(m.Input,{placeholder:"Name your template...",value:z,onChange:a=>A(a.target.value),className:"bg-black/20 border-white/5 h-12"}),(0,b.jsx)(k.Button,{onClick:()=>{z.trim()&&(e(z),A(""))},disabled:!z.trim(),className:"h-12 w-12 rounded-xl bg-purple-500 hover:bg-purple-600 text-white border-0 shrink-0 shadow-lg",children:(0,b.jsx)(q,{className:"h-5 w-5"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-purple-400",children:[(0,b.jsx)(h.LayoutTemplate,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"My Templates"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 max-h-60 overflow-y-auto pr-2 scrollbar-hide",children:0===Object.keys(g).length?(0,b.jsx)("div",{className:"text-center py-10 rounded-2xl border border-dashed border-white/5 bg-white/[0.01]",children:(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground/40 italic",children:"No saved templates"})}):Object.keys(g).map(a=>(0,b.jsxs)("div",{className:"group flex items-center justify-between rounded-2xl border border-white/5 bg-white/[0.03] p-4 transition-all hover:bg-white/[0.05] hover:border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-lg bg-white/5 flex items-center justify-center text-white/40",children:(0,b.jsx)(s,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"font-bold text-white tracking-tight",children:a})]}),(0,b.jsx)(k.Button,{variant:"ghost",size:"sm",onClick:()=>C(a),className:"rounded-xl bg-white/5 hover:bg-purple-500 hover:text-white transition-all px-4",children:"Apply"})]},a))})]}),(0,b.jsxs)("div",{className:"space-y-4 border-t border-white/5 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground/60",children:[(0,b.jsx)(r.Download,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Global Presets"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{onClick:B,disabled:p,className:"col-span-2 flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 hover:border-purple-500/40 transition-all text-left group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white shadow-lg shadow-purple-500/20 group-hover:scale-110 transition-transform",children:(0,b.jsx)(t.Sparkles,{className:function(...a){return(0,w.twMerge)((0,v.clsx)(a))}("h-5 w-5",p&&"animate-spin")})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-bold text-white block",children:"Magic Routine"}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-purple-400 uppercase opacity-80",children:"AI-Generated"})]})]}),(0,b.jsx)("span",{className:"text-xs font-bold text-white/50 group-hover:text-white transition-colors",children:p?"Generating...":"Generate"})]}),(0,b.jsxs)("button",{onClick:()=>G("Work Day",E),className:"flex flex-col items-start p-4 rounded-2xl bg-white/[0.03] border border-white/5 hover:bg-white/[0.05] transition-all text-left",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-white mb-1",children:"Work Day"}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-muted-foreground uppercase opacity-60",children:"Full Business Routine"})]}),(0,b.jsxs)("button",{onClick:()=>G("Study Session",F),className:"flex flex-col items-start p-4 rounded-2xl bg-white/[0.03] border border-white/5 hover:bg-white/[0.05] transition-all text-left",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-white mb-1",children:"Study Session"}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-muted-foreground uppercase opacity-60",children:"Academic Focus"})]})]})]})]}),y]})};var F=a.i(56025);let G=(0,p.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>G],23312);var H=a.i(73320),I=a.i(81560),J=a.i(20005);let K=(0,p.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),L=(0,p.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var M=a.i(82434),N=a.i(20237);a.i(69387);var O=a.i(60574);let P=({isOpen:a,onClose:d})=>{let{tasks:e,templates:f,replaceAllTasks:g}=(0,n.useTask)(),{user:h,logout:i}=(0,F.useAuth)(),{aiEnabled:j,setAiEnabled:m,aiPlatform:p,setAiPlatform:q}=(0,o.useAI)(),{confirm:s,ConfirmDialogComponent:u}=D(),v=(0,c.useRef)(null),[w,x]=c.default.useState(!0);c.default.useEffect(()=>{a&&h&&(0,O.getDoc)((0,O.doc)(N.db,"users",h.uid)).then(a=>{a.exists()&&x(a.data().isPublic??!0)})},[a,h]);let y=async a=>{x(a),h&&await (0,O.updateDoc)((0,O.doc)(N.db,"users",h.uid),{isPublic:a})},z=async a=>{let b=a.target.files?.[0];if(!b||!h)return;let c=new FileReader;c.onload=async a=>{try{let b=JSON.parse(a.target?.result);if((b.tasks||b.templates)&&await s({title:"Restore backup data?",description:"This will overwrite all your current cloud data with the data from this backup file. This action cannot be undone.",confirmText:"Restore Data",cancelText:"Cancel",type:"warning"})){if(Array.isArray(b.tasks)&&await g(b.tasks),b.templates&&"object"==typeof b.templates){let a=(0,O.writeBatch)(N.db);Object.entries(b.templates).forEach(([b,c])=>{let d=(0,O.doc)(N.db,"users",h.uid,"templates",b);a.set(d,{tasks:c})}),await a.commit()}d()}}catch(a){console.error(a)}},c.readAsText(b),v.current&&(v.current.value="")},A=async()=>{if(h&&await s({title:"Clear ALL cloud data?",description:"This will permanently delete all your tasks and templates from the cloud. This action cannot be undone and your data will be lost forever.",confirmText:"Delete Everything",cancelText:"Keep My Data",type:"danger"}))try{let a=(0,O.writeBatch)(N.db);e.forEach(b=>{a.delete((0,O.doc)(N.db,"users",h.uid,"tasks",b.id))}),Object.keys(f).forEach(b=>{a.delete((0,O.doc)(N.db,"users",h.uid,"templates",b))}),await a.commit(),d()}catch(a){console.error(a)}},[B,C]=(0,c.useState)("default"),[E,P]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"Notification"in window&&C(Notification.permission);try{let a=localStorage.getItem("rt_notifications_enabled");P("true"===a)}catch(a){P(!1)}},[]);let Q=({icon:a,title:c,description:d,children:e})=>(0,b.jsxs)("div",{className:"group space-y-4 p-6 rounded-3xl bg-muted/50 border border-border transition-all hover:bg-muted",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-purple-500/10 text-purple-400 group-hover:scale-110 transition-transform",children:(0,b.jsx)(a,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-foreground tracking-tight",children:c}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground font-medium leading-relaxed",children:d})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:e})]}),R=({enabled:a,onChange:c})=>(0,b.jsx)("button",{onClick:()=>c(!a),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${a?"bg-purple-600":"bg-muted-foreground/30"}`,children:(0,b.jsx)("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform ${a?"translate-x-6":"translate-x-1"}`})}),S=({platform:a,label:c,icon:d})=>(0,b.jsxs)("button",{onClick:()=>q(a),disabled:!j,className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm transition-all ${p===a&&j?"bg-purple-600 text-white shadow-lg shadow-purple-500/20":j?"bg-muted hover:bg-muted-foreground/20 text-foreground":"bg-muted/50 text-muted-foreground cursor-not-allowed opacity-50"}`,children:[d,c]});return(0,b.jsxs)(l.Modal,{isOpen:a,onClose:d,title:"App Settings",children:[(0,b.jsxs)("div",{className:"space-y-6 py-2",children:[(0,b.jsx)(Q,{icon:M.Bot,title:"AI Assistant",description:"Enable or disable the AI assistant and choose your preferred AI platform.",children:(0,b.jsxs)("div",{className:"w-full space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Enable AI Assistant"}),(0,b.jsx)(R,{enabled:j,onChange:m})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"AI Platform"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(S,{platform:"gemini",label:"Gemini",icon:(0,b.jsx)(t.Sparkles,{className:"h-4 w-4"})}),(0,b.jsx)(S,{platform:"groq",label:"Groq (Llama)",icon:(0,b.jsx)(M.Bot,{className:"h-4 w-4"})})]})]})]})}),(0,b.jsx)(Q,{icon:G,title:"Notifications",description:"Get reminded about your tasks before they start. Never miss a routine again.",children:(0,b.jsxs)(Q,{icon:G,title:"Notifications",description:"Get reminded about your tasks before they start. Never miss a routine again.",children:[(0,b.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Enable Task Reminders"}),(0,b.jsx)(R,{enabled:"granted"===B&&E,onChange:a=>{if(a)"Notification"in window&&Notification.requestPermission().then(a=>{if(C(a),"granted"===a){P(!0);try{localStorage.setItem("rt_notifications_enabled","true")}catch(a){}new Notification("RT - Routine Tracker",{body:"Notifications enabled!"})}});else{P(!1);try{localStorage.setItem("rt_notifications_enabled","false")}catch(a){}}}})]}),"denied"===B&&(0,b.jsx)("p",{className:"text-xs text-red-400 mt-2",children:"âš ï¸ Notification permission is blocked in your browser settings. Please enable it manually to receive reminders."})]})}),(0,b.jsxs)(Q,{icon:L,title:"Data Management",description:"Manage your routine data. Export for backup or restore from a previous save.",children:[(0,b.jsxs)(k.Button,{className:"rounded-2xl bg-muted hover:bg-muted-foreground/20 text-foreground border-0 px-6 gap-2",onClick:()=>{let a=new Blob([JSON.stringify({tasks:e,templates:f,version:1,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`rt-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},children:[(0,b.jsx)(r.Download,{className:"h-4 w-4"})," Export"]}),(0,b.jsxs)(k.Button,{className:"rounded-2xl bg-muted hover:bg-muted-foreground/20 text-foreground border-0 px-6 gap-2",onClick:()=>v.current?.click(),children:[(0,b.jsx)(H.Upload,{className:"h-4 w-4"})," Import"]}),(0,b.jsx)("input",{type:"file",accept:".json",className:"hidden",ref:v,onChange:z})]}),(0,b.jsxs)(Q,{icon:K,title:"Account & Safety",description:"Manage your account session and sensitive data. Actions here may be permanent.",children:[(0,b.jsxs)("div",{className:"w-full flex items-center justify-between p-2 rounded-xl bg-purple-500/5 mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-bold text-foreground block",children:"Public Profile"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Show in leaderboard"})]}),(0,b.jsx)(R,{enabled:w,onChange:y})]}),(0,b.jsxs)(k.Button,{className:"rounded-2xl bg-red-500/10 hover:bg-red-500/20 text-red-400 border-0 px-6 gap-2 font-bold",onClick:A,children:[(0,b.jsx)(I.Trash2,{className:"h-4 w-4"})," Clear Cloud Data"]}),(0,b.jsxs)(k.Button,{className:"rounded-2xl bg-muted hover:bg-muted-foreground/20 text-foreground border-0 px-6 gap-2",onClick:()=>i(),children:[(0,b.jsx)(J.LogOut,{className:"h-4 w-4"})," Sign Out"]})]}),(0,b.jsx)("div",{className:"text-center pt-4",children:(0,b.jsx)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest opacity-40",children:"Routine Tracker v1.3.0 â€¢ Pro Edition"})})]}),u]})};var Q=a.i(33441),R=a.i(67453);let S=(0,p.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),T=(0,p.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>T],50522);var U=a.i(41710),V=a.i(1027),W=a.i(20735),X=a.i(56711),Y=a.i(42724);function Z(a){return(0,Y.constructFrom)(a,Date.now())}var $=a.i(57270),_=a.i(67638);function aa(a,b,c){let[d,e]=(0,$.normalizeDates)(c?.in,a,b);return+(0,_.startOfDay)(d)==+(0,_.startOfDay)(e)}a.s(["isSameDay",()=>aa],85579);var ab=a.i(48817),ac=a.i(68114);let ad=()=>{let{notifications:a,groupedNotifications:d,unreadCount:e,unreadByCategory:f,markAsRead:g,markGroupAsRead:h,markAllAsRead:i,clearAll:j,removeNotification:l,executeAction:m,isFocusModeActive:n,suppressUntil:o,getSmartSummary:p}=(0,W.useNotification)(),[q,r]=(0,c.useState)(!1),[s,u]=(0,c.useState)("grouped"),[v,w]=(0,c.useState)(new Set),A=(0,c.useRef)(null),[B,C]=(0,c.useState)("");(0,c.useEffect)(()=>{p().then(C)},[a,p]),(0,c.useEffect)(()=>{let a=a=>{A.current&&!A.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let D=a=>{switch(a){case"success":return(0,b.jsx)(R.CheckCircle2,{className:"h-5 w-5 text-green-500"});case"warning":return(0,b.jsx)(x,{className:"h-5 w-5 text-yellow-500"});case"error":return(0,b.jsx)(y.AlertCircle,{className:"h-5 w-5 text-red-500"});default:return(0,b.jsx)(z,{className:"h-5 w-5 text-blue-500"})}},E=a=>aa((0,Y.constructFrom)(a,a),Z(a))?(0,X.format)(a,"h:mm a"):aa((0,Y.constructFrom)(a,a),(0,ab.subDays)(Z(a),1))?`Yesterday ${(0,X.format)(a,"h:mm a")}`:(0,X.format)(a,"MMM d, h:mm a"),F=(a,b,c)=>{c.stopPropagation(),m(a,b.id)};return(0,c.useMemo)(()=>d.filter(a=>v.has(a.id)).reduce((a,b)=>a+b.notifications.filter(a=>!a.read).length,0),[d,v]),(0,b.jsxs)("div",{className:"relative",ref:A,children:[(0,b.jsxs)(k.Button,{variant:"ghost",size:"icon",onClick:()=>r(!q),className:(0,ac.cn)("relative rounded-xl transition-all",q?"bg-muted text-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(G,{className:(0,ac.cn)("h-6 w-6 transition-transform",q&&"rotate-12",n&&"text-purple-500")}),e>0&&(0,b.jsx)("span",{className:"absolute top-2 right-2 h-2.5 w-2.5 rounded-full bg-red-500 ring-2 ring-background animate-pulse"}),o&&o>Date.now()&&(0,b.jsx)("span",{className:"absolute bottom-1 right-1 h-2 w-2 rounded-full bg-amber-500 ring-1 ring-background"})]}),q&&(0,b.jsxs)("div",{className:"fixed inset-x-4 top-24 md:absolute md:inset-auto md:right-0 md:top-full md:mt-4 w-auto md:w-[28rem] rounded-3xl border border-border bg-background/95 backdrop-blur-2xl shadow-2xl ring-1 ring-black/5 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top md:origin-top-right",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-bold text-foreground",children:"Notifications"}),e>0&&(0,b.jsxs)("span",{className:"rounded-full bg-purple-500/10 px-2.5 py-0.5 text-xs font-bold text-purple-500",children:[e," new"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex bg-muted/50 rounded-lg p-0.5 mr-2",children:[(0,b.jsx)("button",{onClick:()=>u("grouped"),className:(0,ac.cn)("px-2 py-1 rounded-md text-xs font-medium transition-colors","grouped"===s?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:"Grouped"}),(0,b.jsx)("button",{onClick:()=>u("list"),className:(0,ac.cn)("px-2 py-1 rounded-md text-xs font-medium transition-colors","list"===s?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:"List"})]}),e>0&&(0,b.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:i,className:"h-8 text-xs text-muted-foreground hover:text-foreground",title:"Mark all as read",children:[(0,b.jsx)(Q.Check,{className:"h-4 w-4 mr-1"})," Mark all"]}),a.length>0&&(0,b.jsx)(k.Button,{variant:"ghost",size:"sm",onClick:j,className:"h-8 text-xs text-red-400 hover:text-red-500 hover:bg-red-500/10",title:"Clear all",children:(0,b.jsx)(I.Trash2,{className:"h-4 w-4"})})]})]}),B&&e>0&&(0,b.jsx)("div",{className:"px-4 py-2 bg-purple-500/5 border-b border-border/30",children:(0,b.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:["âœ¨ ",B]})}),n&&(0,b.jsxs)("div",{className:"px-4 py-2 bg-amber-500/10 border-b border-border/30 flex items-center gap-2",children:[(0,b.jsx)(V.Zap,{className:"h-4 w-4 text-amber-500"}),(0,b.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Focus Mode active - Notifications suppressed"})]}),(0,b.jsx)("div",{className:"max-h-[60vh] overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:0===a.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)(G,{className:"h-12 w-12 text-muted-foreground/20 mb-4"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:"No notifications"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"You're all caught up!"})]}):"grouped"===s?(0,b.jsx)("div",{className:"divide-y divide-border/30",children:d.map(a=>{let c=a.notifications.filter(a=>!a.read).length,d=v.has(a.id);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void w(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},className:"w-full flex items-center gap-3 p-4 hover:bg-muted/30 transition-colors",children:[(0,b.jsx)("div",{className:"shrink-0",children:(a=>{switch(a){case"task":return(0,b.jsx)(V.Zap,{className:"h-4 w-4 text-amber-500"});case"achievement":return(0,b.jsx)(t.Sparkles,{className:"h-4 w-4 text-purple-500"});case"reminder":return(0,b.jsx)(U.Clock,{className:"h-4 w-4 text-blue-500"});case"system":return(0,b.jsx)(z,{className:"h-4 w-4 text-gray-500"});case"social":return(0,b.jsx)(G,{className:"h-4 w-4 text-pink-500"});default:return null}})(a.type)||(0,b.jsx)(G,{className:"h-4 w-4 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:a.title}),c>0&&(0,b.jsx)("span",{className:"rounded-full bg-purple-500/10 px-2 py-0.5 text-xs font-bold text-purple-500",children:c})]}),(0,b.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:[a.notifications.length," notification",a.notifications.length>1?"s":""]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[c>0&&(0,b.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),h(a.id)},className:"h-6 px-2 text-[10px] text-purple-500 hover:text-purple-600",children:[(0,b.jsx)(Q.Check,{className:"h-3 w-3 mr-1"}),"Read all"]}),d?(0,b.jsx)(T,{className:"h-4 w-4 text-muted-foreground"}):(0,b.jsx)(S,{className:"h-4 w-4 text-muted-foreground"})]})]}),!d&&(0,b.jsxs)("div",{className:"bg-muted/10 divide-y divide-border/20",children:[a.notifications.slice(0,5).map(a=>(0,b.jsx)(ae,{notification:a,onMarkAsRead:g,onRemove:l,onAction:F,formatTimestamp:E,getIcon:D},a.id)),a.notifications.length>5&&(0,b.jsx)("div",{className:"p-3 text-center",children:(0,b.jsxs)(k.Button,{variant:"ghost",size:"sm",className:"text-xs text-muted-foreground hover:text-foreground",children:["View ",a.notifications.length-5," more"]})})]})]},a.id)})}):(0,b.jsx)("div",{className:"divide-y divide-border/30",children:a.map(a=>(0,b.jsx)(ae,{notification:a,onMarkAsRead:g,onRemove:l,onAction:F,formatTimestamp:E,getIcon:D},a.id))})})]})]})},ae=({notification:a,onMarkAsRead:d,onRemove:e,onAction:f,formatTimestamp:g,getIcon:h})=>{let[i,j]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:(0,ac.cn)("group relative flex gap-4 p-4 transition-colors hover:bg-muted/40",!a.read&&"bg-purple-500/5 hover:bg-purple-500/10"),children:[(0,b.jsx)("div",{className:"mt-1 shrink-0",children:h(a.type||"info")}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)("p",{className:(0,ac.cn)("text-sm font-medium leading-none",a.read?"text-muted-foreground":"text-foreground"),children:a.title}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap shrink-0",children:g(a.timestamp)})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:[i?a.message:a.message.slice(0,100),a.message.length>100&&(0,b.jsx)("button",{onClick:()=>j(!i),className:"ml-1 text-purple-500 hover:underline",children:i?"Show less":"Show more"})]}),a.actions&&a.actions.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 pt-1",children:a.actions.slice(0,3).map(c=>(0,b.jsx)("button",{onClick:b=>f(a.id,c,b),className:(0,ac.cn)("px-2 py-1 text-[10px] font-medium rounded-md transition-colors","complete"===c.type&&"bg-green-500/10 text-green-600 hover:bg-green-500/20","snooze"===c.type&&"bg-amber-500/10 text-amber-600 hover:bg-amber-500/20","dismiss"===c.type&&"bg-gray-500/10 text-gray-600 hover:bg-gray-500/20","link"===c.type&&"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20"),children:c.label},c.id))}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!a.read&&(0,b.jsx)("button",{onClick:()=>d(a.id),className:"text-[10px] font-medium text-purple-500 hover:underline",children:"Mark as read"}),(0,b.jsx)("button",{onClick:()=>e(a.id),className:"text-[10px] font-medium text-red-500 hover:underline",children:"Remove"})]})]}),!a.read&&(0,b.jsx)("div",{className:"absolute top-4 right-4 h-2 w-2 rounded-full bg-purple-500"})]})};var af=a.i(77532);let ag=()=>{let{theme:a,setTheme:l}=(0,j.useTheme)(),{toggleSidebar:m}=(0,af.useUI)(),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("header",{className:"sticky top-0 z-40 flex h-20 items-center justify-between border-b border-border bg-background/80 px-6 backdrop-blur-xl md:px-12",children:[(0,b.jsxs)(d.default,{href:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,b.jsx)("img",{src:"/logo.jpg",alt:"RT Logo",className:"h-11 w-11 rounded-xl shadow-lg shadow-purple-500/20"}),(0,b.jsx)("h1",{className:"text-xl font-bold tracking-tight text-foreground hidden sm:block",children:"Routine Tracker"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(ad,{}),(0,b.jsxs)(k.Button,{variant:"ghost",size:"icon",onClick:()=>{l("dark"===a?"light":"dark")},className:"hidden md:flex relative rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all",children:[(0,b.jsx)(f.Sun,{className:"h-5 w-5 scale-0 transition-all dark:scale-100"}),(0,b.jsx)(e.Moon,{className:"absolute h-5 w-5 scale-100 transition-all dark:scale-0"})]}),(0,b.jsxs)(d.default,{href:"/marketplace",className:"hidden md:flex items-center gap-2 rounded-xl px-3 py-2 text-muted-foreground hover:bg-muted hover:text-foreground transition-all",children:[(0,b.jsx)(h.LayoutTemplate,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"hidden md:inline text-sm font-medium",children:"Templates"})]}),(0,b.jsxs)(k.Button,{variant:"ghost",onClick:()=>q(!0),size:"icon",className:"rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all px-3 md:w-auto",children:[(0,b.jsx)(g.Settings,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"hidden md:inline text-sm font-medium ml-2",children:"Settings"})]}),(0,b.jsx)(k.Button,{onClick:m,className:"h-14 w-14 rounded-2xl shadow-2xl bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0 transition-transform active:scale-90 p-0 flex items-center justify-center",children:(0,b.jsx)(i.Menu,{className:"w-6 h-6"})})]})]}),(0,b.jsx)(E,{isOpen:n,onClose:()=>o(!1)}),(0,b.jsx)(P,{isOpen:p,onClose:()=>q(!1)})]})};a.s(["Header",()=>ag],20238)}];

//# sourceMappingURL=_7a3349da._.js.map